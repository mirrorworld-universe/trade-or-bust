System.register("chunks:///_virtual/account.ts",["./rollupPluginModLoBabelHelpers.js","cc","./string_utils.ts"],(function(t){var e,n,r,i,o,a,c,l,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label,l=t.sys,s=t.Component},function(t){u=t.string_utils}],execute:function(){var p,f,y,d,g;o._RF.push({},"92d16ivPvNLGL7sQMLsG5AV","account",void 0);var h=a.ccclass,v=a.property;t("account",(p=h("account"),f=v({type:c}),p((g=e((d=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"labelName",g,i(e)),e}n(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},o.init=function(t){this.labelName.string=t},o.onLogoutClicked=function(){},o.onExploreClicked=function(){var t="https://explorer.testnet-chain.linfra.xyz/address/"+u.removeLeadingZeros(globalThis.ponzi.currentPlayer);l.openURL(t)},e}(s)).prototype,"labelName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=d))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/assets.ts",["./rollupPluginModLoBabelHelpers.js","cc","./string_utils.ts","./ponzi-controller.ts","./ccc_msg.ts"],(function(t){var e,i,n,o,r,s,l,a,c,u,p,g,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,l=t._decorator,a=t.Node,c=t.Label,u=t.Component},function(t){p=t.string_utils},function(t){g=t.ponzi_controller},function(t){d=t.ccc_msg}],execute:function(){var f,v,b,h,m;s._RF.push({},"8d2d7pnxfpJH4azfkHcbVBH","assets",void 0);var y=l.ccclass,_=l.property,w=(t("assets",(f=y("assets"),v=_({type:a}),f((m=e((h=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"labelParent",m,o(e)),e._inited=!1,e}i(e,t);var s=e.prototype;return s.start=function(){},s.update=function(t){this._inited||this.init()},s.init=function(){(null==window.getAssetsList?void 0:window.getAssetsList())&&(this._inited=!0,this.updateUI(),this.registerListeners())},s.registerListeners=function(){var t=this;g.instance.on(d.on_assetslist_update,(function(){t.updateUI()}))},s.updateUI=function(){var t=null==window.getAssetsList?void 0:window.getAssetsList();if(t){var e=new w,i=globalThis.ponzi.currentPlayer;for(var n in t)for(var o,s=t[n],l=r(s);!(o=l()).done;){var a=o.value,c=a[0],u=a[1];if(console.log(n,c,u),i==p.getHashFromSymbol(c))if("gpu"==n){var g=Number(u);e.gpu=g}else if("bitcoin"==n){var d=Number(u);e.bitcoin=d}else if("battery"==n){var f=Number(u);e.battery=f}else if("leiter"==n){var v=Number(u);e.leiter=v}else if("gold"==n){var b=Number(u);e.gold=b}else if("oil"==n){var h=Number(u);e.oil=h}}this.initWithObj(e)}},s.initWithObj=function(t){console.log("myObj:",t);var e=this.labelParent.children;e[0].getComponent(c).string=t.gpu,e[1].getComponent(c).string=t.bitcoin,e[2].getComponent(c).string=t.battery,e[3].getComponent(c).string=t.leiter,e[4].getComponent(c).string=t.gold,e[5].getComponent(c).string=t.oil},e}(u)).prototype,"labelParent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=h))||b)),function(){this.gpu=void 0,this.bitcoin=void 0,this.battery=void 0,this.leiter=void 0,this.gold=void 0,this.oil=void 0});s._RF.pop()}}}));

System.register("chunks:///_virtual/button_raisingcapital.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ponzi-controller.ts","./ccc_msg.ts","./time_utils.ts","./component_state.ts","./ponzi_config.ts"],(function(t){var e,n,i,r,a,o,s,u,c,l,p,h,m,f,d,b,w,v,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.Label,l=t.Button,p=t.log,h=t.sys,m=t.Component,f=t.warn},function(t){d=t.ponzi_controller},function(t){b=t.ccc_msg},function(t){w=t.time_utils},function(t){v=t.component_state},function(t){g=t.ponzi_config}],execute:function(){var _,y,T,k,x,C,z;s._RF.push({},"534b2tDzAlF7JnGIhuhuB56","button_raisingcapital",void 0);var L=u.ccclass,R=u.property;t("button_raisingcapital",(_=L("button_raisingcapital"),y=R({type:c}),T=R({type:l}),_((C=e((x=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"label",C,r(e)),i(e,"button",z,r(e)),e._inited=!1,e.leftTime=void 0,e.endTime=void 0,e.startTime=void 0,e.timer=void 0,e}n(e,t);var s=e.prototype;return s.start=function(){},s.update=function(){var t=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._inited){t.next=3;break}return t.next=3,this.init();case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.onBtnClicked=function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.instance.sendCCCMsg(b.show_pick_asset,!0);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.init=function(){var t=a(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(globalThis.ponzi.gameState==v.game_ingame){t.next=3;break}return t.abrupt("return");case 3:if(e=globalThis.ponzi.currentPlayer){t.next=6;break}return t.abrupt("return");case 6:return n=null,t.prev=7,t.next=10,null==window.queryValue?void 0:window.queryValue(window.env.components.RaiseColddown,e);case 10:n=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),p("Can not find RaiseColddown component on entity");case 16:if(n){t.next=18;break}return t.abrupt("return");case 18:return this._inited=!0,t.next=21,this.updateUI();case 21:this._registerListeners();case 22:case"end":return t.stop()}}),t,this,[[7,13]])})));return function(){return t.apply(this,arguments)}}(),s.updateUI=function(){var t=a(o().mark((function t(){var e,n,i,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=globalThis.ponzi.currentPlayer,n=null,t.prev=2,t.next=5,null==window.queryValue?void 0:window.queryValue(window.env.components.RaiseColddown,e);case 5:n=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),p("Can not get raisecolddown component on entity");case 11:if(n){t.next=13;break}return t.abrupt("return");case 13:i=h.now()/1e3,r=Number(n.end),f("btn_raise:",i,r),r<i?(this.label.string="Capital Raise",this.button.interactable=!0):(this.label.node.active=!0,this.button.interactable=!1,this.leftTime=r-i,this.startTime=Number(n.start),this.endTime=Number(n.end),this.startCountDownAnimation());case 17:case"end":return t.stop()}}),t,this,[[2,8]])})));return function(){return t.apply(this,arguments)}}(),s._registerListeners=function(){var t=this;d.instance.on(b.on_raisecolddown_update,(function(e){t.updateUI()}))},s.startCountDownAnimation=function(){var t=this,e=this.endTime-1;this.unschedule(this.minuesTimeLabel),this.schedule(this.minuesTimeLabel,1,e,0),clearTimeout(this.timer),p("Start a timer within",this.leftTime),this.timer=setTimeout((function(){t.updateUI(),t.unschedule(t.minuesTimeLabel)}),1e3*this.leftTime)},s.minuesTimeLabel=function(){var t=h.now()/1e3,e=this.endTime,n=this.startTime;this.label.string=w.calculateRemainingTimeOnlyMinutes(t,e,n,g.fakeBlockTime)},e}(m)).prototype,"label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(x.prototype,"button",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=x))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/bytes_utils.ts",["cc"],(function(t){var r,n;return{setters:[function(t){r=t.cclegacy,n=t.log}],execute:function(){r._RF.push({},"1d0530WzXxL4qvSX/MEFrl0","bytes_utils",void 0);t("bytes_utils",function(){function t(){}return t.decodeTradeListItem=function(t){if(n("encodedBytes is ",t),!t)return null;var r=t.slice(2);if(!r)return null;var e=r.length;n(e);var i=64,s=0;r.substring(s,s+i);s+=i;var u=r.substring(s,s+i);s+=i;var o=r.substring(s,s+i);s+=i;var a=r.substring(s,s+i);s+=i;var c=r.substring(s,s+i);return{index:Number(this.hexToBinary(u)),isPresenter:1===Number(this.hexToBinary(o)),isSuccess:1===Number(this.hexToBinary(a)),partner:"0x"+c}},t.hexToBinary=function(t){for(var r=t.slice(2),n="",e=0;e<r.length;e++){var i=r[e],s=parseInt(i,16).toString(2);n+="0".repeat(4-s.length)+s}return n},t.byteArrayToHexString=function(t){return t.map((function(t){return t.toString(16).length%2==0?t.toString(16):"0"+t.toString(16)})).join("")},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ccc_msg.ts",["cc"],(function(_){var a;return{setters:[function(_){a=_.cclegacy}],execute:function(){a._RF.push({},"59d27HvRm5NarxwrmaHORg8","ccc_msg",void 0);var e=_("ccc_msg",(function(){}));e.on_player_add="on_player_add",e.on_player_update="on_player_update",e.on_game_update="on_game_update",e.on_gamestate_update="on_gamestate_update",e.on_gamemap_update="on_gamemap_update",e.on_gamemap_walkrecord_update="on_gamemap_walkrecord_update",e.on_mapitem_update="on_mapitem_update",e.on_isplayer_update="on_isplayer_update",e.network_block_ui="network_block_ui",e.single_button_dialog="single_button_dialog",e.show_pick_asset="show_pick_asset",e.show_pick_fund="show_pick_fund",e.show_rules="show_rules",e.show_trade="show_trade",e.show_trade_ask="show_trade_ask",e.show_trade_input="show_trade_input",e.show_rank="show_rand",e.on_raisecolddown_update="on_raisecolddown_update",e.on_assetslist_update="on_assetslist_update",a._RF.pop()}}}));

System.register("chunks:///_virtual/changing_ellipses.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n,l,s,r,a,o;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,l=i.assertThisInitialized},function(i){s=i.cclegacy,r=i._decorator,a=i.Label,o=i.Component}],execute:function(){var p,c,u,h,f;s._RF.push({},"9cb46RSpf1AAa6ibWoXrpH1","changing_ellipses",void 0);var b=r.ccclass,g=r.property;i("changing_ellipses",(p=b("changing_ellipses"),c=g(a),p((f=t((h=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return t=i.call.apply(i,[this].concat(s))||this,n(t,"label",f,l(t)),t.ellipsisCount=0,t.timer=null,t}e(t,i);var s=t.prototype;return s.onEnable=function(){this.startEllipsisAnimation()},s.onDisable=function(){this.stopEllipsisAnimation()},s.updateLabel=function(i){this.label.string=i+".".repeat(this.ellipsisCount)},s.startEllipsisAnimation=function(){var i=this;this.timer=setInterval((function(){i.ellipsisCount=(i.ellipsisCount+1)%4,i.updateLabel(i.label.string.replace(/\.*$/,""))}),500)},s.stopEllipsisAnimation=function(){clearInterval(this.timer),this.timer=null},t}(o)).prototype,"label",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=h))||u));s._RF.pop()}}}));

System.register("chunks:///_virtual/component_state.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"38324j/AvxLkoz63j/B2dvp","component_state",void 0);var n=e("component_state",(function(){}));n.player_inlobby=1,n.player_ingame=2,n.game_waiting=1,n.game_ingame=2,t._RF.pop()}}}));

System.register("chunks:///_virtual/coor_utils.ts",["cc"],(function(f){var o;return{setters:[function(f){o=f.cclegacy}],execute:function(){o._RF.push({},"bff6aGdFNBMKpL9ymzamZne","coor_utils",void 0);f("coor_utils",function(){function f(){}return f.getNeighboringHexes=function(f,o){for(var r=f%2==0?[{rowOff:0,colOff:1},{rowOff:0,colOff:-1},{rowOff:1,colOff:-1},{rowOff:-1,colOff:-1},{rowOff:1,colOff:0},{rowOff:-1,colOff:0}]:[{rowOff:0,colOff:-1},{rowOff:0,colOff:1},{rowOff:1,colOff:0},{rowOff:-1,colOff:0},{rowOff:1,colOff:1},{rowOff:-1,colOff:1}],c=[],O=0;O<r.length;O++){var t=r[O],l=f+t.rowOff,n=o+t.colOff;c.push({row:l,col:n})}return c},f}());o._RF.pop()}}}));

System.register("chunks:///_virtual/counter-label.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ponzi-controller.ts"],(function(n){var o,t,e,i,c,l,r;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,e=n._decorator,i=n.Label,c=n.log,l=n.Component},function(n){r=n.ponzi_controller}],execute:function(){var u;t._RF.push({},"c8007sglyBNMIgtqDRM0y2U","counter-label",void 0);var s=e.ccclass;e.property,n("counter_label",s("counter_label")(u=function(n){function t(){for(var o,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(o=n.call.apply(n,[this].concat(e))||this).inited=!1,o}o(t,n);var e=t.prototype;return e.start=function(){},e.init=function(){var n;if(null!=(n=globalThis.ponzi)&&n.counter){this.inited=!0,this.node.getComponent(i).string="New count is:"+globalThis.ponzi.counter.value;var o=this;r.instance.on("ccc_counter_value",(function(n){o.node.getComponent(i).string="New count is:"+n}))}else c("counter is not prepared!")},e.update=function(n){this.inited||this.init()},e.onBtnAddClicked=function(){console.log("onBtnAddClicked clicked!"),null==window.increment||window.increment()},e.onBtnAddRoomClicked=function(){console.log("onBtnAddRoomClicked clicked!"),null==window.createRoom||window.createRoom()},t}(l))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/data_center.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var a,t,o,r;return{setters:[function(e){a=e.createClass},function(e){t=e.cclegacy,o=e.warn,r=e.sys}],execute:function(){t._RF.push({},"fe2486vschNp7nd3k0xklcP","data_center",void 0),e("data_center",function(){function e(){this._mapRecordKey="map_record_key_",this._lastRecordGameIdKey="_lastRecordGameId"}var t=e.prototype;return t.data_center=function(){},t.saveMapWalkRecord=function(e){var a=globalThis.ponzi.game;if(a){r.localStorage.setItem(this._lastRecordGameIdKey,a.gameId);var t=JSON.stringify(e);r.localStorage.setItem(this._mapRecordKey+a.gameId,t)}else o("No gameobj when saving map record")},t.loadMapWalkRecord=function(){var e=globalThis.ponzi.game;if(!e)return o("No gameobj when loading map record"),null;var a=r.localStorage.getItem(this._mapRecordKey+e.gameId);if(a)return JSON.parse(a);var t=[];return this.saveMapWalkRecord(t),t},t.deleteMapWalkRecord=function(){console.log("deleteMapWalkRecord enter function");var e=globalThis.ponzi.game;if(!e)return o("No gameobj when loading map record"),null;console.log("Delete map walk record ",this._mapRecordKey+e.gameId),r.localStorage.removeItem(this._mapRecordKey+e.gameId)},t.getLastRecordGameId=function(){return r.localStorage.getItem(this._lastRecordGameIdKey)},a(e,null,[{key:"instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/fake.ts",["./rollupPluginModLoBabelHelpers.js","cc","./account.ts","./string_utils.ts"],(function(n){var t,i,e,o,r,c,a,s,u,l,d,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,c=n._decorator,a=n.Node,s=n.Vec3,u=n.tween,l=n.Component},function(n){d=n.account},function(n){f=n.string_utils}],execute:function(){var h,w,p,W,v;r._RF.push({},"dfe33WqxXdOKZJZWnNWQDYW","fake",void 0);var y=c.ccclass,_=c.property;n("fake",(h=y("fake"),w=_({type:a}),h((v=t((W=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=n.call.apply(n,[this].concat(r))||this,e(t,"fakeWindowParent",v,o(t)),t._currentWindow=null,t}i(t,n);var r=t.prototype;return r.start=function(){},r.update=function(n){},r.hideAllWidnows=function(){this.fakeWindowParent.children.forEach((function(n){n.active=!1}))},r.onCloseClicked=function(){this.hideWindow()},r.showFakeWindow=function(n,t){this.node.active=!0;var i=n.worldPosition,e=this.fakeWindowParent.children;e.forEach((function(n){n.active=!1}));var o=e[t];if(o.worldPosition=new s(i.x+30,i.y-40,0),e.forEach((function(n){n.active=n===o})),this.showWindow(o),0==t){var r=o.getComponent(d),c=globalThis.ponzi.currentPlayer;r.init(f.truncateString(c))}},r.showWindow=function(n){this._currentWindow=n,this._currentWindow.scale=new s(.96,.96,1),u(this._currentWindow).to(.02,{scale:s.ONE}).start()},r.hideWindow=function(){var n=this;this._currentWindow.scale=new s(1,1,1),u(this._currentWindow).to(.02,{scale:new s(.94,.94,1)}).call((function(){n.node.active=!1})).start()},t}(l)).prototype,"fakeWindowParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=W))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/FakeMessageCenter.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e._decorator}],execute:function(){var s,a;t._RF.push({},"8c811sdB9lJhrQ4jI2GzBIO","FakeMessageCenter",void 0);var r=n.ccclass;n.property,e("FakeMessageCenter",r("FakeMessageCenter")(((a=function(){function e(){this.Broardcast=void 0,this.game=void 0,this.gameMap=void 0}return e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.FakeMessageCenter=function(){},e}()).instance=null,s=a))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/fond_card.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,a,n,r,l,o,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.Label,c=e.Node,u=e.Component}],execute:function(){var p,s,b,f,y,d,g,h,m,v,z,R,_;r._RF.push({},"a39ac4RE2RKH5ziPVHx+KK9","fond_card",void 0);var w=l.ccclass,T=l.property;e("fond_card",(p=w("foud_card"),s=T({type:o}),b=T({type:o}),f=T({type:o}),y=T({type:o}),d=T({type:c}),p((m=t((h=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,a(t,"labelFund",m,n(t)),a(t,"labelTime",v,n(t)),a(t,"labelRepay",z,n(t)),a(t,"labelRate",R,n(t)),a(t,"chosenTag",_,n(t)),t}i(t,e);var r=t.prototype;return r.start=function(){},r.update=function(e){},r.init=function(){},r.setChosen=function(e){this.chosenTag.active=e},t}(u)).prototype,"labelFund",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(h.prototype,"labelTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(h.prototype,"labelRepay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(h.prototype,"labelRate",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(h.prototype,"chosenTag",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=h))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/game_countdown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./time_utils.ts","./ponzi_config.ts","./component_state.ts","./ponzi-controller.ts","./ccc_msg.ts"],(function(t){var e,n,i,o,a,s,c,r,u,l,p,_,g,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,c=t.Label,r=t.sys,u=t.Component},function(t){l=t.time_utils},function(t){p=t.ponzi_config},function(t){_=t.component_state},function(t){g=t.ponzi_controller},function(t){m=t.ccc_msg}],execute:function(){var f,d,h,b,y;a._RF.push({},"6a488WYpMlOrbSBAAWn+CO1","game_countdown",void 0);var v=s.ccclass,z=s.property;t("game_countdown",(f=v("game_countdown"),d=z({type:c}),f((y=e((b=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(e,"label",y,o(e)),e._inited=!1,e}n(e,t);var a=e.prototype;return a.start=function(){},a.update=function(t){this._inited||this.init()},a.init=function(){globalThis.ponzi.game&&(this._inited=!0,this._updateUI(),this._registerListeners())},a._registerListeners=function(){var t=this;g.instance.on(m.on_gamestate_update,(function(e){t._updateUI()}))},a._updateUI=function(){globalThis.ponzi.gameState==_.game_ingame&&(this.unschedule(this._updateLabel),this.schedule(this._updateLabel))},a._updateLabel=function(){var t=globalThis.ponzi.game;if(t){var e=Number(t.startTime),n=Number(t.endTime),i=r.now()/1e3,o=l.calculateRemainingTime(i,n,e,p.fakeBlockTime);this.label.string=o}},e}(u)).prototype,"label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/game_ui_controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ponzi-controller.ts","./ccc_msg.ts","./fake.ts"],(function(n){var e,t,r,o,i,c,a,s,u,l,d,p,f,k;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,o=n.assertThisInitialized,i=n.asyncToGenerator,c=n.regeneratorRuntime},function(n){a=n.cclegacy,s=n._decorator,u=n.sys,l=n.warn,d=n.Component},function(n){p=n.ponzi_controller},function(n){f=n.ccc_msg},function(n){k=n.fake}],execute:function(){var g,h,w,C,_;a._RF.push({},"c12da80TohPu6Sg2EzMf/Fw","game_ui_controller",void 0);var b=s.ccclass,v=s.property;n("game_ui_controller",(g=b("game_ui_controller"),h=v({type:k}),g((_=e((C=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i))||this,r(e,"fakeMgr",_,o(e)),e}t(e,n);var a=e.prototype;return a.start=function(){this.fakeMgr.node.active=!1},a.update=function(n){},a.onRuleClicked=function(){u.openURL("https://www.notion.so/mirrorworldfun/Trade-or-Bust-Rules-953378b93b8f4d73b586d44e678bd9d8")},a.onPickCoinClicked=function(){var n=i(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p.instance.sendCCCMsg(f.network_block_ui,!0),n.prev=1,n.next=4,null==window.pickCoin?void 0:window.pickCoin();case 4:p.instance.sendCCCMsg(f.single_button_dialog,{content:"You gain some money!",btnText:"OK"}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),p.instance.sendCCCMsg(f.single_button_dialog,{content:"There is nothing on your cell.",btnText:"OK"});case 10:return n.prev=10,p.instance.sendCCCMsg(f.network_block_ui,!1),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[1,7,10,13]])})));return function(){return n.apply(this,arguments)}}(),a.onSearchPartnerClicked=function(){var n=i(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("onSearchPartnerClicked clicked"),p.instance.sendCCCMsg(f.network_block_ui,!0),n.prev=2,n.next=5,null==window.searchPartner?void 0:window.searchPartner();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),p.instance.sendCCCMsg(f.single_button_dialog,{content:"There is nobody in 2 distance with you.",btnText:"OK"});case 10:return n.prev=10,p.instance.sendCCCMsg(f.network_block_ui,!1),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[2,7,10,13]])})));return function(){return n.apply(this,arguments)}}(),a.onCovertTradeClicked=function(){p.instance.sendCCCMsg(f.show_trade,!0)},a.onGameFinishClicked=function(){var n=i(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return p.instance.sendCCCMsg(f.network_block_ui,!0),n.prev=1,n.next=4,null==window.finishGame?void 0:window.finishGame();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),p.instance.sendCCCMsg(f.single_button_dialog,{content:"The end game encountered a problem.",btnText:"OK"});case 9:return n.prev=9,p.instance.sendCCCMsg(f.network_block_ui,!1),n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[1,6,9,12]])})));return function(){return n.apply(this,arguments)}}(),a.onTitleIconsClicked=function(n){var e=n.target,t=e.name;"account"==t?this.fakeMgr.showFakeWindow(e,0):"partners"==t?this.fakeMgr.showFakeWindow(e,4):"repay"==t?this.fakeMgr.showFakeWindow(e,3):"fund"==t?this.fakeMgr.showFakeWindow(e,2):"assets"==t?this.fakeMgr.showFakeWindow(e,1):l("Unknown title button name:",t)},e}(d)).prototype,"fakeMgr",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=C))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"60250BBLnlPmIeHEjeK6uam","GameData",void 0);t("GameData",(function(){this.gameId=void 0,this.startTime=void 0,this.endTime=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/HexMapTile.ts",["cc"],(function(i){var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"e387c/xNDNOuKwNp+PrfiY+","HexMapTile",void 0);i("HexMapTile",(function(){this.x=void 0,this.y=void 0,this.emoji=void 0,this.row=void 0,this.col=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/item_asset.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,a,o,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.Component}],execute:function(){var c,u,p,f,y;a._RF.push({},"adce7lj+XBP05NuRPKO3PVd","item_asset",void 0);var d=o.ccclass,_=o.property;e("item_asset",(c=d("item_asset"),u=_({type:s}),c((y=t((f=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"label",y,n(t)),t}r(t,e);var a=t.prototype;return a.start=function(){},a.update=function(e){},t}(l)).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/JsCaller.ts",["cc"],(function(n){var t,e;return{setters:[function(n){t=n.cclegacy,e=n._decorator}],execute:function(){var c,r;t._RF.push({},"da8c9cEXPBCPbvJSCuGyRd8","JsCaller",void 0);var s=e.ccclass;e.property,n("JsCaller",s("JsCaller")(((r=function(){function n(){}return n.getInstance=function(){return this.instance||(this.instance=new n),this.instance},n.prototype.JsCaller=function(){},n}()).instance=null,c=r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/list_utils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"e3e13ubvmhH06LuQi5BMWln","list_utils",void 0);t("list_utils",function(){function t(){}return t.getExtraStrings=function(t,r){if(!t)return r;for(var n,u=new Set(t),i=[],s=e(r);!(n=s()).done;){var o=n.value;u.has(o)||i.push(o)}return i},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/lobby-controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./component_state.ts","./ponzi-controller.ts","./ccc_msg.ts","./string_utils.ts"],(function(e){var t,n,r,i,a,o,s,c,u,l,m,b,h,p,f,g,d,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Label,l=e.Node,m=e.Component,b=e.log,h=e.sys,p=e.warn},function(e){f=e.component_state},function(e){g=e.ponzi_controller},function(e){d=e.ccc_msg},function(e){w=e.string_utils}],execute:function(){var y,v,T,G,L,k,N,_,C,x,S,P,z,M,I,D,A;s._RF.push({},"9aed4LIkbtB8b7eNgSv/Q/O","lobby-controller",void 0);var B=c.ccclass,R=c.property;e("lobby_controller",(y=B("lobby_controller"),v=R({type:u}),T=R({type:u}),G=R({type:l}),L=R({type:l}),k=R({type:u}),N=R({type:l}),_=R({type:l}),y((S=t((x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"countDownLabel",S,i(t)),r(t,"contentLabel",P,i(t)),r(t,"btnJoinGame",z,i(t)),r(t,"btnTriggerGame",M,i(t)),r(t,"welcomeLabel",I,i(t)),r(t,"lobbyNode",D,i(t)),r(t,"gameNode",A,i(t)),t.IsPlayerButGameNotStart="The Round Has Not Started Yet",t.NotPlayerButGameIsStart="Game is started, just waiting for entering game!",t.IsPlayerGameReachTimeButNotStart='The Game Has Already Started, Please Click "Play" To Begin.',t.NotPlayerAndGameNotReachTime="Game is not start, just join us!",t.welcomeInited=!1,t.inited=!1,t.timer=null,t.leftTime=void 0,t}n(t,e);var s=t.prototype;return s.start=function(){},s.update=function(){var e=a(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inited){e.next=3;break}return e.next=3,this.initLobby();case 3:if(this.welcomeInited){e.next=6;break}return e.next=6,this.initWelcome();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onRulesClicked=function(){g.instance.sendCCCMsg(d.show_rules,!0)},s.onJoinGameClicked=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.instance.sendCCCMsg(d.network_block_ui,!0),e.next=3,null==window.joinGame?void 0:window.joinGame();case 3:g.instance.sendCCCMsg(d.network_block_ui,!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.onTriggerGameClicked=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.triggerGame();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.initWelcome=function(){var e=a(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=globalThis.ponzi.currentPlayer){e.next=3;break}return e.abrupt("return");case 3:this.welcomeInited=!0,n=w.getHashFromSymbol(t),this.welcomeLabel.string="Welcome, "+w.sliceLastN(n,8)+"!";case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.initLobby=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:globalThis.ponzi.game&&(globalThis.ponzi.gameState,this.inited=!0,this.updateLobby(),this.registerListeners());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.triggerGame=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.instance.sendCCCMsg(d.network_block_ui,!0),e.next=3,null==window.askStart?void 0:window.askStart();case 3:g.instance.sendCCCMsg(d.network_block_ui,!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.startCountdownAnimator=function(){var e=a(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this,this.startCountDownAnimation(t),clearTimeout(this.timer),b("start timer:",1e3*t),this.timer=setTimeout(a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.updateLobby();case 1:case"end":return e.stop()}}),e)}))),1e3*t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.updateLobby=function(){var e=a(o().mark((function e(){var t,n,r,i,a,s,c,u,l,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=globalThis.ponzi.gameState,n=globalThis.ponzi.game){e.next=5;break}return p("No game obj when update lobby"),e.abrupt("return");case 5:return r=!1,e.prev=6,i=globalThis.ponzi.currentPlayer,e.next=10,null==window.queryValue?void 0:window.queryValue(window.env.components.IsPlayer,i);case 10:r=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),r=!1;case 16:t==f.game_ingame?r?(b("ingame+isPlayer"),this.showGameNode(),this.btnJoinGame.active=!1,this.btnTriggerGame.active=!1):(this.showLobbyNode(),b("ingame+notPlayer"),this.contentLabel.string=this.NotPlayerButGameIsStart,this.btnJoinGame.active=!0,this.btnTriggerGame.active=!1):t==f.game_waiting&&(this.showLobbyNode(),a=h.now(),a=Number(a)/1e3,s=Number(n.startTime),c=Math.floor(s-a),r?(this.contentLabel.string="Game is started, just enter game!",this.btnJoinGame.active=!1,this.btnTriggerGame.active=!1,u=h.now(),u=Number(u)/1e3,l=Number(n.startTime),(m=Math.floor(l-u))>0?(b("gameWaiting+isPlayer+notStart"),this.contentLabel.string=this.IsPlayerButGameNotStart,this.startCountdownAnimator(m)):(b("gameWaiting+isPlayer+isStarted"),this.contentLabel.string=this.IsPlayerGameReachTimeButNotStart,this.btnJoinGame.active=!1,this.btnTriggerGame.active=!0)):(b("gameWaiting+notPlayer"),c>0&&this.startCountdownAnimator(c),this.contentLabel.string=this.NotPlayerAndGameNotReachTime,this.btnJoinGame.active=!0,this.btnTriggerGame.active=!1));case 17:case"end":return e.stop()}}),e,this,[[6,13]])})));return function(){return e.apply(this,arguments)}}(),s.registerListeners=function(){var e=this;g.instance.on(d.on_game_update,a(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updateLobby();case 1:case"end":return t.stop()}}),t)})))),g.instance.on(d.on_gamestate_update,a(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updateLobby();case 1:case"end":return t.stop()}}),t)})))),g.instance.on(d.on_isplayer_update,a(o().mark((function t(n){var r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.entity,n.newValue,i=globalThis.ponzi.currentPlayer,w.getHashFromSymbol(i)==r&&e.updateLobby();case 5:case"end":return t.stop()}}),t)}))))},s.showGameNode=function(){this.lobbyNode.active=!1,this.gameNode.active=!0},s.showLobbyNode=function(){this.lobbyNode.active=!0,this.gameNode.active=!1},s.startCountDownAnimation=function(e){this.leftTime=e,this.countDownLabel.string=this.leftTime.toString();var t=e-1;this.unschedule(this.minuesTimeLabel),this.schedule(this.minuesTimeLabel,1,t,0)},s.minuesTimeLabel=function(){this.leftTime--,this.countDownLabel.string=this.formatSeconds(this.leftTime)},s.formatSeconds=function(e){var t="",n=Math.floor(e/86400);n>0&&(t+=n+" Day ");var r=Math.floor(e%86400/3600);r>0&&(t+=r+" Hour ");var i=Math.floor(e%3600/60);i>0&&(t+=i+" Minute ");var a=Math.floor(e%60);return a>0&&(t+=a+" Second "),t},t}(m)).prototype,"countDownLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(x.prototype,"contentLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(x.prototype,"btnJoinGame",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(x.prototype,"btnTriggerGame",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(x.prototype,"welcomeLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(x.prototype,"lobbyNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(x.prototype,"gameNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=x))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/lobby-playerlist-model.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,l,i,n,o,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,a=e.Label,c=e.Component}],execute:function(){var s,p,u,y,b;n._RF.push({},"fc8b6iSYANJari6mOXx6nYG","lobby-playerlist-model",void 0);var f=o.ccclass,m=o.property;e("lobby_playerlist_model",(s=f("lobby_playerlist_model"),p=m({type:a}),s((b=t((y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,l(t,"labelName",b,i(t)),t}r(t,e);var n=t.prototype;return n.start=function(){},n.update=function(e){},n.init=function(e){this.labelName.string=e},t}(c)).prototype,"labelName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=y))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/lobby-playerlist.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lobby-playerlist-model.ts","./ponzi-controller.ts","./ccc_msg.ts","./string_utils.ts","./component_state.ts"],(function(e){var t,i,n,r,o,l,a,s,c,y,p,b,u,d,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){l=e.cclegacy,a=e._decorator,s=e.Node,c=e.Label,y=e.log,p=e.Component},null,function(e){b=e.ponzi_controller},function(e){u=e.ccc_msg},function(e){d=e.string_utils},function(e){g=e.component_state}],execute:function(){var f,h,_,m,v,P,w,L,z;l._RF.push({},"9ada3n5kAFHOqFUXwLqrjjF","lobby-playerlist",void 0);var F=a.ccclass,N=a.property;e("lobby_playerlist",(f=F("lobby_playerlist"),h=N({type:s}),_=N({type:s}),m=N({type:c}),f((w=t((P=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"model",w,r(t)),n(t,"gridParent",L,r(t)),n(t,"peopleLabel",z,r(t)),t.lobbyPlayers=void 0,t.inited=!1,t}i(t,e);var l=t.prototype;return l.start=function(){},l.update=function(e){this.inited||this.init()},l.init=function(){var e=this,t=null==window.getPlayers?void 0:window.getPlayers();if(t){for(var i in y("lobby-playerlist start init..."),this.inited=!0,this.lobbyPlayers=[],t)for(var n,r=t[i],l=o(r);!(n=l()).done;){var a=n.value,s=a[0],c=(a[1],d.getHashFromSymbol(s));d.addStringToArray(this.lobbyPlayers,c)}this.peopleLabel.string=this.lobbyPlayers.length+" Players Login...",this.lobbyPlayers.forEach((function(t){e.addNewNode(t)})),this.registerListeners()}},l.registerListeners=function(){var e=this,t=this;b.instance.on(u.on_player_add,(function(e){d.addStringToArray(t.lobbyPlayers,e),t.peopleLabel.string=t.lobbyPlayers.length+" Players Login...",t.addNewNode(e)})),b.instance.on(u.on_gamestate_update,(function(t){var i=t.oldObj,n=t.newObj,r=i!=n,o=n==g.game_waiting;r&&o&&(e.inited=!1)}))},l.addNewNode=function(e){},t}(p)).prototype,"model",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(P.prototype,"gridParent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(P.prototype,"peopleLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Singleton.ts","./lobby-controller.ts","./counter-label.ts","./ccc_msg.ts","./component_state.ts","./ponzi_config.ts","./GameData.ts","./JsCaller.ts","./MUDListener.ts","./PlayerData.ts","./data_center.ts","./ponzi-controller.ts","./ponzi-model.ts","./FakeMessageCenter.ts","./test.ts","./TradeListItem.ts","./bytes_utils.ts","./coor_utils.ts","./list_utils.ts","./object_utils.ts","./rule_utils.ts","./string_utils.ts","./time_utils.ts","./HexMapTile.ts","./RoleLocalObj.ts","./RowCol.ts","./UnsolicitedTransactionObj.ts","./temp_data.ts","./fake.ts","./game_ui_controller.ts","./lobby-playerlist-model.ts","./lobby-playerlist.ts","./map-controller.ts","./mapblock.ts","./pick-money-card.ts","./player-model.ts","./account.ts","./assets.ts","./pick_asset.ts","./rank.ts","./single-button-pop.ts","./trade-ask.ts","./trade_input_price.ts","./popupui_manager.ts","./trade.ts","./button_raisingcapital.ts","./changing_ellipses.ts","./fond_card.ts","./game_countdown.ts","./item_asset.ts","./mapitem.ts","./pick_asset_item.ts","./popeffect.ts","./popup_node.ts","./right-player-list-item.ts","./right-player-list.ts","./rules.ts","./title-money.ts","./toggle.ts","./trade-asset-item.ts","./trade_parter_item.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/map-controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ponzi-controller.ts","./ccc_msg.ts","./mapblock.ts","./string_utils.ts","./component_state.ts","./player-model.ts","./RoleLocalObj.ts","./ponzi_config.ts","./data_center.ts","./RowCol.ts","./coor_utils.ts","./mapitem.ts","./object_utils.ts"],(function(e){var r,a,o,t,n,i,l,s,p,c,u,m,d,v,f,g,h,y,w,b,M,_,P,C,x,z;return{setters:[function(e){r=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose,i=e.extends},function(e){l=e.cclegacy,s=e._decorator,p=e.Node,c=e.log,u=e.instantiate,m=e.Vec3,d=e.Component},function(e){v=e.ponzi_controller},function(e){f=e.ccc_msg},function(e){g=e.mapblock},function(e){h=e.string_utils},function(e){y=e.component_state},function(e){w=e.player_model},function(e){b=e.RoleLocalObj},function(e){M=e.ponzi_config},function(e){_=e.data_center},function(e){P=e.RowCol},function(e){C=e.coor_utils},function(e){x=e.mapitem},function(e){z=e.object_utils}],execute:function(){var N,A,k,H,I,R,T,j,W,S,O,L,F,V,B;l._RF.push({},"f3250iGpAVPmqBmTcrOIPDJ","map-controller",void 0);var D=s.ccclass,E=s.property,q=(e("map_controller",(N=D("map_controller"),A=E({type:p}),k=E({type:p}),H=E({type:p}),I=E({type:p}),R=E({type:p}),T=E({type:p}),N((S=r((W=function(e){function r(){for(var r,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=e.call.apply(e,[this].concat(n))||this,o(r,"mapParent",S,t(r)),o(r,"itemParent",O,t(r)),o(r,"playerParent",L,t(r)),o(r,"mapBlockModel",F,t(r)),o(r,"mapItemModel",V,t(r)),o(r,"playerModel",B,t(r)),r.terrainArray=void 0,r.inited=!1,r.tmpCoorArray=void 0,r}a(r,e);var l=r.prototype;return l.start=function(){this.mapBlockModel.active=!1,this.mapItemModel.active=!1,this.playerModel.active=!1},l.update=function(e){this.inited||this.init()},l.init=function(){var e;globalThis.ponzi.gameState==y.game_ingame&&((null==(e=globalThis.ponzi.gameMap)?void 0:e.mapArray)&&(null==window.getMapItems?void 0:window.getMapItems())&&(this.tmpCoorArray=null,this.inited=!0,this.updateMap(),this.drawItem(),this.drawPlayers(),this.registerListeners()))},l.registerListeners=function(){var e=this;v.instance.on(f.on_gamemap_update,(function(r){var a,o;if(r){var t=r.mapArray,n=Number(null==(a=globalThis.ponzi.gameMap)?void 0:a.width),i=Number(null==(o=globalThis.ponzi.gameMap)?void 0:o.height);e.drawMap(n,i,t)}})),v.instance.on(f.on_gamemap_walkrecord_update,(function(){e.updateMap()})),v.instance.on(f.on_mapitem_update,(function(){e.drawItem()})),v.instance.on(f.on_player_update,(function(r){e.drawPlayers();var a=r.entity,o=r.oldObj,t=r.newObj;if(t&&o){var n=z.compareObjects(o,t);(n.x||n.y)&&(e.updateMapWalkRecord(a,Number(t.x),Number(t.y)),v.instance.sendCCCMsg(f.on_gamemap_walkrecord_update,null),v.instance.sendCCCMsg(f.on_mapitem_update,null))}})),v.instance.on(f.on_player_add,(function(r){e.drawPlayers()})),v.instance.on(f.on_gamestate_update,(function(r){var a=r.oldObj,o=r.newObj,t=a!=o,n=o==y.game_waiting;t&&n&&(e.inited=!1)}))},l.updateMapWalkRecord=function(e,r,a){var o=this;if(e==globalThis.ponzi.currentPlayer){var t=_.instance.loadMapWalkRecord();this.giveValue(t,r,a),C.getNeighboringHexes(r,a).forEach((function(e){o.giveValue(t,e.row,e.col)})),_.instance.saveMapWalkRecord(t)}},l.updateMap=function(){var e,r,a,o=Number(null==(e=globalThis.ponzi.gameMap)?void 0:e.width),t=Number(null==(r=globalThis.ponzi.gameMap)?void 0:r.height),n=null==(a=globalThis.ponzi.gameMap)?void 0:a.mapArray;n?this.drawMap(o,t,n):c("No map data!!!!!!")},l.drawPlayers=function(){var e=null==window.getPlayers?void 0:window.getPlayers();if(e){var r={};for(var a in e)for(var o,t=e[a],i=n(t);!(o=i()).done;){var l=o.value,s=l[0],p=l[1],d=h.getHashFromSymbol(s);r[d]||(r[d]=new b);var v=r[d];if(r[d]=v,"x"==a){var f=Number(p);v.row=f}else if("y"==a){var g=Number(p);v.col=g}else if("money"==a){var y=Number(p);v.money=y}}c("drawPlayers role array:",r);var M=this;for(var _ in M.playerParent.removeAllChildren(),r){var P=r[_],C=u(M.playerModel);C.setParent(M.playerParent),C.active=!0;var x=M.tmpCoorArray[P.row][P.col];C.position=new m(x.x,x.y,0),C.getComponent(w).init(_)}}},l.drawItem=function(){var e=null==window.getMapItems?void 0:window.getMapItems();if(e){var r=[];for(var a in e)for(var o,t=e[a],i=n(t);!(o=i()).done;){var l=o.value,s=l[0],p=l[1],c=h.getNumberFromSymbol(s)-1,d=h.getNumberFromSymbol(p);r[c]||(r[c]=new q);var v=r[c];r[c]=v,"x"==a?v.row=d:"y"==a&&(v.col=d)}var f=_.instance.loadMapWalkRecord(),g=this;g.itemParent.removeAllChildren(),r.forEach((function(e){var r=u(g.mapItemModel);r.setParent(g.itemParent),r.active=!0;var a=g.tmpCoorArray[e.row][e.col];r.position=new m(a.x,a.y,0),r.getComponent(x).init(f[e.row]&&1==f[e.row][e.col])}))}},l.drawMap=function(e,r,a){var o,t=this;if(a){this.terrainArray=null==(o=window.mudutils)?void 0:o.hexToArray(e,r,a);var i=e/2,l=r/2,s=this.generateHexMap(110,100),p=this.moveAllTiles(s,i,l);this.tmpCoorArray=p;var d=this.generateHexCoorMap(),v=new b,f=null==window.getPlayers?void 0:window.getPlayers();for(var y in f)for(var w,P=f[y],x=n(P);!(w=x()).done;){var z=w.value,N=z[0],A=z[1];if(h.getHashFromSymbol(N)==globalThis.ponzi.currentPlayer)if("x"==y){var k=Number(A);v.row=k}else if("y"==y){var H=Number(A);v.col=H}}var I=_.instance.loadMapWalkRecord();console.warn("Role walk record save:",v),this.giveValue(I,v.row,v.col),C.getNeighboringHexes(v.row,v.col).forEach((function(e){t.giveValue(I,e.row,e.col)})),_.instance.saveMapWalkRecord(I);var R=[];v&&(R=C.getNeighboringHexes(v.row,v.col)),this.mapParent.removeAllChildren();for(var T=0;T<p.length;T++)for(var j=0;j<p[T].length;j++){var W=p[T][j],S=d[T][j],O=u(this.mapBlockModel);O.setParent(this.mapParent),O.active=!0,O.position=new m(W.x,W.y,0);var L=O.getComponent(g);L.init(S,I[T]&&1==I[T][j]);var F=this.isSurround(R,T,j);F&&c("isSurround:",F),L.setSurround(F),M.showCoor&&L.showLabel(S.row+","+S.col)}}else c("No map data to draw!")},l.isSurround=function(e,r,a){if(!e)return!1;c("cell start");for(var o=0;o<e.length;o++){var t=e[o];if(t.row==r&&t.col==a)return!0}return!1},l.generateHexCoorMap=function(){for(var e=[],r=0;r<M.mapWH;r++){for(var a=[],o=0;o<M.mapWH;o++){var t=new P;t.row=r,t.col=o,a.push(t)}e.push(a)}return e},l.generateHexMap=function(e,r){for(var a=[],o=0;o<M.mapWH;o++){for(var t=[],n=o%2==0?0:e/2,i=0;i<M.mapWH;i++){var l=e*i+n,s=r*o;t.push({x:l,y:s,emoji:""})}a.push(t)}return a},l.moveAllTiles=function(e,r,a){var o=e[a][r],t=r-Math.floor(e.length/2),n=a-Math.floor(e[0].length/2);return e.map((function(e){return e.map((function(e){return i({},e,{x:e.x-o.x+t,y:e.y-o.y+n})}))}))},l.giveValue=function(e,r,a){e[r]||(e[r]=[]),e[r][a]=1},r}(d)).prototype,"mapParent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=r(W.prototype,"itemParent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=r(W.prototype,"playerParent",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=r(W.prototype,"mapBlockModel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=r(W.prototype,"mapItemModel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=r(W.prototype,"playerModel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=W))||j)),function(){this.row=void 0,this.col=void 0});l._RF.pop()}}}));

System.register("chunks:///_virtual/mapblock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ponzi-controller.ts","./ccc_msg.ts","./data_center.ts","./coor_utils.ts"],(function(e){var t,n,i,a,o,r,l,c,s,u,p,d,g,m,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,s=e.Label,u=e.Node,p=e.Component,d=e.log},function(e){g=e.ponzi_controller},function(e){m=e.ccc_msg},function(e){b=e.data_center},function(e){f=e.coor_utils}],execute:function(){var h,v,w,k,y,_,C,T,I,z,M;l._RF.push({},"f922dKK6jNJnb8lD64YYLm6","mapblock",void 0);var R=c.ccclass,x=c.property;e("mapblock",(h=R("mapblock"),v=x({type:s}),w=x({type:u}),k=x({type:u}),y=x({type:u}),h((T=t((C=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"label",T,a(t)),i(t,"walkedImage",I,a(t)),i(t,"newImage",z,a(t)),i(t,"surroundImage",M,a(t)),t.mapTile=void 0,t}n(t,e);var l=t.prototype;return l.start=function(){},l.update=function(e){},l.init=function(e,t){this.mapTile=e,this.label.node.active=!1,this.walkedImage.active=t,this.newImage.active=!t},l.setSurround=function(e){this.surroundImage.active=e},l.showLabel=function(e){this.label.string=e,this.label.node.active=!0},l.onBlockClicked=function(){var e=o(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,d("click block:",this.mapTile.row,this.mapTile.col),g.instance.sendCCCMsg(m.network_block_ui,!0),e.prev=3,e.next=6,null==window.move?void 0:window.move(t.mapTile.row,t.mapTile.col);case 6:t.updateMapWalkRecord(this.mapTile.row,this.mapTile.col),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),g.instance.sendCCCMsg(m.single_button_dialog,{content:"You can't go there",btnText:"OK"});case 12:g.instance.sendCCCMsg(m.network_block_ui,!1);case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),l.updateMapWalkRecord=function(e,t){var n=this,i=b.instance.loadMapWalkRecord();this.giveValue(i,e,t),f.getNeighboringHexes(e,t).forEach((function(e){n.giveValue(i,e.row,e.col)})),b.instance.saveMapWalkRecord(i)},l.giveValue=function(e,t,n){e[t]||(e[t]=[]),e[t][n]=1},t}(p)).prototype,"label",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(C.prototype,"walkedImage",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(C.prototype,"newImage",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(C.prototype,"surroundImage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=C))||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/mapitem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,a,r,l,c,p,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,c=t.tween,p=t.v2,s=t.Component}],execute:function(){var u,d,y,f,h,m,g;a._RF.push({},"49b4aAjQItOMplhuIvp5DQa","mapitem",void 0);var v=r.ccclass,b=r.property;t("mapitem",(u=v("mapitem"),d=b({type:l}),y=b({type:l}),u((m=e((h=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"lightNode",m,n(e)),o(e,"darkNode",g,n(e)),e}i(e,t);var a=e.prototype;return a.start=function(){},a.update=function(t){},a.init=function(t){this.lightNode.active=t,this.darkNode.active=!t},a.coinJumpAndFly=function(t,e,i){var o=t.position;c(t).sequence(c().by(.5,{position:p(0,100),angle:180}),c().to(1,{position:e,angle:360}),c().to(.5,{scale:.5}),c().to(.5,{opacity:0}).call((function(){t.position=o,t.scale=1,t.angle=0,t.opacity=255})),c.call(i)).start()},e}(s)).prototype,"lightNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(h.prototype,"darkNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/MUDListener.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,o=t.Component}],execute:function(){var s;n._RF.push({},"d39a68r4wVEMKcXMZ0+aGDs","MUDListener",void 0);var i=r.ccclass;r.property,t("MUDListener",i("MUDListener")(s=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.start=function(){},r.update=function(t){},r.startListen=function(){},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/object_utils.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"35821YoN2VMO7iAVcpIzcMJ","object_utils",void 0);t("object_utils",function(){function t(){}return t.isNull=function(t){return null==t},t.compareObjects=function(t,n){var r={};if(t||!n){for(var c in t)n.hasOwnProperty(c)&&t[c]===n[c]||(r[c]=n[c]);for(var e in n)t.hasOwnProperty(e)||(r[e]=n[e]);return r}for(var u in n)r[u]=n[u]},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/pick_asset_item.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,c,a,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Node,s=e.Component}],execute:function(){var p,u,l,d,f;o._RF.push({},"dd8667K5XBPVoBYaIzxRI5X","pick_asset_item",void 0);var h=c.ccclass,_=c.property;e("pick_asset_item",(p=h("pick_asset_item"),u=_({type:a}),p((f=t((d=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"chosenBoarder",f,n(t)),t}r(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){},o.chosen=function(e){this.chosenBoarder.active=e},t}(s)).prototype,"chosenBoarder",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d))||l));o._RF.pop()}}}));

System.register("chunks:///_virtual/pick_asset.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ponzi-controller.ts","./ccc_msg.ts","./pick_asset_item.ts"],(function(t){var e,n,i,s,c,r,o,a,p,u,l,f,h,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized,c=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,p=t.Node,u=t.Component,l=t.warn},function(t){f=t.ponzi_controller},function(t){h=t.ccc_msg},function(t){k=t.pick_asset_item}],execute:function(){var d,_,C,g,v;o._RF.push({},"2f164Tql71PoIU0wqaCp2Nc","pick_asset",void 0);var m=a.ccclass,w=a.property;t("pick_asset",(d=m("pick_asset"),_=w({type:p}),d((v=e((g=function(t){function e(){for(var e,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return e=t.call.apply(t,[this].concat(c))||this,i(e,"itemParent",v,s(e)),e.pickAsset=0,e}n(e,t);var o=e.prototype;return o.start=function(){this.reset()},o.update=function(t){},o.reset=function(){this.pickAsset=0,this.itemParent.children.forEach((function(t){t.getComponent(k).chosen(!1)}))},o.onCloseClicked=function(){this.node.active=!1},o.onItemClicked=function(t){var e=t.target,n=this.itemParent.children,i=n.indexOf(e);n.forEach((function(t){t.getComponent(k).chosen(t===e)}));var s=i+1;this.pickAsset=s},o.onPickClicked=function(){var t=c(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l("User wants to pick ",this.pickAsset),0!=this.pickAsset){t.next=4;break}return f.instance.sendCCCMsg(h.single_button_dialog,{content:"Please choose an asset first!",btnText:"OK"}),t.abrupt("return");case 4:return f.instance.sendCCCMsg(h.network_block_ui,!0),t.prev=5,t.next=8,null==window.pickAsset?void 0:window.pickAsset(this.pickAsset);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),f.instance.sendCCCMsg(h.single_button_dialog,{content:"pick failed",btnText:"OK"});case 13:return t.prev=13,f.instance.sendCCCMsg(h.network_block_ui,!1),this.node.active=!1,f.instance.sendCCCMsg(h.show_pick_fund,!0),t.finish(13);case 18:case"end":return t.stop()}}),t,this,[[5,10,13,18]])})));return function(){return t.apply(this,arguments)}}(),e}(u)).prototype,"itemParent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=g))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/pick-money-card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./fond_card.ts","./ponzi-controller.ts","./ccc_msg.ts"],(function(n){var e,t,r,c,o,i,a,s,u,l,p,d,f,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,c=n.assertThisInitialized,o=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){a=n.cclegacy,s=n._decorator,u=n.Node,l=n.log,p=n.Component},function(n){d=n.fond_card},function(n){f=n.ponzi_controller},function(n){h=n.ccc_msg}],execute:function(){var _,m,y,k,g;a._RF.push({},"4574bQ+J7JAPZCXsSAL518i","pick-money-card",void 0);var C=s.ccclass,v=s.property;n("pick_money_card",(_=C("pick_money_card"),m=v({type:u}),_((g=e((k=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o))||this,r(e,"cardParent",g,c(e)),e}t(e,n);var a=e.prototype;return a.start=function(){this.cardParent.children.forEach((function(n){n.getComponent(d).setChosen(!1)}))},a.update=function(n){},a.onItemClicked=function(n){var e=n.target.parent;l("click item:",e.name),this.cardParent.children.forEach((function(n){n.getComponent(d).setChosen(n==e)}))},a.onButtonClicked=function(){var n=o(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f.instance.sendCCCMsg(h.network_block_ui,!0),n.next=3,null==window.pickFund?void 0:window.pickFund();case 3:f.instance.sendCCCMsg(h.network_block_ui,!1),this.node.active=!1;case 5:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),e}(p)).prototype,"cardParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=k))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/player-model.ts",["./rollupPluginModLoBabelHelpers.js","cc","./string_utils.ts"],(function(e){var t,i,r,n,a,o,l,s,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,s=e.Component},function(e){p=e.string_utils}],execute:function(){var c,u,y,h,f,m,d;a._RF.push({},"42f64jpdAxK2I6YwOKiWMXX","player-model",void 0);var v=o.ccclass,g=o.property;e("player_model",(c=v("player_model"),u=g({type:l}),y=g({type:l}),c((m=t((f=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"sprite",m,n(t)),r(t,"spriteEnemy",d,n(t)),t.playerHash=void 0,t}i(t,e);var a=t.prototype;return a.start=function(){},a.update=function(e){},a.init=function(e){this.playerHash=e;var t=globalThis.ponzi.currentPlayer;e==p.getHashFromSymbol(t)?(this.sprite.active=!0,this.spriteEnemy.active=!1):(this.sprite.active=!1,this.spriteEnemy.active=!0)},t}(s)).prototype,"sprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(f.prototype,"spriteEnemy",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerData.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"93c079OZHxMV4reU3/L5lUf","PlayerData",void 0);t("PlayerData",(function(){this.gameId=void 0,this.state=void 0,this.money=void 0,this.assets=void 0,this.transactions=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ponzi_config.ts",["cc"],(function(n){var o;return{setters:[function(n){o=n.cclegacy}],execute:function(){o._RF.push({},"946baLZbaNKJJ9Vxuu7bT87","ponzi_config",void 0);var c=n("ponzi_config",(function(){}));c.fakeBlockTime=5,c.mapWH=20,c.showCoor=!1,o._RF.pop()}}}));

System.register("chunks:///_virtual/ponzi-controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ccc_msg.ts","./object_utils.ts","./list_utils.ts","./bytes_utils.ts","./string_utils.ts","./component_state.ts","./data_center.ts"],(function(e){var n,t,a,s,o,i,r,l,c,u,d,p,g,f,_;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){a=e.cclegacy,s=e._decorator,o=e.log,i=e.warn,r=e.find,l=e.Component},function(e){c=e.ccc_msg},function(e){u=e.object_utils},function(e){d=e.list_utils},function(e){p=e.bytes_utils},function(e){g=e.string_utils},function(e){f=e.component_state},function(e){_=e.data_center}],execute:function(){var h,C;a._RF.push({},"d27bewDLOVJ3aP597Cc0JT2","ponzi-controller",void 0);var m=s.ccclass;s.property,e("ponzi_controller",m("ponzi_controller")(((C=function(e){function a(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this).players=void 0,n.Game=void 0,n.GameMap=void 0,n}n(a,e);var s=a.prototype;return s.start=function(){this.players=[],this.init()},s.on=function(e,n){this.node.on(e,n)},s.init=function(){globalThis.ponzi||(globalThis.ponzi={}),this.registerJsLiseners()},s.registerJsLiseners=function(){o("ccc registerJsLiseners");var e=this;globalThis.ponzi.gamestate_update=function(n,t){e.gameStateUpdate(n,t)},globalThis.ponzi.game_update=function(n,t){e.gameUpdate(n,t)},globalThis.ponzi.counter_update=function(n,t){e.counterUpdate(n,t)},globalThis.ponzi.isplayer_update=function(n){e.onIsPlayerUpdate(n.entity,n.value[0])},globalThis.ponzi.transactionlist_update=function(n){e.transactionListUpdate(n)},globalThis.ponzi.assetslist_update=function(n){e.onAssetsListUpdate(n)},globalThis.ponzi.player_update=function(n){var t=n.value,a=t[0],s=t[1];e.onPlayerChanged(n.entity,s,a)},globalThis.ponzi.gamemap_update=function(n,t){e.onGameMapChanged(n,t)},globalThis.ponzi.mapitems_update=function(n,t){e.onMapItemsChanged(n,t)},globalThis.ponzi.raiseColddown_update=function(n){e.onRaiseColddownUpdate(n)},globalThis.ponzi.tradelist_update=function(n){e.onTradeListUpdate(n)},globalThis.ponzi.passivetransaction_update=function(n){e.onPassiveTransactionUpdate(n)},globalThis.ponzi.playergameresult_update=function(n){e.onPlayerGameResultUpdate(n)}},s.sendCCCMsg=function(e,n){this.node.emit(e,n)},s.onPlayerGameResultUpdate=function(e){if(o("onPlayerGameResultUpdate",e),e.entity==globalThis.ponzi.currentPlayer){var n=e.value,t=n[0];n[1];if(t){var s=t,i=s.rank+1,r=s.points;s.gpu,s.bitcoin,s.battery,s.leiter,s.gold,s.oil;a.instance.sendCCCMsg(c.show_rank,{show:!0,rank:i,points:r})}else{a.instance.sendCCCMsg(c.show_rank,{show:!1})}}},s.onPassiveTransactionUpdate=function(e){if(e.entity==globalThis.ponzi.currentPlayer){var n=e.value,t=n[0];n[1];if(t){var s=t,o=s.from,i=s.money,r=s.asset;a.instance.sendCCCMsg(c.show_trade_ask,{presenterName:o,offerMoney:i,assetNumber:r})}}},s.onTradeListUpdate=function(e){var n=globalThis.ponzi.currentPlayer;if(e.entity==n){var t=e.value,s=t[0];t[1];if(s){o("nextValue.list:",s.list);var i=p.decodeTradeListItem(s.list);if(i){var r="",l=i.isSuccess?"accept":"counter-buy";r=i.isPresenter?"Your trade partner "+g.sliceLastN(i.partner,6)+" "+l+" your trade. Please check your asset and money update.":"You "+l+" the trade offered by "+g.sliceLastN(i.partner,6)+". Please check your asset and money update.",a.instance.sendCCCMsg(c.single_button_dialog,{content:r,btnText:"OK"})}}else o("TradeList components reset")}},s.onRaiseColddownUpdate=function(e){this.sendCCCMsg(c.on_raisecolddown_update,e)},s.onMapItemsChanged=function(e,n){a.instance.sendCCCMsg(c.on_mapitem_update,{oldObj:e,newObj:n})},s.onGameMapChanged=function(e,n){var t=this.compareObjects(e,n);t?(o("on game map changed:",t),a.instance.sendCCCMsg(c.on_gamemap_update,t)):o("There is no changes on GameMap")},s.onIsPlayerUpdate=function(e,n){a.instance.sendCCCMsg(c.on_isplayer_update,{entity:e,newObj:n})},s.onPlayerChanged=function(e,n,t){if(u.isNull(n)&&t)a.instance.sendCCCMsg(c.on_player_add,e);else if(u.isNull(n)||u.isNull(t))o("Player components reset");else{var s=this.compareObjects(n,t);(s.x||s.y||s.money)&&a.instance.sendCCCMsg(c.on_player_update,{entity:e,oldObj:n,newObj:t})}},s.onAssetsListUpdate=function(e){this.sendCCCMsg(c.on_assetslist_update,e)},s.transactionListUpdate=function(e){var n=e.entity,t=e.value,s=t[0],i=t[1];if(s){if(n==globalThis.ponzi.currentPlayer){var r=d.getExtraStrings(null==i?void 0:i.list,s.list);r.length>0&&(o("transactionListUpdate extraStrings:",r),a.instance.sendCCCMsg(c.single_button_dialog,{content:"You've got a new trading partner",btnText:"OK"}))}}else o("TransactionList component clear")},s.counterUpdate=function(e,n){var t=this.compareObjects(e,n);if(t){var a=t.value;a&&this.sendCCCMsg("ccc_counter_value",a),console.log(t)}},s.gameInit=function(e){},s.gameUpdate=function(e,n){this.sendCCCMsg(c.on_game_update,{oldObj:e,newObj:n})},s.gameStateUpdate=function(e,n){this.sendCCCMsg(c.on_gamestate_update,{oldObj:e,newObj:n});var t=e!=n,a=n==f.game_ingame;if(o("check delete walk record1:",t),o("check delete walk record2:",a),t&&a){var s=_.instance.getLastRecordGameId(),r=globalThis.ponzi.game;if(!r)return i("No gameobj when loading map record"),null;""!=s&&s&&s!=r.gameId&&(console.log("start delete walk record"),_.instance.deleteMapWalkRecord(),this.sendCCCMsg(c.on_gamemap_walkrecord_update,null))}},s.compareObjects=function(e,n){var t={};if(e||!n){for(var a in e)n.hasOwnProperty(a)&&e[a]===n[a]||(t[a]=n[a]);for(var s in n)e.hasOwnProperty(s)||(t[s]=n[s]);return t}for(var o in n)t[o]=n[o]},t(a,null,[{key:"instance",get:function(){return a._instance||(a._instance=r("ponzi-controller").getComponent(a)),a._instance}}]),a}(l))._instance=void 0,h=C))||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/ponzi-model.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(n){var e,t,o,c,i;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){o=n.cclegacy,c=n._decorator},function(n){i=n.default}],execute:function(){var r,u;o._RF.push({},"badc4hFtvJJQpODfCwyJgyN","ponzi-model",void 0);var a=c.ccclass;c.property,n("default",a("PonziModel")(((u=function(n){function o(){for(var e,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return(e=n.call.apply(n,[this].concat(o))||this).counterValue=void 0,e}return e(o,n),o.prototype.PonziModel=function(){this.counterValue=0},t(o,null,[{key:"instance",get:function(){return o._instance||(o._instance=new o),o._instance}}]),o}(i()))._instance=void 0,r=u))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/popeffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,p,i,r,c,a,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,p=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,c=e.Node,a=e.Vec3,s=e.tween,u=e.Component}],execute:function(){var l,f,d,h,v;i._RF.push({},"43680oLRndBhqqOv6oYu4aY","popeffect",void 0);var y=r.ccclass,N=r.property;e("popeffect",(l=y("popeffect"),f=N({type:c}),l((v=t((h=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,n(t,"popupNode",v,p(t)),t}o(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){},i.show=function(){this.popupNode.scale=new a(.96,.96,1),s(this.popupNode).to(.02,{scale:a.ONE}).start()},i.hide=function(){var e=this;this.popupNode.scale=new a(1,1,1),s(this.popupNode).to(.02,{scale:new a(.94,.94,1)}).call((function(){e.node.active=!1})).start()},t}(u)).prototype,"popupNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/popup_node.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,p,r,n,i,c,a,u;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,p=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,i=e._decorator,c=e.tween,a=e.Vec3,u=e.Component}],execute:function(){var s,l,d,f,h;n._RF.push({},"fb949ZUGgFM7bURrJbG869J","popup_node",void 0);var y=i.ccclass,_=i.property;e("popup_node",(s=y("popup_node"),l=_({type:Node}),s((h=o((f=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return o=e.call.apply(e,[this].concat(n))||this,p(o,"popupNode",h,r(o)),o}t(o,e);var n=o.prototype;return n.start=function(){},n.show=function(){this.popupNode.setScale(.9),c(this.popupNode).to(.2,{scale:new a(1.1,1.1,1)}).to(.1,{scale:a.ONE}).start()},o}(u)).prototype,"popupNode",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/popupui_manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ponzi-controller.ts","./ccc_msg.ts","./single-button-pop.ts","./pick_asset.ts","./pick-money-card.ts","./rules.ts","./trade.ts","./trade-ask.ts","./trade_input_price.ts","./rank.ts","./popeffect.ts"],(function(e){var n,t,i,o,r,a,p,c,u,l,s,d,f,k,_,g,b,w,y,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,p=e.Node,c=e.log,u=e.Component},function(e){l=e.ponzi_controller},function(e){s=e.ccc_msg},function(e){d=e.single_button_pop},function(e){f=e.pick_asset},function(e){k=e.pick_money_card},function(e){_=e.rules},function(e){g=e.trade},function(e){b=e.trade_ask},function(e){w=e.trade_input_price},function(e){y=e.rank},function(e){m=e.popeffect}],execute:function(){var v,h,z,A,W,D,F,B,I,x,N,P,C,L,M,R,T,j,q,H,J;r._RF.push({},"454a77xJxBFcYkhgV356qng","popupui_manager",void 0);var S=a.ccclass,V=a.property;e("popupui_manager",(v=S("popupui_manager"),h=V({type:p}),z=V({type:d}),A=V({type:f}),W=V({type:k}),D=V({type:_}),F=V({type:g}),B=V({type:b}),I=V({type:w}),x=V({type:y}),v((C=n((P=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(n,"networkBlock",C,o(n)),i(n,"singleDialog",L,o(n)),i(n,"pickAsset",M,o(n)),i(n,"pickFund",R,o(n)),i(n,"rules",T,o(n)),i(n,"trade",j,o(n)),i(n,"tradeAsk",q,o(n)),i(n,"tradeInput",H,o(n)),i(n,"rank",J,o(n)),n}t(n,e);var r=n.prototype;return r.start=function(){var e=this;e.pickAsset.node.active=!1,e.pickFund.node.active=!1,e.rules.node.active=!1,e.trade.node.active=!1,e.tradeAsk.node.active=!1,e.tradeInput.node.active=!1,e.rank.node.active=!1,l.instance.on(s.network_block_ui,(function(n){c("ui manager receive network_block_ui:",n),e.networkBlock.active=n})),l.instance.on(s.single_button_dialog,(function(n){var t=n.content,i=n.btnText;e.popupWindow(e.singleDialog.node),e.singleDialog.init(t,i)})),l.instance.on(s.show_pick_asset,(function(){e.popupWindow(e.pickAsset.node),e.pickAsset.reset()})),l.instance.on(s.show_pick_fund,(function(){e.popupWindow(e.pickFund.node)})),l.instance.on(s.show_rules,(function(){e.popupWindow(e.rules.node)})),l.instance.on(s.show_trade,(function(){e.trade.show(),e.trade.reset()})),l.instance.on(s.show_trade_ask,(function(n){e.popupWindow(e.tradeAsk.node);var t=n.presenterName,i=n.offerMoney,o=n.assetNumber;e.tradeAsk.init(t,i,o)})),l.instance.on(s.show_trade_input,(function(){e.popupWindow(e.tradeInput.node)})),l.instance.on(s.show_rank,(function(n){var t=n.show,i=n.rank,o=n.points;t?(e.popupWindow(e.rank.node),e.rank.init(i,o)):e.rank.node.active=!1}))},r.popupWindow=function(e){e.active=!0;var n=e.getComponent(m);n&&n.show()},r.hidePopupWindow=function(e){},r.update=function(e){},n}(u)).prototype,"networkBlock",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(P.prototype,"singleDialog",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(P.prototype,"pickAsset",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(P.prototype,"pickFund",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(P.prototype,"rules",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(P.prototype,"trade",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=n(P.prototype,"tradeAsk",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(P.prototype,"tradeInput",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=n(P.prototype,"rank",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=P))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/rank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ponzi-controller.ts","./ccc_msg.ts"],(function(t){var e,n,i,o,r,l,a,c,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Label,c=t.Component},function(t){s=t.ponzi_controller},function(t){u=t.ccc_msg}],execute:function(){var p,b,g,f,d,C,y,h,R;r._RF.push({},"54d5aEhC05A5IR98CYYCn2I","rank",void 0);var T=l.ccclass,k=l.property;t("rank",(p=T("rank"),b=k({type:a}),g=k({type:a}),f=k({type:a}),p((y=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"labelRank",y,o(e)),i(e,"labelPoints",h,o(e)),i(e,"labelNotice",R,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.init=function(t,e){this.labelPoints.string=e.toString(),this.labelRank.string=t.toString(),this.labelNotice.string=this.getNoticeByRank(t).toString()},r.onShareClicked=function(){s.instance.sendCCCMsg(u.single_button_dialog,{content:"This feature is under development",btnText:"OK"})},r.onPlayerAgainClicked=function(){s.instance.sendCCCMsg(u.single_button_dialog,{content:"This feature is under development",btnText:"OK"})},r.onBtnCloseClicked=function(){this.node.active=!1},r.getNoticeByRank=function(t){return 1===t?"CONGRATS!! YOU ARE NOW THE MAN WHO BEAT THE MARKET!!":"CONGRATS ON SURVIVING THE BEAR! YOU WILL THRIVE IN THE NEXT CYCLE!"},e}(c)).prototype,"labelRank",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=e(C.prototype,"labelPoints",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(C.prototype,"labelNotice",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=C))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/right-player-list-item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ponzi-controller.ts","./ccc_msg.ts","./rule_utils.ts","./string_utils.ts"],(function(e){var t,i,r,n,l,a,o,s,u,c,p,b,m,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,l=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,u=e.Label,c=e.Component,p=e.log},function(e){b=e.ponzi_controller},function(e){m=e.ccc_msg},function(e){y=e.rule_utils},function(e){f=e.string_utils}],execute:function(){var g,h,_,d,v,I,w,z,P,x,S,k,L,E,A,N,D,R,U;o._RF.push({},"244b0/ZByZNJZ3APWmgrHO6","right-player-list-item",void 0);var Z=s.ccclass,q=s.property;e("right_player_list_item",(g=Z("right_player_list_item"),h=q({type:u}),_=q({type:u}),d=q({type:u}),v=q({type:u}),I=q({type:u}),w=q({type:u}),z=q({type:u}),P=q({type:u}),g((k=t((S=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,r(t,"labelName",k,n(t)),r(t,"labelItem1",L,n(t)),r(t,"labelItem2",E,n(t)),r(t,"labelItem3",A,n(t)),r(t,"labelItem4",N,n(t)),r(t,"labelItem5",D,n(t)),r(t,"labelItem6",R,n(t)),r(t,"labelPoints",U,n(t)),t.itemPlayerEntity=void 0,t._inited=!1,t}i(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){this._inited||this._init()},o.init=function(e){this.itemPlayerEntity=e},o._init=function(){var e=l(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.itemPlayerEntity){e.next=3;break}return e.abrupt("return");case 3:this._inited=!0,this.labelName.string=f.truncateString(t),this.updateUI(),this._registerListeners();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.updateUI=function(){var e=l(a().mark((function e(){var t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,null==window.queryValue?void 0:window.queryValue(window.env.components.AssetsList,this.itemPlayerEntity);case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),p("Can not find AssetsList on entity"),e.abrupt("return");case 11:this.labelItem1.string=t.gpu,this.labelItem2.string=t.bitcoin,this.labelItem3.string=t.battery,this.labelItem4.string=t.leiter,this.labelItem5.string=t.gold,this.labelItem6.string=t.oil,i=y.calculateScore(t.gpu)+y.calculateScore(t.bitcoin)+y.calculateScore(t.battery)+y.calculateScore(t.leiter)+y.calculateScore(t.gold)+y.calculateScore(t.oil),this.labelPoints.string=i.toString();case 19:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),o._registerListeners=function(){var e=this;b.instance.on(m.on_assetslist_update,l(a().mark((function t(i){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=i.value)[0],r[1],e.itemPlayerEntity==i.entity){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.updateUI();case 5:case"end":return t.stop()}}),t)}))))},t}(c)).prototype,"labelName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(S.prototype,"labelItem1",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(S.prototype,"labelItem2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(S.prototype,"labelItem3",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(S.prototype,"labelItem4",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(S.prototype,"labelItem5",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(S.prototype,"labelItem6",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(S.prototype,"labelPoints",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=S))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/right-player-list.ts",["./rollupPluginModLoBabelHelpers.js","cc","./right-player-list-item.ts","./string_utils.ts","./ccc_msg.ts","./ponzi-controller.ts"],(function(t){var e,i,r,n,o,a,s,l,c,u,p,d,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,s=t._decorator,l=t.Node,c=t.instantiate,u=t.Component},function(t){p=t.right_player_list_item},function(t){d=t.string_utils},function(t){f=t.ccc_msg},function(t){h=t.ponzi_controller}],execute:function(){var g,m,y,v,_,b,P;a._RF.push({},"1641dmD3eZCmoTdvp1N2NUq","right-player-list",void 0);var w=s.ccclass,L=s.property;t("right_player_list",(g=w("right_player_list"),m=L({type:l}),y=L({type:l}),g((b=e((_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"itemModel",b,n(e)),r(e,"itemParent",P,n(e)),e._inited=!1,e}i(e,t);var a=e.prototype;return a.start=function(){this.itemModel.active=!1},a.update=function(t){this._inited||this.init()},a.init=function(){var t=null==window.getAssetsList?void 0:window.getAssetsList();if(t){var e=[];for(var i in t)for(var r,n=t[i],a=o(n);!(r=a()).done;){var s=r.value,l=s[0],c=s[1];console.log(i,l,c);var u=d.getHashFromSymbol(l);-1===e.indexOf(u)&&e.push(u)}if(0!==e.length){for(var p in this._inited=!0,e){var f=e[p];this.addPlayerItem(f)}this.registerListeners()}}},a.registerListeners=function(){var t=this;h.instance.on(f.on_player_add,(function(e){var i=d.getHashFromSymbol(e);t.addPlayerItem(i)}))},a.addPlayerItem=function(t){var e=c(this.itemModel);e.setParent(this.itemParent),e.active=!0,e.getComponent(p).init(t)},e}(u)).prototype,"itemModel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(_.prototype,"itemParent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleLocalObj.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"14c670v7IFJSIz5aZf751FE","RoleLocalObj",void 0);t("RoleLocalObj",(function(){this.gameId=void 0,this.state=void 0,this.money=void 0,this.row=void 0,this.col=void 0,this.assets=void 0,this.transactions=void 0}));o._RF.pop()}}}));

System.register("chunks:///_virtual/RowCol.ts",["cc"],(function(o){var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"637703VAvtEYaVriGd18T+w","RowCol",void 0);o("RowCol",(function(){this.row=void 0,this.col=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/rule_utils.ts",["cc"],(function(t){var u;return{setters:[function(t){u=t.cclegacy}],execute:function(){u._RF.push({},"b9c5b9TA9FHL7VuIfigYW2z","rule_utils",void 0);t("rule_utils",function(){function t(){}return t.calculateSingleAssetScore=function(t){for(var u=0,e=0;e<t.length;e++)u+=e+1;return u},t.calculateScore=function(t){for(var u=0,e=1;e<=t;e++)u+=e;return u},t}());u._RF.pop()}}}));

System.register("chunks:///_virtual/rules.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component}],execute:function(){var u;n._RF.push({},"b2741IVokNLR4WeLxS/1+Dk","rules",void 0);var c=o.ccclass;o.property,t("rules",c("rules")(u=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){},o.onCloseClicked=function(){this.node.active=!1},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/single-button-pop.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,r,l,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,a=t.Label,c=t.Component}],execute:function(){var u,p,s,b,f,g,y;r._RF.push({},"c321aMqJepMl7TZuWl0gSUf","single-button-pop",void 0);var h=l.ccclass,L=l.property;t("single_button_pop",(u=h("single_button_pop"),p=L({type:a}),s=L({type:a}),u((g=e((f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"contentLabel",g,o(e)),i(e,"buttonLabel",y,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.init=function(t,e){this.contentLabel.string=t,this.buttonLabel.string=e},r.onBtnClicked=function(){this.node.active=!1},e}(c)).prototype,"contentLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(f.prototype,"buttonLabel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy}],execute:function(){n("default",(function(){var n=function(){function n(){}return t(n,null,[{key:"Inst",get:function(){return null===n._inst&&(n._inst=new this),n._inst}}]),n}();return n._inst=null,n})),e._RF.push({},"68201K4vYJGJIZzioC2UaTs","Singleton",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/string_utils.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"27384iB89NAKKt0tJGnSKbp","string_utils",void 0);t("string_utils",function(){function t(){}return t.removeLeadingZeros=function(t){if(!t.startsWith("0x"))return t;for(var n=t.slice(2);n.length>0&&"0"===n[0];)n=n.slice(1);return n="0x"+n},t.truncateString=function(t){return t.length<=7?t:t.slice(0,3)+"..."+t.slice(-4)},t.sliceLastN=function(t,n){return n<=0||n>=t.length?"":t.slice(t.length-n)},t.getNumberFromSymbol=function(t){var n=this.getHashFromSymbol(t),r=BigInt(n);return Number(r)},t.getHashFromSymbol=function(t){var n=t.toString();return 0!==n.indexOf("Symbol(")?t:n.slice(7,-1)},t.addStringToArray=function(t,n){-1===t.indexOf(n)&&t.push(n)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/temp_data.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"b0e25pkQlVO2q3QYb9DG0fi","temp_data",void 0),t("temp_data",function(){function t(){this.tradeAsset=void 0,this.tradeTargetPlayer=void 0}var n=t.prototype;return n.setTradeInfo=function(t,e){this.tradeAsset=t,this.tradeTargetPlayer=e},n.getTradeInfo=function(){return[this.tradeAsset,this.tradeTargetPlayer]},e(t,null,[{key:"instance",get:function(){return t._instance||(t._instance=new t),t._instance}}]),t}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/test.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,o=t.Component}],execute:function(){var s;n._RF.push({},"d14e046qVRM64qyg0X0aGwn","test",void 0);var c=r.ccclass;r.property,t("test",c("test")(s=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.start=function(){},r.update=function(t){},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/time_utils.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"c6be3VlEfVCrY8g3GPpt2JU","time_utils",void 0);t("time_utils",function(){function t(){}return t.calculateRemainingTime=function(t,r,o,n){var e=r-t;return Math.floor(e/3600)+"H "+Math.ceil(e%3600/60)+"M ("+Math.floor((t-o)/n)+"/"+Math.floor((r-o)/n)+" BLOCKS)"},t.calculateRemainingTimeOnlyMinutes=function(t,r,o,n){var e=r-t;return Math.ceil(e/60)+"M ("+Math.floor((t-o)/n)+"/"+Math.floor((r-o)/n)+" BLOCKS)"},t.formatSeconds=function(t){var r="",o=Math.floor(t/86400);o>0&&(r+=o+" Day ");var n=Math.floor(t%86400/3600);n>0&&(r+=n+" Hour ");var e=Math.floor(t%3600/60);e>0&&(r+=e+" Minute ");var a=Math.floor(t%60);return a>0&&(r+=a+" Second "),r},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/title-money.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ponzi-controller.ts","./ccc_msg.ts"],(function(e){var n,t,r,i,o,a,c,l,s,u,p,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,s=e.Label,u=e.Component},function(e){p=e.ponzi_controller},function(e){y=e.ccc_msg}],execute:function(){var f,g,h,d,m;c._RF.push({},"1f072PXdu1KhajgTKS+uklP","title-money",void 0);var b=l.ccclass,v=l.property;e("title_money",(f=b("title_money"),g=v({type:s}),f((m=n((d=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,r(n,"moneyLabel",m,i(n)),n._inited=!1,n}t(n,e);var c=n.prototype;return c.start=function(){},c.update=function(e){this._inited||this.init()},c.init=function(){var e=o(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=globalThis.ponzi.currentPlayer){e.next=3;break}return e.abrupt("return");case 3:return this._inited=!0,t=null,e.prev=5,e.next=8,null==window.queryValue?void 0:window.queryValue(window.env.components.Player,n);case 8:t=e.sent,this.moneyLabel.string=this.getBalanceString(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t=null;case 15:this.registerListeners();case 16:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),c.registerListeners=function(){var e=this,n=globalThis.ponzi.currentPlayer;p.instance.on(y.on_player_update,(function(t){var r=t.entity,i=(t.oldObj,t.newObj);n==r&&(e.moneyLabel.string=e.getBalanceString(i))}))},c.getBalanceString=function(e){return"BALANCE $"+e.money},n}(u)).prototype,"moneyLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));c._RF.pop()}}}));

System.register("chunks:///_virtual/toggle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,n,l,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Node,c=e.Component}],execute:function(){var s,u,p,g,f,y,v;n._RF.push({},"5994bopob5Cv4DCK56zzKaF","toggle",void 0);var b=l.ccclass,h=l.property;e("toggle",(s=b("toggle"),u=h({type:a}),p=h({type:a}),s((y=t((f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,o(t,"normal",y,i(t)),o(t,"select",v,i(t)),t}r(t,e);var n=t.prototype;return n.start=function(){},n.update=function(e){},n.setSelected=function(e){this.normal.active=!e,this.select.active=e},t}(c)).prototype,"normal",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(f.prototype,"select",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/trade_input_price.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ccc_msg.ts","./ponzi-controller.ts","./temp_data.ts"],(function(t){var e,n,i,r,o,c,a,s,u,l,p,d,f,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,u=t.EditBox,l=t.Component,p=t.log},function(t){d=t.ccc_msg},function(t){f=t.ponzi_controller},function(t){_=t.temp_data}],execute:function(){var g,C,h,v,b;a._RF.push({},"405c1e05X1AlbJ3m5SdZ5c6","trade_input_price",void 0);var m=s.ccclass,x=s.property;t("trade_input_price",(g=m("trade_input_price"),C=x({type:u}),g((b=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,i(e,"editBox",b,r(e)),e}n(e,t);var a=e.prototype;return a.start=function(){},a.update=function(t){},a.onBtnCloseClicked=function(){this.node.active=!1},a.onConfirmClicked=function(){var t=o(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p("Confirm",this.editBox.textLabel.string),f.instance.sendCCCMsg(d.network_block_ui,!0),t.prev=2,e=_.instance.getTradeInfo(),t.next=6,null==window.trade?void 0:window.trade(e[1],e[0],this.editBox.textLabel.string);case 6:f.instance.sendCCCMsg(d.single_button_dialog,{content:"Trade has been sent, please wait.",btnText:"OK"}),this.node.active=!1,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),f.instance.sendCCCMsg(d.single_button_dialog,{content:"Trade failed, conditions not met.",btnText:"OK"});case 13:return t.prev=13,f.instance.sendCCCMsg(d.network_block_ui,!1),t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[2,10,13,16]])})));return function(){return t.apply(this,arguments)}}(),e}(l)).prototype,"editBox",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/trade_parter_item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./toggle.ts","./item_asset.ts"],(function(t){var e,n,i,r,s,o,a,l,u,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,a=t.Label,l=t.Node,u=t.Component},function(t){c=t.toggle},function(t){p=t.item_asset}],execute:function(){var d,y,g,f,h,b,m,_,v;s._RF.push({},"e6d36LpflZAVrHvuiNRf44x","trade_parter_item",void 0);var x=o.ccclass,A=o.property;t("trade_parter_item",(d=x("trade_parter_item"),y=A({type:a}),g=A({type:l}),f=A({type:c}),d((m=e((b=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,i(e,"labelName",m,r(e)),i(e,"assetParent",_,r(e)),i(e,"toggle",v,r(e)),e.entity=void 0,e}n(e,t);var s=e.prototype;return s.start=function(){},s.update=function(t){},s.setSelected=function(t){this.toggle.setSelected(t)},s.init=function(t,e,n,i,r,s,o){this.labelName.string=t,this.setAssetCountByIndex(0,e),this.setAssetCountByIndex(1,n),this.setAssetCountByIndex(2,i),this.setAssetCountByIndex(3,r),this.setAssetCountByIndex(4,s),this.setAssetCountByIndex(5,o)},s.setAssetCountByIndex=function(t,e){this.assetParent.children[t].getComponent(p).label.string=e.toString()},e}(u)).prototype,"labelName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(b.prototype,"assetParent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(b.prototype,"toggle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/trade-ask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ponzi-controller.ts","./ccc_msg.ts","./string_utils.ts"],(function(e){var t,n,r,i,a,c,o,s,l,u,p,d,f,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,l=e.Label,u=e.Node,p=e.Component},function(e){d=e.ponzi_controller},function(e){f=e.ccc_msg},function(e){b=e.string_utils}],execute:function(){var g,h,v,_,w,C,k,y,m;o._RF.push({},"293aazEYTtEbpomexLptRJM","trade-ask",void 0);var L=s.ccclass,x=s.property;e("trade_ask",(g=L("trade_ask"),h=x({type:l}),v=x({type:l}),_=x({type:u}),g((k=t((C=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,r(t,"labelLine1",k,i(t)),r(t,"labelLine2",y,i(t)),r(t,"iconParent",m,i(t)),t}n(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){},o.init=function(e,t,n){for(var r=0;r<this.iconParent.children.length;r++)this.iconParent.children[r].active=r===n-1;this.labelLine1.string="User "+b.sliceLastN(e,6)+" wants to buy your "+this.getAssetName(n)+" for",this.labelLine2.string="$"+t},o.onBtnAcceptClicked=function(){var e=a(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.instance.sendCCCMsg(f.network_block_ui,!0),e.prev=1,e.next=4,null==window.acceptTrade?void 0:window.acceptTrade();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),d.instance.sendCCCMsg(f.single_button_dialog,{content:"Accept failed",btnText:"OK"});case 9:return e.prev=9,d.instance.sendCCCMsg(f.network_block_ui,!1),e.finish(9);case 12:this.node.active=!1;case 13:case"end":return e.stop()}}),e,this,[[1,6,9,12]])})));return function(){return e.apply(this,arguments)}}(),o.onBtnRejectClicked=function(){var e=a(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.instance.sendCCCMsg(f.network_block_ui,!0),e.prev=1,e.next=4,null==window.rejectTrade?void 0:window.rejectTrade();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),d.instance.sendCCCMsg(f.single_button_dialog,{content:"Accept failed",btnText:"OK"});case 9:return e.prev=9,d.instance.sendCCCMsg(f.network_block_ui,!1),e.finish(9);case 12:this.node.active=!1;case 13:case"end":return e.stop()}}),e,this,[[1,6,9,12]])})));return function(){return e.apply(this,arguments)}}(),o.getAssetName=function(e){return 1===e?"GPU":2===e?"bitcoin":3===e?"battery":4===e?"leiter":5===e?"gold":6===e?"oil":"unknown asset"},t}(p)).prototype,"labelLine1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(C.prototype,"labelLine2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(C.prototype,"iconParent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=C))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/trade-asset-item.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,a,i,n,o,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Node,s=e.Component}],execute:function(){var c,u,p,m,d,f,g;n._RF.push({},"00e3bOPa+pGmr23g33/bwXz","trade-asset-item",void 0);var y=o.ccclass,b=o.property;e("trade_asset_item",(c=y("trade_asset_item"),u=b({type:l}),p=b({type:l}),c((f=t((d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"normalImage",f,i(t)),a(t,"selectedImage",g,i(t)),t}r(t,e);var n=t.prototype;return n.start=function(){},n.update=function(e){},n.setSelected=function(e){this.normalImage.active=!e,this.selectedImage.active=e},t}(s)).prototype,"normalImage",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(d.prototype,"selectedImage",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=d))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/trade.ts",["./rollupPluginModLoBabelHelpers.js","cc","./trade-asset-item.ts","./ponzi-controller.ts","./ccc_msg.ts","./trade_parter_item.ts","./string_utils.ts","./temp_data.ts","./popeffect.ts"],(function(t){var e,n,r,i,a,s,o,c,u,l,p,d,f,h,g,m,v,b,y,_,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime,o=t.createForOfIteratorHelperLoose},function(t){c=t.cclegacy,u=t._decorator,l=t.Node,p=t.Component,d=t.instantiate,f=t.Vec3,h=t.log},function(t){g=t.trade_asset_item},function(t){m=t.ponzi_controller},function(t){v=t.ccc_msg},function(t){b=t.trade_parter_item},function(t){y=t.string_utils},function(t){_=t.temp_data},function(t){x=t.popeffect}],execute:function(){var C,w,P,k,I,T,E,z,M;c._RF.push({},"46d93LmPf1IGaA1Ix4Vqbkb","trade",void 0);var A=u.ccclass,L=u.property;t("trade",(C=A("trade"),w=L({type:l}),P=L({type:l}),k=L({type:l}),C((E=e((T=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,r(e,"assetsParent",E,i(e)),r(e,"partnerParent",z,i(e)),r(e,"tradeItemModel",M,i(e)),e.assetIndex=-1,e.partnerEntity=void 0,e._inited=!1,e}n(e,t);var c=e.prototype;return c.start=function(){this.tradeItemModel.active=!1},c.update=function(t){this._inited||this.init()},c.onCloseClicked=function(){this.hide()},c.show=function(){this.node.active=!0;var t=this.node.getComponent(x);t&&t.show()},c.hide=function(){var t=this.node.getComponent(x);t?t.hide():this.node.active=!1},c.reset=function(){this._inited=!1,this.partnerEntity=null,this.assetIndex=-1,this._resetAssets()},c.onTradeClicked=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(-1!==this.assetIndex){t.next=3;break}return m.instance.sendCCCMsg(v.single_button_dialog,{content:"Please choose an asset first.",btnText:"OK"}),t.abrupt("return");case 3:if(this.partnerEntity){t.next=6;break}return m.instance.sendCCCMsg(v.single_button_dialog,{content:"Please choose an trade partner first.",btnText:"OK"}),t.abrupt("return");case 6:_.instance.setTradeInfo(this.assetIndex,this.partnerEntity),this.node.active=!1,this.reset(),m.instance.sendCCCMsg(v.show_trade_input,null);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onAssetItemClicked=function(t){var e=this,n=t.target,r=this.assetsParent.children;r.forEach((function(t){t.getComponent(g).setSelected(n===t),n===t&&(e.assetIndex=r.indexOf(n)+1)}))},c.onParterBoxClicked=function(t){var e=this,n=t.target.parent;this.partnerParent.children.forEach((function(t){var r=t.getComponent(b);r.setSelected(n===t),n===t&&(e.partnerEntity=r.entity)}))},c.init=function(){var t=a(s().mark((function t(){var e,n,r,i,a,c,u,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._inited=!0,this.partnerParent.removeAllChildren(),t.next=4,this.getPartners();case 4:e=t.sent,n=o(e);case 6:if((r=n()).done){t.next=29;break}return i=r.value,a=null,t.prev=9,t.next=12,null==window.queryValue?void 0:window.queryValue(globalThis.env.components.AssetsList,i);case 12:a=t.sent,t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(9),h("Can not find assetslist on entity"),t.abrupt("continue",27);case 19:(c=d(this.tradeItemModel)).active=!0,c.parent=this.partnerParent,c.position=f.ZERO,(u=c.getComponent(b)).entity=i,l=y.truncateString(y.getHashFromSymbol(i)),u.init(l,a.gpu,a.bitcoin,a.battery,a.leiter,a.gold,a.oil);case 27:t.next=6;break;case 29:case"end":return t.stop()}}),t,this,[[9,15]])})));return function(){return t.apply(this,arguments)}}(),c.getPartners=function(){var t=a(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=globalThis.ponzi.currentPlayer,t.next=3,null==window.queryValue?void 0:window.queryValue(globalThis.env.components.TransactionList,e);case 3:if(n=t.sent){t.next=6;break}return t.abrupt("return",null);case 6:return console.error("partnerList:",n),t.abrupt("return",n.list);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c._resetAssets=function(){this.assetsParent.children.forEach((function(t){t.getComponent(g).setSelected(!1)}))},e}(p)).prototype,"assetsParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(T.prototype,"partnerParent",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(T.prototype,"tradeItemModel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=T))||I));c._RF.pop()}}}));

System.register("chunks:///_virtual/TradeListItem.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"60f0c6bPsZGiZMumBa6l3Er","TradeListItem",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/UnsolicitedTransactionObj.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"a9f7abiGsdPjopqeJNvQvmf","UnsolicitedTransactionObj",void 0);i("UnsolicitedTransactionObj",(function(){this.asset=void 0,this.money=void 0,this.from=void 0}));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});