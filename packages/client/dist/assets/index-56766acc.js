(function(){const Z=document.createElement("link").relList;if(Z&&Z.supports&&Z.supports("modulepreload"))return;for(const ie of document.querySelectorAll('link[rel="modulepreload"]'))te(ie);new MutationObserver(ie=>{for(const oe of ie)if(oe.type==="childList")for(const se of oe.addedNodes)se.tagName==="LINK"&&se.rel==="modulepreload"&&te(se)}).observe(document,{childList:!0,subtree:!0});function X(ie){const oe={};return ie.integrity&&(oe.integrity=ie.integrity),ie.referrerPolicy&&(oe.referrerPolicy=ie.referrerPolicy),ie.crossOrigin==="use-credentials"?oe.credentials="include":ie.crossOrigin==="anonymous"?oe.credentials="omit":oe.credentials="same-origin",oe}function te(ie){if(ie.ep)return;ie.ep=!0;const oe=X(ie);fetch(ie.href,oe)}})();const style="",scriptRel="modulepreload",assetsURL=function(L){return"/"+L},seen={},__vitePreload=function(Z,X,te){if(!X||X.length===0)return Z();const ie=document.getElementsByTagName("link");return Promise.all(X.map(oe=>{if(oe=assetsURL(oe),oe in seen)return;seen[oe]=!0;const se=oe.endsWith(".css"),ue=se?'[rel="stylesheet"]':"";if(!!te)for(let de=ie.length-1;de>=0;de--){const he=ie[de];if(he.href===oe&&(!se||he.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${oe}"]${ue}`))return;const le=document.createElement("link");if(le.rel=se?"stylesheet":scriptRel,se||(le.as="script",le.crossOrigin=""),le.href=oe,document.head.appendChild(le),se)return new Promise((de,he)=>{le.addEventListener("load",de),le.addEventListener("error",()=>he(new Error(`Unable to preload CSS for ${oe}`)))})})).then(()=>Z())};function createClientComponents({components:L}){return{...L}}function die(L){for(var Z=arguments.length,X=new Array(Z>1?Z-1:0),te=1;te<Z;te++)X[te-1]=arguments[te];throw new Error(typeof L=="number"?"[MobX] minified error nr: "+L+(X.length?" "+X.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+L)}var mockGlobal={};function getGlobal(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:mockGlobal}var assign=Object.assign,getDescriptor=Object.getOwnPropertyDescriptor,defineProperty$1=Object.defineProperty,objectPrototype=Object.prototype,EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);var EMPTY_OBJECT={};Object.freeze(EMPTY_OBJECT);var hasProxy=typeof Proxy<"u",plainObjectString=Object.toString();function assertProxies(){hasProxy||die("Proxy not available")}function once(L){var Z=!1;return function(){if(!Z)return Z=!0,L.apply(this,arguments)}}var noop$3=function(){};function isFunction$3(L){return typeof L=="function"}function isStringish(L){var Z=typeof L;switch(Z){case"string":case"symbol":case"number":return!0}return!1}function isObject$1(L){return L!==null&&typeof L=="object"}function isPlainObject$2(L){if(!isObject$1(L))return!1;var Z=Object.getPrototypeOf(L);if(Z==null)return!0;var X=Object.hasOwnProperty.call(Z,"constructor")&&Z.constructor;return typeof X=="function"&&X.toString()===plainObjectString}function isGenerator(L){var Z=L?.constructor;return Z?Z.name==="GeneratorFunction"||Z.displayName==="GeneratorFunction":!1}function addHiddenProp(L,Z,X){defineProperty$1(L,Z,{enumerable:!1,writable:!0,configurable:!0,value:X})}function addHiddenFinalProp(L,Z,X){defineProperty$1(L,Z,{enumerable:!1,writable:!1,configurable:!0,value:X})}function createInstanceofPredicate(L,Z){var X="isMobX"+L;return Z.prototype[X]=!0,function(te){return isObject$1(te)&&te[X]===!0}}function isES6Map(L){return L instanceof Map}function isES6Set(L){return L instanceof Set}var hasGetOwnPropertySymbols=typeof Object.getOwnPropertySymbols<"u";function getPlainObjectKeys(L){var Z=Object.keys(L);if(!hasGetOwnPropertySymbols)return Z;var X=Object.getOwnPropertySymbols(L);return X.length?[].concat(Z,X.filter(function(te){return objectPrototype.propertyIsEnumerable.call(L,te)})):Z}var ownKeys=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hasGetOwnPropertySymbols?function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:Object.getOwnPropertyNames;function toPrimitive(L){return L===null?null:typeof L=="object"?""+L:L}function hasProp(L,Z){return objectPrototype.hasOwnProperty.call(L,Z)}var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function(Z){var X={};return ownKeys(Z).forEach(function(te){X[te]=getDescriptor(Z,te)}),X};function _defineProperties(L,Z){for(var X=0;X<Z.length;X++){var te=Z[X];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(L,_toPropertyKey(te.key),te)}}function _createClass(L,Z,X){return Z&&_defineProperties(L.prototype,Z),X&&_defineProperties(L,X),Object.defineProperty(L,"prototype",{writable:!1}),L}function _extends(){return _extends=Object.assign?Object.assign.bind():function(L){for(var Z=1;Z<arguments.length;Z++){var X=arguments[Z];for(var te in X)Object.prototype.hasOwnProperty.call(X,te)&&(L[te]=X[te])}return L},_extends.apply(this,arguments)}function _inheritsLoose(L,Z){L.prototype=Object.create(Z.prototype),L.prototype.constructor=L,_setPrototypeOf(L,Z)}function _setPrototypeOf(L,Z){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,ie){return te.__proto__=ie,te},_setPrototypeOf(L,Z)}function _assertThisInitialized(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function _unsupportedIterableToArray(L,Z){if(L){if(typeof L=="string")return _arrayLikeToArray(L,Z);var X=Object.prototype.toString.call(L).slice(8,-1);if(X==="Object"&&L.constructor&&(X=L.constructor.name),X==="Map"||X==="Set")return Array.from(L);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return _arrayLikeToArray(L,Z)}}function _arrayLikeToArray(L,Z){(Z==null||Z>L.length)&&(Z=L.length);for(var X=0,te=new Array(Z);X<Z;X++)te[X]=L[X];return te}function _createForOfIteratorHelperLoose(L,Z){var X=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(X)return(X=X.call(L)).next.bind(X);if(Array.isArray(L)||(X=_unsupportedIterableToArray(L))||Z&&L&&typeof L.length=="number"){X&&(L=X);var te=0;return function(){return te>=L.length?{done:!0}:{done:!1,value:L[te++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(L,Z){if(typeof L!="object"||L===null)return L;var X=L[Symbol.toPrimitive];if(X!==void 0){var te=X.call(L,Z||"default");if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(L)}function _toPropertyKey(L){var Z=_toPrimitive(L,"string");return typeof Z=="symbol"?Z:String(Z)}var storedAnnotationsSymbol=Symbol("mobx-stored-annotations");function createDecoratorAnnotation(L){function Z(X,te){storeAnnotation(X,te,L)}return Object.assign(Z,L)}function storeAnnotation(L,Z,X){hasProp(L,storedAnnotationsSymbol)||addHiddenProp(L,storedAnnotationsSymbol,_extends({},L[storedAnnotationsSymbol])),isOverride(X)||(L[storedAnnotationsSymbol][Z]=X)}var $mobx=Symbol("mobx administration"),Atom=function(){function L(X){X===void 0&&(X="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=X}var Z=L.prototype;return Z.onBO=function(){this.onBOL&&this.onBOL.forEach(function(te){return te()})},Z.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(te){return te()})},Z.reportObserved=function(){return reportObserved(this)},Z.reportChanged=function(){startBatch(),propagateChanged(this),globalState.stateVersion=globalState.stateVersion<Number.MAX_SAFE_INTEGER?globalState.stateVersion+1:Number.MIN_SAFE_INTEGER,endBatch()},Z.toString=function(){return this.name_},L}(),isAtom=createInstanceofPredicate("Atom",Atom);function createAtom(L,Z,X){Z===void 0&&(Z=noop$3),X===void 0&&(X=noop$3);var te=new Atom(L);return Z!==noop$3&&onBecomeObserved(te,Z),X!==noop$3&&onBecomeUnobserved(te,X),te}function identityComparer(L,Z){return L===Z}function structuralComparer(L,Z){return deepEqual(L,Z)}function shallowComparer(L,Z){return deepEqual(L,Z,1)}function defaultComparer(L,Z){return Object.is?Object.is(L,Z):L===Z?L!==0||1/L===1/Z:L!==L&&Z!==Z}var comparer={identity:identityComparer,structural:structuralComparer,default:defaultComparer,shallow:shallowComparer};function deepEnhancer(L,Z,X){return isObservable(L)?L:Array.isArray(L)?observable$2.array(L,{name:X}):isPlainObject$2(L)?observable$2.object(L,void 0,{name:X}):isES6Map(L)?observable$2.map(L,{name:X}):isES6Set(L)?observable$2.set(L,{name:X}):typeof L=="function"&&!isAction(L)&&!isFlow(L)?isGenerator(L)?flow(L):autoAction(X,L):L}function shallowEnhancer(L,Z,X){if(L==null||isObservableObject(L)||isObservableArray(L)||isObservableMap(L)||isObservableSet(L))return L;if(Array.isArray(L))return observable$2.array(L,{name:X,deep:!1});if(isPlainObject$2(L))return observable$2.object(L,void 0,{name:X,deep:!1});if(isES6Map(L))return observable$2.map(L,{name:X,deep:!1});if(isES6Set(L))return observable$2.set(L,{name:X,deep:!1})}function referenceEnhancer(L){return L}function refStructEnhancer(L,Z){return deepEqual(L,Z)?Z:L}var OVERRIDE="override";function isOverride(L){return L.annotationType_===OVERRIDE}function createActionAnnotation(L,Z){return{annotationType_:L,options_:Z,make_:make_$1,extend_:extend_$1}}function make_$1(L,Z,X,te){var ie;if((ie=this.options_)!=null&&ie.bound)return this.extend_(L,Z,X,!1)===null?0:1;if(te===L.target_)return this.extend_(L,Z,X,!1)===null?0:2;if(isAction(X.value))return 1;var oe=createActionDescriptor(L,this,Z,X,!1);return defineProperty$1(te,Z,oe),2}function extend_$1(L,Z,X,te){var ie=createActionDescriptor(L,this,Z,X);return L.defineProperty_(Z,ie,te)}function assertActionDescriptor(L,Z,X,te){Z.annotationType_,te.value}function createActionDescriptor(L,Z,X,te,ie){var oe,se,ue,ce,le,de,he;ie===void 0&&(ie=globalState.safeDescriptors),assertActionDescriptor(L,Z,X,te);var ge=te.value;if((oe=Z.options_)!=null&&oe.bound){var _e;ge=ge.bind((_e=L.proxy_)!=null?_e:L.target_)}return{value:createAction((se=(ue=Z.options_)==null?void 0:ue.name)!=null?se:X.toString(),ge,(ce=(le=Z.options_)==null?void 0:le.autoAction)!=null?ce:!1,(de=Z.options_)!=null&&de.bound?(he=L.proxy_)!=null?he:L.target_:void 0),configurable:ie?L.isPlainObject_:!0,enumerable:!1,writable:!ie}}function createFlowAnnotation(L,Z){return{annotationType_:L,options_:Z,make_:make_$2,extend_:extend_$2}}function make_$2(L,Z,X,te){var ie;if(te===L.target_)return this.extend_(L,Z,X,!1)===null?0:2;if((ie=this.options_)!=null&&ie.bound&&(!hasProp(L.target_,Z)||!isFlow(L.target_[Z]))&&this.extend_(L,Z,X,!1)===null)return 0;if(isFlow(X.value))return 1;var oe=createFlowDescriptor(L,this,Z,X,!1,!1);return defineProperty$1(te,Z,oe),2}function extend_$2(L,Z,X,te){var ie,oe=createFlowDescriptor(L,this,Z,X,(ie=this.options_)==null?void 0:ie.bound);return L.defineProperty_(Z,oe,te)}function assertFlowDescriptor(L,Z,X,te){Z.annotationType_,te.value}function createFlowDescriptor(L,Z,X,te,ie,oe){oe===void 0&&(oe=globalState.safeDescriptors),assertFlowDescriptor(L,Z,X,te);var se=te.value;if(isFlow(se)||(se=flow(se)),ie){var ue;se=se.bind((ue=L.proxy_)!=null?ue:L.target_),se.isMobXFlow=!0}return{value:se,configurable:oe?L.isPlainObject_:!0,enumerable:!1,writable:!oe}}function createComputedAnnotation(L,Z){return{annotationType_:L,options_:Z,make_:make_$3,extend_:extend_$3}}function make_$3(L,Z,X){return this.extend_(L,Z,X,!1)===null?0:1}function extend_$3(L,Z,X,te){return assertComputedDescriptor(L,this,Z,X),L.defineComputedProperty_(Z,_extends({},this.options_,{get:X.get,set:X.set}),te)}function assertComputedDescriptor(L,Z,X,te){Z.annotationType_,te.get}function createObservableAnnotation(L,Z){return{annotationType_:L,options_:Z,make_:make_$4,extend_:extend_$4}}function make_$4(L,Z,X){return this.extend_(L,Z,X,!1)===null?0:1}function extend_$4(L,Z,X,te){var ie,oe;return assertObservableDescriptor(L,this),L.defineObservableProperty_(Z,X.value,(ie=(oe=this.options_)==null?void 0:oe.enhancer)!=null?ie:deepEnhancer,te)}function assertObservableDescriptor(L,Z,X,te){Z.annotationType_}var AUTO="true",autoAnnotation=createAutoAnnotation();function createAutoAnnotation(L){return{annotationType_:AUTO,options_:L,make_:make_$5,extend_:extend_$5}}function make_$5(L,Z,X,te){var ie,oe;if(X.get)return computed.make_(L,Z,X,te);if(X.set){var se=createAction(Z.toString(),X.set);return te===L.target_?L.defineProperty_(Z,{configurable:globalState.safeDescriptors?L.isPlainObject_:!0,set:se})===null?0:2:(defineProperty$1(te,Z,{configurable:!0,set:se}),2)}if(te!==L.target_&&typeof X.value=="function"){var ue;if(isGenerator(X.value)){var ce,le=(ce=this.options_)!=null&&ce.autoBind?flow.bound:flow;return le.make_(L,Z,X,te)}var de=(ue=this.options_)!=null&&ue.autoBind?autoAction.bound:autoAction;return de.make_(L,Z,X,te)}var he=((ie=this.options_)==null?void 0:ie.deep)===!1?observable$2.ref:observable$2;if(typeof X.value=="function"&&(oe=this.options_)!=null&&oe.autoBind){var ge;X.value=X.value.bind((ge=L.proxy_)!=null?ge:L.target_)}return he.make_(L,Z,X,te)}function extend_$5(L,Z,X,te){var ie,oe;if(X.get)return computed.extend_(L,Z,X,te);if(X.set)return L.defineProperty_(Z,{configurable:globalState.safeDescriptors?L.isPlainObject_:!0,set:createAction(Z.toString(),X.set)},te);if(typeof X.value=="function"&&(ie=this.options_)!=null&&ie.autoBind){var se;X.value=X.value.bind((se=L.proxy_)!=null?se:L.target_)}var ue=((oe=this.options_)==null?void 0:oe.deep)===!1?observable$2.ref:observable$2;return ue.extend_(L,Z,X,te)}var OBSERVABLE="observable",OBSERVABLE_REF="observable.ref",OBSERVABLE_SHALLOW="observable.shallow",OBSERVABLE_STRUCT="observable.struct",defaultCreateObservableOptions={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(defaultCreateObservableOptions);function asCreateObservableOptions(L){return L||defaultCreateObservableOptions}var observableAnnotation=createObservableAnnotation(OBSERVABLE),observableRefAnnotation=createObservableAnnotation(OBSERVABLE_REF,{enhancer:referenceEnhancer}),observableShallowAnnotation=createObservableAnnotation(OBSERVABLE_SHALLOW,{enhancer:shallowEnhancer}),observableStructAnnotation=createObservableAnnotation(OBSERVABLE_STRUCT,{enhancer:refStructEnhancer}),observableDecoratorAnnotation=createDecoratorAnnotation(observableAnnotation);function getEnhancerFromOptions(L){return L.deep===!0?deepEnhancer:L.deep===!1?referenceEnhancer:getEnhancerFromAnnotation(L.defaultDecorator)}function getAnnotationFromOptions(L){var Z;return L?(Z=L.defaultDecorator)!=null?Z:createAutoAnnotation(L):void 0}function getEnhancerFromAnnotation(L){var Z,X;return L&&(Z=(X=L.options_)==null?void 0:X.enhancer)!=null?Z:deepEnhancer}function createObservable(L,Z,X){if(isStringish(Z)){storeAnnotation(L,Z,observableAnnotation);return}return isObservable(L)?L:isPlainObject$2(L)?observable$2.object(L,Z,X):Array.isArray(L)?observable$2.array(L,Z):isES6Map(L)?observable$2.map(L,Z):isES6Set(L)?observable$2.set(L,Z):typeof L=="object"&&L!==null?L:observable$2.box(L,Z)}assign(createObservable,observableDecoratorAnnotation);var observableFactories={box:function(Z,X){var te=asCreateObservableOptions(X);return new ObservableValue(Z,getEnhancerFromOptions(te),te.name,!0,te.equals)},array:function(Z,X){var te=asCreateObservableOptions(X);return(globalState.useProxies===!1||te.proxy===!1?createLegacyArray:createObservableArray)(Z,getEnhancerFromOptions(te),te.name)},map:function(Z,X){var te=asCreateObservableOptions(X);return new ObservableMap(Z,getEnhancerFromOptions(te),te.name)},set:function(Z,X){var te=asCreateObservableOptions(X);return new ObservableSet(Z,getEnhancerFromOptions(te),te.name)},object:function(Z,X,te){return extendObservable(globalState.useProxies===!1||te?.proxy===!1?asObservableObject({},te):asDynamicObservableObject({},te),Z,X)},ref:createDecoratorAnnotation(observableRefAnnotation),shallow:createDecoratorAnnotation(observableShallowAnnotation),deep:observableDecoratorAnnotation,struct:createDecoratorAnnotation(observableStructAnnotation)},observable$2=assign(createObservable,observableFactories),COMPUTED="computed",COMPUTED_STRUCT="computed.struct",computedAnnotation=createComputedAnnotation(COMPUTED),computedStructAnnotation=createComputedAnnotation(COMPUTED_STRUCT,{equals:comparer.structural}),computed=function(Z,X){if(isStringish(X))return storeAnnotation(Z,X,computedAnnotation);if(isPlainObject$2(Z))return createDecoratorAnnotation(createComputedAnnotation(COMPUTED,Z));var te=isPlainObject$2(X)?X:{};return te.get=Z,te.name||(te.name=Z.name||""),new ComputedValue(te)};Object.assign(computed,computedAnnotation);computed.struct=createDecoratorAnnotation(computedStructAnnotation);var _getDescriptor$config,_getDescriptor,currentActionId=0,nextActionId=1,isFunctionNameConfigurable=(_getDescriptor$config=(_getDescriptor=getDescriptor(function(){},"name"))==null?void 0:_getDescriptor.configurable)!=null?_getDescriptor$config:!1,tmpNameDescriptor={value:"action",configurable:!0,writable:!1,enumerable:!1};function createAction(L,Z,X,te){X===void 0&&(X=!1);function ie(){return executeAction(L,X,Z,te||this,arguments)}return ie.isMobxAction=!0,isFunctionNameConfigurable&&(tmpNameDescriptor.value=L,defineProperty$1(ie,"name",tmpNameDescriptor)),ie}function executeAction(L,Z,X,te,ie){var oe=_startAction(L,Z);try{return X.apply(te,ie)}catch(se){throw oe.error_=se,se}finally{_endAction(oe)}}function _startAction(L,Z,X,te){var ie=!1,oe=0,se=globalState.trackingDerivation,ue=!Z||!se;startBatch();var ce=globalState.allowStateChanges;ue&&(untrackedStart(),ce=allowStateChangesStart(!0));var le=allowStateReadsStart(!0),de={runAsAction_:ue,prevDerivation_:se,prevAllowStateChanges_:ce,prevAllowStateReads_:le,notifySpy_:ie,startTime_:oe,actionId_:nextActionId++,parentActionId_:currentActionId};return currentActionId=de.actionId_,de}function _endAction(L){currentActionId!==L.actionId_&&die(30),currentActionId=L.parentActionId_,L.error_!==void 0&&(globalState.suppressReactionErrors=!0),allowStateChangesEnd(L.prevAllowStateChanges_),allowStateReadsEnd(L.prevAllowStateReads_),endBatch(),L.runAsAction_&&untrackedEnd(L.prevDerivation_),globalState.suppressReactionErrors=!1}function allowStateChanges(L,Z){var X=allowStateChangesStart(L);try{return Z()}finally{allowStateChangesEnd(X)}}function allowStateChangesStart(L){var Z=globalState.allowStateChanges;return globalState.allowStateChanges=L,Z}function allowStateChangesEnd(L){globalState.allowStateChanges=L}var _Symbol$toPrimitive;_Symbol$toPrimitive=Symbol.toPrimitive;var ObservableValue=function(L){_inheritsLoose(Z,L);function Z(te,ie,oe,se,ue){var ce;return oe===void 0&&(oe="ObservableValue"),ue===void 0&&(ue=comparer.default),ce=L.call(this,oe)||this,ce.enhancer=void 0,ce.name_=void 0,ce.equals=void 0,ce.hasUnreportedChange_=!1,ce.interceptors_=void 0,ce.changeListeners_=void 0,ce.value_=void 0,ce.dehancer=void 0,ce.enhancer=ie,ce.name_=oe,ce.equals=ue,ce.value_=ie(te,void 0,oe),ce}var X=Z.prototype;return X.dehanceValue=function(ie){return this.dehancer!==void 0?this.dehancer(ie):ie},X.set=function(ie){this.value_,ie=this.prepareNewValue_(ie),ie!==globalState.UNCHANGED&&this.setNewValue_(ie)},X.prepareNewValue_=function(ie){if(hasInterceptors(this)){var oe=interceptChange(this,{object:this,type:UPDATE,newValue:ie});if(!oe)return globalState.UNCHANGED;ie=oe.newValue}return ie=this.enhancer(ie,this.value_,this.name_),this.equals(this.value_,ie)?globalState.UNCHANGED:ie},X.setNewValue_=function(ie){var oe=this.value_;this.value_=ie,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:UPDATE,object:this,newValue:ie,oldValue:oe})},X.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},X.intercept_=function(ie){return registerInterceptor(this,ie)},X.observe_=function(ie,oe){return oe&&ie({observableKind:"value",debugObjectName:this.name_,object:this,type:UPDATE,newValue:this.value_,oldValue:void 0}),registerListener(this,ie)},X.raw=function(){return this.value_},X.toJSON=function(){return this.get()},X.toString=function(){return this.name_+"["+this.value_+"]"},X.valueOf=function(){return toPrimitive(this.get())},X[_Symbol$toPrimitive]=function(){return this.valueOf()},Z}(Atom),_Symbol$toPrimitive$1;_Symbol$toPrimitive$1=Symbol.toPrimitive;var ComputedValue=function(){function L(X){this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new CaughtException(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=TraceMode.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,X.get||die(31),this.derivation=X.get,this.name_=X.name||"ComputedValue",X.set&&(this.setter_=createAction("ComputedValue-setter",X.set)),this.equals_=X.equals||(X.compareStructural||X.struct?comparer.structural:comparer.default),this.scope_=X.context,this.requiresReaction_=X.requiresReaction,this.keepAlive_=!!X.keepAlive}var Z=L.prototype;return Z.onBecomeStale_=function(){propagateMaybeChanged(this)},Z.onBO=function(){this.onBOL&&this.onBOL.forEach(function(te){return te()})},Z.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(te){return te()})},Z.get=function(){if(this.isComputing_&&die(32,this.name_,this.derivation),globalState.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)shouldCompute(this)&&(this.warnAboutUntrackedRead_(),startBatch(),this.value_=this.computeValue_(!1),endBatch());else if(reportObserved(this),shouldCompute(this)){var te=globalState.trackingContext;this.keepAlive_&&!te&&(globalState.trackingContext=this),this.trackAndCompute()&&propagateChangeConfirmed(this),globalState.trackingContext=te}var ie=this.value_;if(isCaughtException(ie))throw ie.cause;return ie},Z.set=function(te){if(this.setter_){this.isRunningSetter_&&die(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,te)}finally{this.isRunningSetter_=!1}}else die(34,this.name_)},Z.trackAndCompute=function(){var te=this.value_,ie=this.dependenciesState_===IDerivationState_.NOT_TRACKING_,oe=this.computeValue_(!0),se=ie||isCaughtException(te)||isCaughtException(oe)||!this.equals_(te,oe);return se&&(this.value_=oe),se},Z.computeValue_=function(te){this.isComputing_=!0;var ie=allowStateChangesStart(!1),oe;if(te)oe=trackDerivedFunction(this,this.derivation,this.scope_);else if(globalState.disableErrorBoundaries===!0)oe=this.derivation.call(this.scope_);else try{oe=this.derivation.call(this.scope_)}catch(se){oe=new CaughtException(se)}return allowStateChangesEnd(ie),this.isComputing_=!1,oe},Z.suspend_=function(){this.keepAlive_||(clearObserving(this),this.value_=void 0)},Z.observe_=function(te,ie){var oe=this,se=!0,ue=void 0;return autorun(function(){var ce=oe.get();if(!se||ie){var le=untrackedStart();te({observableKind:"computed",debugObjectName:oe.name_,type:UPDATE,object:oe,newValue:ce,oldValue:ue}),untrackedEnd(le)}se=!1,ue=ce})},Z.warnAboutUntrackedRead_=function(){},Z.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},Z.valueOf=function(){return toPrimitive(this.get())},Z[_Symbol$toPrimitive$1]=function(){return this.valueOf()},L}(),isComputedValue=createInstanceofPredicate("ComputedValue",ComputedValue),IDerivationState_;(function(L){L[L.NOT_TRACKING_=-1]="NOT_TRACKING_",L[L.UP_TO_DATE_=0]="UP_TO_DATE_",L[L.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",L[L.STALE_=2]="STALE_"})(IDerivationState_||(IDerivationState_={}));var TraceMode;(function(L){L[L.NONE=0]="NONE",L[L.LOG=1]="LOG",L[L.BREAK=2]="BREAK"})(TraceMode||(TraceMode={}));var CaughtException=function(Z){this.cause=void 0,this.cause=Z};function isCaughtException(L){return L instanceof CaughtException}function shouldCompute(L){switch(L.dependenciesState_){case IDerivationState_.UP_TO_DATE_:return!1;case IDerivationState_.NOT_TRACKING_:case IDerivationState_.STALE_:return!0;case IDerivationState_.POSSIBLY_STALE_:{for(var Z=allowStateReadsStart(!0),X=untrackedStart(),te=L.observing_,ie=te.length,oe=0;oe<ie;oe++){var se=te[oe];if(isComputedValue(se)){if(globalState.disableErrorBoundaries)se.get();else try{se.get()}catch{return untrackedEnd(X),allowStateReadsEnd(Z),!0}if(L.dependenciesState_===IDerivationState_.STALE_)return untrackedEnd(X),allowStateReadsEnd(Z),!0}}return changeDependenciesStateTo0(L),untrackedEnd(X),allowStateReadsEnd(Z),!1}}}function checkIfStateModificationsAreAllowed(L){}function trackDerivedFunction(L,Z,X){var te=allowStateReadsStart(!0);changeDependenciesStateTo0(L),L.newObserving_=new Array(L.observing_.length+100),L.unboundDepsCount_=0,L.runId_=++globalState.runId;var ie=globalState.trackingDerivation;globalState.trackingDerivation=L,globalState.inBatch++;var oe;if(globalState.disableErrorBoundaries===!0)oe=Z.call(X);else try{oe=Z.call(X)}catch(se){oe=new CaughtException(se)}return globalState.inBatch--,globalState.trackingDerivation=ie,bindDependencies(L),allowStateReadsEnd(te),oe}function bindDependencies(L){for(var Z=L.observing_,X=L.observing_=L.newObserving_,te=IDerivationState_.UP_TO_DATE_,ie=0,oe=L.unboundDepsCount_,se=0;se<oe;se++){var ue=X[se];ue.diffValue_===0&&(ue.diffValue_=1,ie!==se&&(X[ie]=ue),ie++),ue.dependenciesState_>te&&(te=ue.dependenciesState_)}for(X.length=ie,L.newObserving_=null,oe=Z.length;oe--;){var ce=Z[oe];ce.diffValue_===0&&removeObserver(ce,L),ce.diffValue_=0}for(;ie--;){var le=X[ie];le.diffValue_===1&&(le.diffValue_=0,addObserver(le,L))}te!==IDerivationState_.UP_TO_DATE_&&(L.dependenciesState_=te,L.onBecomeStale_())}function clearObserving(L){var Z=L.observing_;L.observing_=[];for(var X=Z.length;X--;)removeObserver(Z[X],L);L.dependenciesState_=IDerivationState_.NOT_TRACKING_}function untracked(L){var Z=untrackedStart();try{return L()}finally{untrackedEnd(Z)}}function untrackedStart(){var L=globalState.trackingDerivation;return globalState.trackingDerivation=null,L}function untrackedEnd(L){globalState.trackingDerivation=L}function allowStateReadsStart(L){var Z=globalState.allowStateReads;return globalState.allowStateReads=L,Z}function allowStateReadsEnd(L){globalState.allowStateReads=L}function changeDependenciesStateTo0(L){if(L.dependenciesState_!==IDerivationState_.UP_TO_DATE_){L.dependenciesState_=IDerivationState_.UP_TO_DATE_;for(var Z=L.observing_,X=Z.length;X--;)Z[X].lowestObserverState_=IDerivationState_.UP_TO_DATE_}}var MobXGlobals=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},canMergeGlobalState=!0,globalState=function(){var L=getGlobal();return L.__mobxInstanceCount>0&&!L.__mobxGlobals&&(canMergeGlobalState=!1),L.__mobxGlobals&&L.__mobxGlobals.version!==new MobXGlobals().version&&(canMergeGlobalState=!1),canMergeGlobalState?L.__mobxGlobals?(L.__mobxInstanceCount+=1,L.__mobxGlobals.UNCHANGED||(L.__mobxGlobals.UNCHANGED={}),L.__mobxGlobals):(L.__mobxInstanceCount=1,L.__mobxGlobals=new MobXGlobals):(setTimeout(function(){die(35)},1),new MobXGlobals)}();function addObserver(L,Z){L.observers_.add(Z),L.lowestObserverState_>Z.dependenciesState_&&(L.lowestObserverState_=Z.dependenciesState_)}function removeObserver(L,Z){L.observers_.delete(Z),L.observers_.size===0&&queueForUnobservation(L)}function queueForUnobservation(L){L.isPendingUnobservation_===!1&&(L.isPendingUnobservation_=!0,globalState.pendingUnobservations.push(L))}function startBatch(){globalState.inBatch++}function endBatch(){if(--globalState.inBatch===0){runReactions();for(var L=globalState.pendingUnobservations,Z=0;Z<L.length;Z++){var X=L[Z];X.isPendingUnobservation_=!1,X.observers_.size===0&&(X.isBeingObserved_&&(X.isBeingObserved_=!1,X.onBUO()),X instanceof ComputedValue&&X.suspend_())}globalState.pendingUnobservations=[]}}function reportObserved(L){var Z=globalState.trackingDerivation;return Z!==null?(Z.runId_!==L.lastAccessedBy_&&(L.lastAccessedBy_=Z.runId_,Z.newObserving_[Z.unboundDepsCount_++]=L,!L.isBeingObserved_&&globalState.trackingContext&&(L.isBeingObserved_=!0,L.onBO())),L.isBeingObserved_):(L.observers_.size===0&&globalState.inBatch>0&&queueForUnobservation(L),!1)}function propagateChanged(L){L.lowestObserverState_!==IDerivationState_.STALE_&&(L.lowestObserverState_=IDerivationState_.STALE_,L.observers_.forEach(function(Z){Z.dependenciesState_===IDerivationState_.UP_TO_DATE_&&Z.onBecomeStale_(),Z.dependenciesState_=IDerivationState_.STALE_}))}function propagateChangeConfirmed(L){L.lowestObserverState_!==IDerivationState_.STALE_&&(L.lowestObserverState_=IDerivationState_.STALE_,L.observers_.forEach(function(Z){Z.dependenciesState_===IDerivationState_.POSSIBLY_STALE_?Z.dependenciesState_=IDerivationState_.STALE_:Z.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(L.lowestObserverState_=IDerivationState_.UP_TO_DATE_)}))}function propagateMaybeChanged(L){L.lowestObserverState_===IDerivationState_.UP_TO_DATE_&&(L.lowestObserverState_=IDerivationState_.POSSIBLY_STALE_,L.observers_.forEach(function(Z){Z.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(Z.dependenciesState_=IDerivationState_.POSSIBLY_STALE_,Z.onBecomeStale_())}))}var Reaction=function(){function L(X,te,ie,oe){X===void 0&&(X="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=TraceMode.NONE,this.name_=X,this.onInvalidate_=te,this.errorHandler_=ie,this.requiresObservable_=oe}var Z=L.prototype;return Z.onBecomeStale_=function(){this.schedule_()},Z.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,globalState.pendingReactions.push(this),runReactions())},Z.isScheduled=function(){return this.isScheduled_},Z.runReaction_=function(){if(!this.isDisposed_){startBatch(),this.isScheduled_=!1;var te=globalState.trackingContext;if(globalState.trackingContext=this,shouldCompute(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(ie){this.reportExceptionInDerivation_(ie)}}globalState.trackingContext=te,endBatch()}},Z.track=function(te){if(!this.isDisposed_){startBatch(),this.isRunning_=!0;var ie=globalState.trackingContext;globalState.trackingContext=this;var oe=trackDerivedFunction(this,te,void 0);globalState.trackingContext=ie,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&clearObserving(this),isCaughtException(oe)&&this.reportExceptionInDerivation_(oe.cause),endBatch()}},Z.reportExceptionInDerivation_=function(te){var ie=this;if(this.errorHandler_){this.errorHandler_(te,this);return}if(globalState.disableErrorBoundaries)throw te;var oe="[mobx] uncaught error in '"+this+"'";globalState.suppressReactionErrors||console.error(oe,te),globalState.globalReactionErrorHandlers.forEach(function(se){return se(te,ie)})},Z.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(startBatch(),clearObserving(this),endBatch()))},Z.getDisposer_=function(te){var ie=this,oe=function se(){ie.dispose(),te==null||te.removeEventListener==null||te.removeEventListener("abort",se)};return te==null||te.addEventListener==null||te.addEventListener("abort",oe),oe[$mobx]=this,oe},Z.toString=function(){return"Reaction["+this.name_+"]"},Z.trace=function(te){},L}(),MAX_REACTION_ITERATIONS=100,reactionScheduler=function(Z){return Z()};function runReactions(){globalState.inBatch>0||globalState.isRunningReactions||reactionScheduler(runReactionsHelper)}function runReactionsHelper(){globalState.isRunningReactions=!0;for(var L=globalState.pendingReactions,Z=0;L.length>0;){++Z===MAX_REACTION_ITERATIONS&&(console.error("[mobx] cycle in reaction: "+L[0]),L.splice(0));for(var X=L.splice(0),te=0,ie=X.length;te<ie;te++)X[te].runReaction_()}globalState.isRunningReactions=!1}var isReaction=createInstanceofPredicate("Reaction",Reaction);function isSpyEnabled(){return!1}function spyReport(L){}function spyReportStart(L){}function spyReportEnd(L){}function spy(L){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ACTION="action",ACTION_BOUND="action.bound",AUTOACTION="autoAction",AUTOACTION_BOUND="autoAction.bound",DEFAULT_ACTION_NAME="<unnamed action>",actionAnnotation=createActionAnnotation(ACTION),actionBoundAnnotation=createActionAnnotation(ACTION_BOUND,{bound:!0}),autoActionAnnotation=createActionAnnotation(AUTOACTION,{autoAction:!0}),autoActionBoundAnnotation=createActionAnnotation(AUTOACTION_BOUND,{autoAction:!0,bound:!0});function createActionFactory(L){var Z=function(te,ie){if(isFunction$3(te))return createAction(te.name||DEFAULT_ACTION_NAME,te,L);if(isFunction$3(ie))return createAction(te,ie,L);if(isStringish(ie))return storeAnnotation(te,ie,L?autoActionAnnotation:actionAnnotation);if(isStringish(te))return createDecoratorAnnotation(createActionAnnotation(L?AUTOACTION:ACTION,{name:te,autoAction:L}))};return Z}var action=createActionFactory(!1);Object.assign(action,actionAnnotation);var autoAction=createActionFactory(!0);Object.assign(autoAction,autoActionAnnotation);action.bound=createDecoratorAnnotation(actionBoundAnnotation);autoAction.bound=createDecoratorAnnotation(autoActionBoundAnnotation);function isAction(L){return isFunction$3(L)&&L.isMobxAction===!0}function autorun(L,Z){var X,te,ie,oe,se;Z===void 0&&(Z=EMPTY_OBJECT);var ue=(X=(te=Z)==null?void 0:te.name)!=null?X:"Autorun",ce=!Z.scheduler&&!Z.delay,le;if(ce)le=new Reaction(ue,function(){this.track(ge)},Z.onError,Z.requiresObservable);else{var de=createSchedulerFromOptions(Z),he=!1;le=new Reaction(ue,function(){he||(he=!0,de(function(){he=!1,le.isDisposed_||le.track(ge)}))},Z.onError,Z.requiresObservable)}function ge(){L(le)}return(ie=Z)!=null&&(oe=ie.signal)!=null&&oe.aborted||le.schedule_(),le.getDisposer_((se=Z)==null?void 0:se.signal)}var run$1=function(Z){return Z()};function createSchedulerFromOptions(L){return L.scheduler?L.scheduler:L.delay?function(Z){return setTimeout(Z,L.delay)}:run$1}var ON_BECOME_OBSERVED="onBO",ON_BECOME_UNOBSERVED="onBUO";function onBecomeObserved(L,Z,X){return interceptHook(ON_BECOME_OBSERVED,L,Z,X)}function onBecomeUnobserved(L,Z,X){return interceptHook(ON_BECOME_UNOBSERVED,L,Z,X)}function interceptHook(L,Z,X,te){var ie=typeof te=="function"?getAtom(Z,X):getAtom(Z),oe=isFunction$3(te)?te:X,se=L+"L";return ie[se]?ie[se].add(oe):ie[se]=new Set([oe]),function(){var ue=ie[se];ue&&(ue.delete(oe),ue.size===0&&delete ie[se])}}function extendObservable(L,Z,X,te){var ie=getOwnPropertyDescriptors(Z),oe=asObservableObject(L,te)[$mobx];startBatch();try{ownKeys(ie).forEach(function(se){oe.extend_(se,ie[se],X&&se in X?X[se]:!0)})}finally{endBatch()}return L}var generatorId=0;function FlowCancellationError(){this.message="FLOW_CANCELLED"}FlowCancellationError.prototype=Object.create(Error.prototype);var flowAnnotation=createFlowAnnotation("flow"),flowBoundAnnotation=createFlowAnnotation("flow.bound",{bound:!0}),flow=Object.assign(function(Z,X){if(isStringish(X))return storeAnnotation(Z,X,flowAnnotation);var te=Z,ie=te.name||"<unnamed flow>",oe=function(){var ue=this,ce=arguments,le=++generatorId,de=action(ie+" - runid: "+le+" - init",te).apply(ue,ce),he,ge=void 0,_e=new Promise(function(Ae,xe){var Ie=0;he=xe;function Pe(Ve){ge=void 0;var Ge;try{Ge=action(ie+" - runid: "+le+" - yield "+Ie++,de.next).call(de,Ve)}catch(Ke){return xe(Ke)}Be(Ge)}function Ce(Ve){ge=void 0;var Ge;try{Ge=action(ie+" - runid: "+le+" - yield "+Ie++,de.throw).call(de,Ve)}catch(Ke){return xe(Ke)}Be(Ge)}function Be(Ve){if(isFunction$3(Ve?.then)){Ve.then(Be,xe);return}return Ve.done?Ae(Ve.value):(ge=Promise.resolve(Ve.value),ge.then(Pe,Ce))}Pe(void 0)});return _e.cancel=action(ie+" - runid: "+le+" - cancel",function(){try{ge&&cancelPromise(ge);var Ae=de.return(void 0),xe=Promise.resolve(Ae.value);xe.then(noop$3,noop$3),cancelPromise(xe),he(new FlowCancellationError)}catch(Ie){he(Ie)}}),_e};return oe.isMobXFlow=!0,oe},flowAnnotation);flow.bound=createDecoratorAnnotation(flowBoundAnnotation);function cancelPromise(L){isFunction$3(L.cancel)&&L.cancel()}function isFlow(L){return L?.isMobXFlow===!0}function _isObservable(L,Z){return L?Z!==void 0?isObservableObject(L)?L[$mobx].values_.has(Z):!1:isObservableObject(L)||!!L[$mobx]||isAtom(L)||isReaction(L)||isComputedValue(L):!1}function isObservable(L){return _isObservable(L)}function transaction(L,Z){Z===void 0&&(Z=void 0),startBatch();try{return L.apply(Z)}finally{endBatch()}}function getAdm(L){return L[$mobx]}var objectProxyTraps={has:function(Z,X){return getAdm(Z).has_(X)},get:function(Z,X){return getAdm(Z).get_(X)},set:function(Z,X,te){var ie;return isStringish(X)?(ie=getAdm(Z).set_(X,te,!0))!=null?ie:!0:!1},deleteProperty:function(Z,X){var te;return isStringish(X)?(te=getAdm(Z).delete_(X,!0))!=null?te:!0:!1},defineProperty:function(Z,X,te){var ie;return(ie=getAdm(Z).defineProperty_(X,te))!=null?ie:!0},ownKeys:function(Z){return getAdm(Z).ownKeys_()},preventExtensions:function(Z){die(13)}};function asDynamicObservableObject(L,Z){var X,te;return assertProxies(),L=asObservableObject(L,Z),(te=(X=L[$mobx]).proxy_)!=null?te:X.proxy_=new Proxy(L,objectProxyTraps)}function hasInterceptors(L){return L.interceptors_!==void 0&&L.interceptors_.length>0}function registerInterceptor(L,Z){var X=L.interceptors_||(L.interceptors_=[]);return X.push(Z),once(function(){var te=X.indexOf(Z);te!==-1&&X.splice(te,1)})}function interceptChange(L,Z){var X=untrackedStart();try{for(var te=[].concat(L.interceptors_||[]),ie=0,oe=te.length;ie<oe&&(Z=te[ie](Z),Z&&!Z.type&&die(14),!!Z);ie++);return Z}finally{untrackedEnd(X)}}function hasListeners(L){return L.changeListeners_!==void 0&&L.changeListeners_.length>0}function registerListener(L,Z){var X=L.changeListeners_||(L.changeListeners_=[]);return X.push(Z),once(function(){var te=X.indexOf(Z);te!==-1&&X.splice(te,1)})}function notifyListeners(L,Z){var X=untrackedStart(),te=L.changeListeners_;if(te){te=te.slice();for(var ie=0,oe=te.length;ie<oe;ie++)te[ie](Z);untrackedEnd(X)}}var SPLICE="splice",UPDATE="update",MAX_SPLICE_SIZE=1e4,arrayTraps={get:function(Z,X){var te=Z[$mobx];return X===$mobx?te:X==="length"?te.getArrayLength_():typeof X=="string"&&!isNaN(X)?te.get_(parseInt(X)):hasProp(arrayExtensions,X)?arrayExtensions[X]:Z[X]},set:function(Z,X,te){var ie=Z[$mobx];return X==="length"&&ie.setArrayLength_(te),typeof X=="symbol"||isNaN(X)?Z[X]=te:ie.set_(parseInt(X),te),!0},preventExtensions:function(){die(15)}},ObservableArrayAdministration=function(){function L(X,te,ie,oe){X===void 0&&(X="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=ie,this.legacyMode_=oe,this.atom_=new Atom(X),this.enhancer_=function(se,ue){return te(se,ue,"ObservableArray[..]")}}var Z=L.prototype;return Z.dehanceValue_=function(te){return this.dehancer!==void 0?this.dehancer(te):te},Z.dehanceValues_=function(te){return this.dehancer!==void 0&&te.length>0?te.map(this.dehancer):te},Z.intercept_=function(te){return registerInterceptor(this,te)},Z.observe_=function(te,ie){return ie===void 0&&(ie=!1),ie&&te({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),registerListener(this,te)},Z.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},Z.setArrayLength_=function(te){(typeof te!="number"||isNaN(te)||te<0)&&die("Out of range: "+te);var ie=this.values_.length;if(te!==ie)if(te>ie){for(var oe=new Array(te-ie),se=0;se<te-ie;se++)oe[se]=void 0;this.spliceWithArray_(ie,0,oe)}else this.spliceWithArray_(te,ie-te)},Z.updateArrayLength_=function(te,ie){te!==this.lastKnownLength_&&die(16),this.lastKnownLength_+=ie,this.legacyMode_&&ie>0&&reserveArrayBuffer(te+ie+1)},Z.spliceWithArray_=function(te,ie,oe){var se=this;this.atom_;var ue=this.values_.length;if(te===void 0?te=0:te>ue?te=ue:te<0&&(te=Math.max(0,ue+te)),arguments.length===1?ie=ue-te:ie==null?ie=0:ie=Math.max(0,Math.min(ie,ue-te)),oe===void 0&&(oe=EMPTY_ARRAY),hasInterceptors(this)){var ce=interceptChange(this,{object:this.proxy_,type:SPLICE,index:te,removedCount:ie,added:oe});if(!ce)return EMPTY_ARRAY;ie=ce.removedCount,oe=ce.added}if(oe=oe.length===0?oe:oe.map(function(he){return se.enhancer_(he,void 0)}),this.legacyMode_){var le=oe.length-ie;this.updateArrayLength_(ue,le)}var de=this.spliceItemsIntoValues_(te,ie,oe);return(ie!==0||oe.length!==0)&&this.notifyArraySplice_(te,oe,de),this.dehanceValues_(de)},Z.spliceItemsIntoValues_=function(te,ie,oe){if(oe.length<MAX_SPLICE_SIZE){var se;return(se=this.values_).splice.apply(se,[te,ie].concat(oe))}else{var ue=this.values_.slice(te,te+ie),ce=this.values_.slice(te+ie);this.values_.length+=oe.length-ie;for(var le=0;le<oe.length;le++)this.values_[te+le]=oe[le];for(var de=0;de<ce.length;de++)this.values_[te+oe.length+de]=ce[de];return ue}},Z.notifyArrayChildUpdate_=function(te,ie,oe){var se=!this.owned_&&isSpyEnabled(),ue=hasListeners(this),ce=ue||se?{observableKind:"array",object:this.proxy_,type:UPDATE,debugObjectName:this.atom_.name_,index:te,newValue:ie,oldValue:oe}:null;this.atom_.reportChanged(),ue&&notifyListeners(this,ce)},Z.notifyArraySplice_=function(te,ie,oe){var se=!this.owned_&&isSpyEnabled(),ue=hasListeners(this),ce=ue||se?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:SPLICE,index:te,removed:oe,added:ie,removedCount:oe.length,addedCount:ie.length}:null;this.atom_.reportChanged(),ue&&notifyListeners(this,ce)},Z.get_=function(te){if(this.legacyMode_&&te>=this.values_.length){console.warn("[mobx] Out of bounds read: "+te);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[te])},Z.set_=function(te,ie){var oe=this.values_;if(this.legacyMode_&&te>oe.length&&die(17,te,oe.length),te<oe.length){this.atom_;var se=oe[te];if(hasInterceptors(this)){var ue=interceptChange(this,{type:UPDATE,object:this.proxy_,index:te,newValue:ie});if(!ue)return;ie=ue.newValue}ie=this.enhancer_(ie,se);var ce=ie!==se;ce&&(oe[te]=ie,this.notifyArrayChildUpdate_(te,ie,se))}else{for(var le=new Array(te+1-oe.length),de=0;de<le.length-1;de++)le[de]=void 0;le[le.length-1]=ie,this.spliceWithArray_(oe.length,0,le)}},L}();function createObservableArray(L,Z,X,te){X===void 0&&(X="ObservableArray"),te===void 0&&(te=!1),assertProxies();var ie=new ObservableArrayAdministration(X,Z,te,!1);addHiddenFinalProp(ie.values_,$mobx,ie);var oe=new Proxy(ie.values_,arrayTraps);if(ie.proxy_=oe,L&&L.length){var se=allowStateChangesStart(!0);ie.spliceWithArray_(0,0,L),allowStateChangesEnd(se)}return oe}var arrayExtensions={clear:function(){return this.splice(0)},replace:function(Z){var X=this[$mobx];return X.spliceWithArray_(0,X.values_.length,Z)},toJSON:function(){return this.slice()},splice:function(Z,X){for(var te=arguments.length,ie=new Array(te>2?te-2:0),oe=2;oe<te;oe++)ie[oe-2]=arguments[oe];var se=this[$mobx];switch(arguments.length){case 0:return[];case 1:return se.spliceWithArray_(Z);case 2:return se.spliceWithArray_(Z,X)}return se.spliceWithArray_(Z,X,ie)},spliceWithArray:function(Z,X,te){return this[$mobx].spliceWithArray_(Z,X,te)},push:function(){for(var Z=this[$mobx],X=arguments.length,te=new Array(X),ie=0;ie<X;ie++)te[ie]=arguments[ie];return Z.spliceWithArray_(Z.values_.length,0,te),Z.values_.length},pop:function(){return this.splice(Math.max(this[$mobx].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var Z=this[$mobx],X=arguments.length,te=new Array(X),ie=0;ie<X;ie++)te[ie]=arguments[ie];return Z.spliceWithArray_(0,0,te),Z.values_.length},reverse:function(){return globalState.trackingDerivation&&die(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){globalState.trackingDerivation&&die(37,"sort");var Z=this.slice();return Z.sort.apply(Z,arguments),this.replace(Z),this},remove:function(Z){var X=this[$mobx],te=X.dehanceValues_(X.values_).indexOf(Z);return te>-1?(this.splice(te,1),!0):!1}};addArrayExtension("concat",simpleFunc);addArrayExtension("flat",simpleFunc);addArrayExtension("includes",simpleFunc);addArrayExtension("indexOf",simpleFunc);addArrayExtension("join",simpleFunc);addArrayExtension("lastIndexOf",simpleFunc);addArrayExtension("slice",simpleFunc);addArrayExtension("toString",simpleFunc);addArrayExtension("toLocaleString",simpleFunc);addArrayExtension("every",mapLikeFunc);addArrayExtension("filter",mapLikeFunc);addArrayExtension("find",mapLikeFunc);addArrayExtension("findIndex",mapLikeFunc);addArrayExtension("flatMap",mapLikeFunc);addArrayExtension("forEach",mapLikeFunc);addArrayExtension("map",mapLikeFunc);addArrayExtension("some",mapLikeFunc);addArrayExtension("reduce",reduceLikeFunc);addArrayExtension("reduceRight",reduceLikeFunc);function addArrayExtension(L,Z){typeof Array.prototype[L]=="function"&&(arrayExtensions[L]=Z(L))}function simpleFunc(L){return function(){var Z=this[$mobx];Z.atom_.reportObserved();var X=Z.dehanceValues_(Z.values_);return X[L].apply(X,arguments)}}function mapLikeFunc(L){return function(Z,X){var te=this,ie=this[$mobx];ie.atom_.reportObserved();var oe=ie.dehanceValues_(ie.values_);return oe[L](function(se,ue){return Z.call(X,se,ue,te)})}}function reduceLikeFunc(L){return function(){var Z=this,X=this[$mobx];X.atom_.reportObserved();var te=X.dehanceValues_(X.values_),ie=arguments[0];return arguments[0]=function(oe,se,ue){return ie(oe,se,ue,Z)},te[L].apply(te,arguments)}}var isObservableArrayAdministration=createInstanceofPredicate("ObservableArrayAdministration",ObservableArrayAdministration);function isObservableArray(L){return isObject$1(L)&&isObservableArrayAdministration(L[$mobx])}var _Symbol$iterator,_Symbol$toStringTag,ObservableMapMarker={},ADD="add",DELETE="delete";_Symbol$iterator=Symbol.iterator;_Symbol$toStringTag=Symbol.toStringTag;var ObservableMap=function(){function L(X,te,ie){var oe=this;te===void 0&&(te=deepEnhancer),ie===void 0&&(ie="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$mobx]=ObservableMapMarker,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=te,this.name_=ie,isFunction$3(Map)||die(18),this.keysAtom_=createAtom("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,allowStateChanges(!0,function(){oe.merge(X)})}var Z=L.prototype;return Z.has_=function(te){return this.data_.has(te)},Z.has=function(te){var ie=this;if(!globalState.trackingDerivation)return this.has_(te);var oe=this.hasMap_.get(te);if(!oe){var se=oe=new ObservableValue(this.has_(te),referenceEnhancer,"ObservableMap.key?",!1);this.hasMap_.set(te,se),onBecomeUnobserved(se,function(){return ie.hasMap_.delete(te)})}return oe.get()},Z.set=function(te,ie){var oe=this.has_(te);if(hasInterceptors(this)){var se=interceptChange(this,{type:oe?UPDATE:ADD,object:this,newValue:ie,name:te});if(!se)return this;ie=se.newValue}return oe?this.updateValue_(te,ie):this.addValue_(te,ie),this},Z.delete=function(te){var ie=this;if(this.keysAtom_,hasInterceptors(this)){var oe=interceptChange(this,{type:DELETE,object:this,name:te});if(!oe)return!1}if(this.has_(te)){var se=isSpyEnabled(),ue=hasListeners(this),ce=ue||se?{observableKind:"map",debugObjectName:this.name_,type:DELETE,object:this,oldValue:this.data_.get(te).value_,name:te}:null;return transaction(function(){var le;ie.keysAtom_.reportChanged(),(le=ie.hasMap_.get(te))==null||le.setNewValue_(!1);var de=ie.data_.get(te);de.setNewValue_(void 0),ie.data_.delete(te)}),ue&&notifyListeners(this,ce),!0}return!1},Z.updateValue_=function(te,ie){var oe=this.data_.get(te);if(ie=oe.prepareNewValue_(ie),ie!==globalState.UNCHANGED){var se=isSpyEnabled(),ue=hasListeners(this),ce=ue||se?{observableKind:"map",debugObjectName:this.name_,type:UPDATE,object:this,oldValue:oe.value_,name:te,newValue:ie}:null;oe.setNewValue_(ie),ue&&notifyListeners(this,ce)}},Z.addValue_=function(te,ie){var oe=this;this.keysAtom_,transaction(function(){var le,de=new ObservableValue(ie,oe.enhancer_,"ObservableMap.key",!1);oe.data_.set(te,de),ie=de.value_,(le=oe.hasMap_.get(te))==null||le.setNewValue_(!0),oe.keysAtom_.reportChanged()});var se=isSpyEnabled(),ue=hasListeners(this),ce=ue||se?{observableKind:"map",debugObjectName:this.name_,type:ADD,object:this,name:te,newValue:ie}:null;ue&&notifyListeners(this,ce)},Z.get=function(te){return this.has(te)?this.dehanceValue_(this.data_.get(te).get()):this.dehanceValue_(void 0)},Z.dehanceValue_=function(te){return this.dehancer!==void 0?this.dehancer(te):te},Z.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},Z.values=function(){var te=this,ie=this.keys();return makeIterable({next:function(){var se=ie.next(),ue=se.done,ce=se.value;return{done:ue,value:ue?void 0:te.get(ce)}}})},Z.entries=function(){var te=this,ie=this.keys();return makeIterable({next:function(){var se=ie.next(),ue=se.done,ce=se.value;return{done:ue,value:ue?void 0:[ce,te.get(ce)]}}})},Z[_Symbol$iterator]=function(){return this.entries()},Z.forEach=function(te,ie){for(var oe=_createForOfIteratorHelperLoose(this),se;!(se=oe()).done;){var ue=se.value,ce=ue[0],le=ue[1];te.call(ie,le,ce,this)}},Z.merge=function(te){var ie=this;return isObservableMap(te)&&(te=new Map(te)),transaction(function(){isPlainObject$2(te)?getPlainObjectKeys(te).forEach(function(oe){return ie.set(oe,te[oe])}):Array.isArray(te)?te.forEach(function(oe){var se=oe[0],ue=oe[1];return ie.set(se,ue)}):isES6Map(te)?(te.constructor!==Map&&die(19,te),te.forEach(function(oe,se){return ie.set(se,oe)})):te!=null&&die(20,te)}),this},Z.clear=function(){var te=this;transaction(function(){untracked(function(){for(var ie=_createForOfIteratorHelperLoose(te.keys()),oe;!(oe=ie()).done;){var se=oe.value;te.delete(se)}})})},Z.replace=function(te){var ie=this;return transaction(function(){for(var oe=convertToMap(te),se=new Map,ue=!1,ce=_createForOfIteratorHelperLoose(ie.data_.keys()),le;!(le=ce()).done;){var de=le.value;if(!oe.has(de)){var he=ie.delete(de);if(he)ue=!0;else{var ge=ie.data_.get(de);se.set(de,ge)}}}for(var _e=_createForOfIteratorHelperLoose(oe.entries()),Ae;!(Ae=_e()).done;){var xe=Ae.value,Ie=xe[0],Pe=xe[1],Ce=ie.data_.has(Ie);if(ie.set(Ie,Pe),ie.data_.has(Ie)){var Be=ie.data_.get(Ie);se.set(Ie,Be),Ce||(ue=!0)}}if(!ue)if(ie.data_.size!==se.size)ie.keysAtom_.reportChanged();else for(var Ve=ie.data_.keys(),Ge=se.keys(),Ke=Ve.next(),Je=Ge.next();!Ke.done;){if(Ke.value!==Je.value){ie.keysAtom_.reportChanged();break}Ke=Ve.next(),Je=Ge.next()}ie.data_=se}),this},Z.toString=function(){return"[object ObservableMap]"},Z.toJSON=function(){return Array.from(this)},Z.observe_=function(te,ie){return registerListener(this,te)},Z.intercept_=function(te){return registerInterceptor(this,te)},_createClass(L,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag,get:function(){return"Map"}}]),L}(),isObservableMap=createInstanceofPredicate("ObservableMap",ObservableMap);function convertToMap(L){if(isES6Map(L)||isObservableMap(L))return L;if(Array.isArray(L))return new Map(L);if(isPlainObject$2(L)){var Z=new Map;for(var X in L)Z.set(X,L[X]);return Z}else return die(21,L)}var _Symbol$iterator$1,_Symbol$toStringTag$1,ObservableSetMarker={};_Symbol$iterator$1=Symbol.iterator;_Symbol$toStringTag$1=Symbol.toStringTag;var ObservableSet=function(){function L(X,te,ie){te===void 0&&(te=deepEnhancer),ie===void 0&&(ie="ObservableSet"),this.name_=void 0,this[$mobx]=ObservableSetMarker,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=ie,isFunction$3(Set)||die(22),this.atom_=createAtom(this.name_),this.enhancer_=function(oe,se){return te(oe,se,ie)},X&&this.replace(X)}var Z=L.prototype;return Z.dehanceValue_=function(te){return this.dehancer!==void 0?this.dehancer(te):te},Z.clear=function(){var te=this;transaction(function(){untracked(function(){for(var ie=_createForOfIteratorHelperLoose(te.data_.values()),oe;!(oe=ie()).done;){var se=oe.value;te.delete(se)}})})},Z.forEach=function(te,ie){for(var oe=_createForOfIteratorHelperLoose(this),se;!(se=oe()).done;){var ue=se.value;te.call(ie,ue,ue,this)}},Z.add=function(te){var ie=this;if(this.atom_,hasInterceptors(this)){var oe=interceptChange(this,{type:ADD,object:this,newValue:te});if(!oe)return this}if(!this.has(te)){transaction(function(){ie.data_.add(ie.enhancer_(te,void 0)),ie.atom_.reportChanged()});var se=!1,ue=hasListeners(this),ce=ue||se?{observableKind:"set",debugObjectName:this.name_,type:ADD,object:this,newValue:te}:null;ue&&notifyListeners(this,ce)}return this},Z.delete=function(te){var ie=this;if(hasInterceptors(this)){var oe=interceptChange(this,{type:DELETE,object:this,oldValue:te});if(!oe)return!1}if(this.has(te)){var se=!1,ue=hasListeners(this),ce=ue||se?{observableKind:"set",debugObjectName:this.name_,type:DELETE,object:this,oldValue:te}:null;return transaction(function(){ie.atom_.reportChanged(),ie.data_.delete(te)}),ue&&notifyListeners(this,ce),!0}return!1},Z.has=function(te){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(te))},Z.entries=function(){var te=0,ie=Array.from(this.keys()),oe=Array.from(this.values());return makeIterable({next:function(){var ue=te;return te+=1,ue<oe.length?{value:[ie[ue],oe[ue]],done:!1}:{done:!0}}})},Z.keys=function(){return this.values()},Z.values=function(){this.atom_.reportObserved();var te=this,ie=0,oe=Array.from(this.data_.values());return makeIterable({next:function(){return ie<oe.length?{value:te.dehanceValue_(oe[ie++]),done:!1}:{done:!0}}})},Z.replace=function(te){var ie=this;return isObservableSet(te)&&(te=new Set(te)),transaction(function(){Array.isArray(te)?(ie.clear(),te.forEach(function(oe){return ie.add(oe)})):isES6Set(te)?(ie.clear(),te.forEach(function(oe){return ie.add(oe)})):te!=null&&die("Cannot initialize set from "+te)}),this},Z.observe_=function(te,ie){return registerListener(this,te)},Z.intercept_=function(te){return registerInterceptor(this,te)},Z.toJSON=function(){return Array.from(this)},Z.toString=function(){return"[object ObservableSet]"},Z[_Symbol$iterator$1]=function(){return this.values()},_createClass(L,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag$1,get:function(){return"Set"}}]),L}(),isObservableSet=createInstanceofPredicate("ObservableSet",ObservableSet),descriptorCache=Object.create(null),REMOVE="remove",ObservableObjectAdministration=function(){function L(X,te,ie,oe){te===void 0&&(te=new Map),oe===void 0&&(oe=autoAnnotation),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=X,this.values_=te,this.name_=ie,this.defaultAnnotation_=oe,this.keysAtom_=new Atom("ObservableObject.keys"),this.isPlainObject_=isPlainObject$2(this.target_)}var Z=L.prototype;return Z.getObservablePropValue_=function(te){return this.values_.get(te).get()},Z.setObservablePropValue_=function(te,ie){var oe=this.values_.get(te);if(oe instanceof ComputedValue)return oe.set(ie),!0;if(hasInterceptors(this)){var se=interceptChange(this,{type:UPDATE,object:this.proxy_||this.target_,name:te,newValue:ie});if(!se)return null;ie=se.newValue}if(ie=oe.prepareNewValue_(ie),ie!==globalState.UNCHANGED){var ue=hasListeners(this),ce=!1,le=ue||ce?{type:UPDATE,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:oe.value_,name:te,newValue:ie}:null;oe.setNewValue_(ie),ue&&notifyListeners(this,le)}return!0},Z.get_=function(te){return globalState.trackingDerivation&&!hasProp(this.target_,te)&&this.has_(te),this.target_[te]},Z.set_=function(te,ie,oe){return oe===void 0&&(oe=!1),hasProp(this.target_,te)?this.values_.has(te)?this.setObservablePropValue_(te,ie):oe?Reflect.set(this.target_,te,ie):(this.target_[te]=ie,!0):this.extend_(te,{value:ie,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,oe)},Z.has_=function(te){if(!globalState.trackingDerivation)return te in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var ie=this.pendingKeys_.get(te);return ie||(ie=new ObservableValue(te in this.target_,referenceEnhancer,"ObservableObject.key?",!1),this.pendingKeys_.set(te,ie)),ie.get()},Z.make_=function(te,ie){if(ie===!0&&(ie=this.defaultAnnotation_),ie!==!1){if(!(te in this.target_)){var oe;if((oe=this.target_[storedAnnotationsSymbol])!=null&&oe[te])return;die(1,ie.annotationType_,this.name_+"."+te.toString())}for(var se=this.target_;se&&se!==objectPrototype;){var ue=getDescriptor(se,te);if(ue){var ce=ie.make_(this,te,ue,se);if(ce===0)return;if(ce===1)break}se=Object.getPrototypeOf(se)}recordAnnotationApplied(this,ie,te)}},Z.extend_=function(te,ie,oe,se){if(se===void 0&&(se=!1),oe===!0&&(oe=this.defaultAnnotation_),oe===!1)return this.defineProperty_(te,ie,se);var ue=oe.extend_(this,te,ie,se);return ue&&recordAnnotationApplied(this,oe,te),ue},Z.defineProperty_=function(te,ie,oe){oe===void 0&&(oe=!1);try{startBatch();var se=this.delete_(te);if(!se)return se;if(hasInterceptors(this)){var ue=interceptChange(this,{object:this.proxy_||this.target_,name:te,type:ADD,newValue:ie.value});if(!ue)return null;var ce=ue.newValue;ie.value!==ce&&(ie=_extends({},ie,{value:ce}))}if(oe){if(!Reflect.defineProperty(this.target_,te,ie))return!1}else defineProperty$1(this.target_,te,ie);this.notifyPropertyAddition_(te,ie.value)}finally{endBatch()}return!0},Z.defineObservableProperty_=function(te,ie,oe,se){se===void 0&&(se=!1);try{startBatch();var ue=this.delete_(te);if(!ue)return ue;if(hasInterceptors(this)){var ce=interceptChange(this,{object:this.proxy_||this.target_,name:te,type:ADD,newValue:ie});if(!ce)return null;ie=ce.newValue}var le=getCachedObservablePropDescriptor(te),de={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:le.get,set:le.set};if(se){if(!Reflect.defineProperty(this.target_,te,de))return!1}else defineProperty$1(this.target_,te,de);var he=new ObservableValue(ie,oe,"ObservableObject.key",!1);this.values_.set(te,he),this.notifyPropertyAddition_(te,he.value_)}finally{endBatch()}return!0},Z.defineComputedProperty_=function(te,ie,oe){oe===void 0&&(oe=!1);try{startBatch();var se=this.delete_(te);if(!se)return se;if(hasInterceptors(this)){var ue=interceptChange(this,{object:this.proxy_||this.target_,name:te,type:ADD,newValue:void 0});if(!ue)return null}ie.name||(ie.name="ObservableObject.key"),ie.context=this.proxy_||this.target_;var ce=getCachedObservablePropDescriptor(te),le={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:ce.get,set:ce.set};if(oe){if(!Reflect.defineProperty(this.target_,te,le))return!1}else defineProperty$1(this.target_,te,le);this.values_.set(te,new ComputedValue(ie)),this.notifyPropertyAddition_(te,void 0)}finally{endBatch()}return!0},Z.delete_=function(te,ie){if(ie===void 0&&(ie=!1),!hasProp(this.target_,te))return!0;if(hasInterceptors(this)){var oe=interceptChange(this,{object:this.proxy_||this.target_,name:te,type:REMOVE});if(!oe)return null}try{var se,ue;startBatch();var ce=hasListeners(this),le=!1,de=this.values_.get(te),he=void 0;if(!de&&(ce||le)){var ge;he=(ge=getDescriptor(this.target_,te))==null?void 0:ge.value}if(ie){if(!Reflect.deleteProperty(this.target_,te))return!1}else delete this.target_[te];if(de&&(this.values_.delete(te),de instanceof ObservableValue&&(he=de.value_),propagateChanged(de)),this.keysAtom_.reportChanged(),(se=this.pendingKeys_)==null||(ue=se.get(te))==null||ue.set(te in this.target_),ce||le){var _e={type:REMOVE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:he,name:te};ce&&notifyListeners(this,_e)}}finally{endBatch()}return!0},Z.observe_=function(te,ie){return registerListener(this,te)},Z.intercept_=function(te){return registerInterceptor(this,te)},Z.notifyPropertyAddition_=function(te,ie){var oe,se,ue=hasListeners(this),ce=!1;if(ue||ce){var le=ue||ce?{type:ADD,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:te,newValue:ie}:null;ue&&notifyListeners(this,le)}(oe=this.pendingKeys_)==null||(se=oe.get(te))==null||se.set(!0),this.keysAtom_.reportChanged()},Z.ownKeys_=function(){return this.keysAtom_.reportObserved(),ownKeys(this.target_)},Z.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},L}();function asObservableObject(L,Z){var X;if(hasProp(L,$mobx))return L;var te=(X=Z?.name)!=null?X:"ObservableObject",ie=new ObservableObjectAdministration(L,new Map,String(te),getAnnotationFromOptions(Z));return addHiddenProp(L,$mobx,ie),L}var isObservableObjectAdministration=createInstanceofPredicate("ObservableObjectAdministration",ObservableObjectAdministration);function getCachedObservablePropDescriptor(L){return descriptorCache[L]||(descriptorCache[L]={get:function(){return this[$mobx].getObservablePropValue_(L)},set:function(X){return this[$mobx].setObservablePropValue_(L,X)}})}function isObservableObject(L){return isObject$1(L)?isObservableObjectAdministration(L[$mobx]):!1}function recordAnnotationApplied(L,Z,X){var te;(te=L.target_[storedAnnotationsSymbol])==null||delete te[X]}var ENTRY_0=createArrayEntryDescriptor(0),OBSERVABLE_ARRAY_BUFFER_SIZE=0,StubArray=function(){};function inherit(L,Z){Object.setPrototypeOf?Object.setPrototypeOf(L.prototype,Z):L.prototype.__proto__!==void 0?L.prototype.__proto__=Z:L.prototype=Z}inherit(StubArray,Array.prototype);var LegacyObservableArray=function(L,Z,X){_inheritsLoose(te,L);function te(oe,se,ue,ce){var le;ue===void 0&&(ue="ObservableArray"),ce===void 0&&(ce=!1),le=L.call(this)||this;var de=new ObservableArrayAdministration(ue,se,ce,!0);if(de.proxy_=_assertThisInitialized(le),addHiddenFinalProp(_assertThisInitialized(le),$mobx,de),oe&&oe.length){var he=allowStateChangesStart(!0);le.spliceWithArray(0,0,oe),allowStateChangesEnd(he)}return Object.defineProperty(_assertThisInitialized(le),"0",ENTRY_0),le}var ie=te.prototype;return ie.concat=function(){this[$mobx].atom_.reportObserved();for(var se=arguments.length,ue=new Array(se),ce=0;ce<se;ce++)ue[ce]=arguments[ce];return Array.prototype.concat.apply(this.slice(),ue.map(function(le){return isObservableArray(le)?le.slice():le}))},ie[X]=function(){var oe=this,se=0;return makeIterable({next:function(){return se<oe.length?{value:oe[se++],done:!1}:{done:!0,value:void 0}}})},_createClass(te,[{key:"length",get:function(){return this[$mobx].getArrayLength_()},set:function(se){this[$mobx].setArrayLength_(se)}},{key:Z,get:function(){return"Array"}}]),te}(StubArray,Symbol.toStringTag,Symbol.iterator);Object.entries(arrayExtensions).forEach(function(L){var Z=L[0],X=L[1];Z!=="concat"&&addHiddenProp(LegacyObservableArray.prototype,Z,X)});function createArrayEntryDescriptor(L){return{enumerable:!1,configurable:!0,get:function(){return this[$mobx].get_(L)},set:function(X){this[$mobx].set_(L,X)}}}function createArrayBufferItem(L){defineProperty$1(LegacyObservableArray.prototype,""+L,createArrayEntryDescriptor(L))}function reserveArrayBuffer(L){if(L>OBSERVABLE_ARRAY_BUFFER_SIZE){for(var Z=OBSERVABLE_ARRAY_BUFFER_SIZE;Z<L+100;Z++)createArrayBufferItem(Z);OBSERVABLE_ARRAY_BUFFER_SIZE=L}}reserveArrayBuffer(1e3);function createLegacyArray(L,Z,X){return new LegacyObservableArray(L,Z,X)}function getAtom(L,Z){if(typeof L=="object"&&L!==null){if(isObservableArray(L))return Z!==void 0&&die(23),L[$mobx].atom_;if(isObservableSet(L))return L.atom_;if(isObservableMap(L)){if(Z===void 0)return L.keysAtom_;var X=L.data_.get(Z)||L.hasMap_.get(Z);return X||die(25,Z,getDebugName(L)),X}if(isObservableObject(L)){if(!Z)return die(26);var te=L[$mobx].values_.get(Z);return te||die(27,Z,getDebugName(L)),te}if(isAtom(L)||isComputedValue(L)||isReaction(L))return L}else if(isFunction$3(L)&&isReaction(L[$mobx]))return L[$mobx];die(28)}function getAdministration(L,Z){if(L||die(29),Z!==void 0)return getAdministration(getAtom(L,Z));if(isAtom(L)||isComputedValue(L)||isReaction(L)||isObservableMap(L)||isObservableSet(L))return L;if(L[$mobx])return L[$mobx];die(24,L)}function getDebugName(L,Z){var X;if(Z!==void 0)X=getAtom(L,Z);else{if(isAction(L))return L.name;isObservableObject(L)||isObservableMap(L)||isObservableSet(L)?X=getAdministration(L):X=getAtom(L)}return X.name_}var toString=objectPrototype.toString;function deepEqual(L,Z,X){return X===void 0&&(X=-1),eq(L,Z,X)}function eq(L,Z,X,te,ie){if(L===Z)return L!==0||1/L===1/Z;if(L==null||Z==null)return!1;if(L!==L)return Z!==Z;var oe=typeof L;if(oe!=="function"&&oe!=="object"&&typeof Z!="object")return!1;var se=toString.call(L);if(se!==toString.call(Z))return!1;switch(se){case"[object RegExp]":case"[object String]":return""+L==""+Z;case"[object Number]":return+L!=+L?+Z!=+Z:+L==0?1/+L===1/Z:+L==+Z;case"[object Date]":case"[object Boolean]":return+L==+Z;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(L)===Symbol.valueOf.call(Z);case"[object Map]":case"[object Set]":X>=0&&X++;break}L=unwrap(L),Z=unwrap(Z);var ue=se==="[object Array]";if(!ue){if(typeof L!="object"||typeof Z!="object")return!1;var ce=L.constructor,le=Z.constructor;if(ce!==le&&!(isFunction$3(ce)&&ce instanceof ce&&isFunction$3(le)&&le instanceof le)&&"constructor"in L&&"constructor"in Z)return!1}if(X===0)return!1;X<0&&(X=-1),te=te||[],ie=ie||[];for(var de=te.length;de--;)if(te[de]===L)return ie[de]===Z;if(te.push(L),ie.push(Z),ue){if(de=L.length,de!==Z.length)return!1;for(;de--;)if(!eq(L[de],Z[de],X-1,te,ie))return!1}else{var he=Object.keys(L),ge;if(de=he.length,Object.keys(Z).length!==de)return!1;for(;de--;)if(ge=he[de],!(hasProp(Z,ge)&&eq(L[ge],Z[ge],X-1,te,ie)))return!1}return te.pop(),ie.pop(),!0}function unwrap(L){return isObservableArray(L)?L.slice():isES6Map(L)||isObservableMap(L)||isES6Set(L)||isObservableSet(L)?Array.from(L.entries()):L}function makeIterable(L){return L[Symbol.iterator]=getSelf,L}function getSelf(){return this}["Symbol","Map","Set"].forEach(function(L){var Z=getGlobal();typeof Z[L]>"u"&&die("MobX requires global '"+L+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy,extras:{getDebugName},$mobx});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(L){return L&&L.__esModule&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L}function getAugmentedNamespace(L){if(L.__esModule)return L;var Z=L.default;if(typeof Z=="function"){var X=function te(){if(this instanceof te){var ie=[null];ie.push.apply(ie,arguments);var oe=Function.bind.apply(Z,ie);return new oe}return Z.apply(this,arguments)};X.prototype=Z.prototype}else X={};return Object.defineProperty(X,"__esModule",{value:!0}),Object.keys(L).forEach(function(te){var ie=Object.getOwnPropertyDescriptor(L,te);Object.defineProperty(X,te,ie.get?ie:{enumerable:!0,get:function(){return L[te]}})}),X}var extendStatics=function(L,Z){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,te){X.__proto__=te}||function(X,te){for(var ie in te)Object.prototype.hasOwnProperty.call(te,ie)&&(X[ie]=te[ie])},extendStatics(L,Z)};function __extends$1(L,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");extendStatics(L,Z);function X(){this.constructor=L}L.prototype=Z===null?Object.create(Z):(X.prototype=Z.prototype,new X)}function __awaiter$4(L,Z,X,te){function ie(oe){return oe instanceof X?oe:new X(function(se){se(oe)})}return new(X||(X=Promise))(function(oe,se){function ue(de){try{le(te.next(de))}catch(he){se(he)}}function ce(de){try{le(te.throw(de))}catch(he){se(he)}}function le(de){de.done?oe(de.value):ie(de.value).then(ue,ce)}le((te=te.apply(L,Z||[])).next())})}function __generator(L,Z){var X={label:0,sent:function(){if(oe[0]&1)throw oe[1];return oe[1]},trys:[],ops:[]},te,ie,oe,se;return se={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(se[Symbol.iterator]=function(){return this}),se;function ue(le){return function(de){return ce([le,de])}}function ce(le){if(te)throw new TypeError("Generator is already executing.");for(;se&&(se=0,le[0]&&(X=0)),X;)try{if(te=1,ie&&(oe=le[0]&2?ie.return:le[0]?ie.throw||((oe=ie.return)&&oe.call(ie),0):ie.next)&&!(oe=oe.call(ie,le[1])).done)return oe;switch(ie=0,oe&&(le=[le[0]&2,oe.value]),le[0]){case 0:case 1:oe=le;break;case 4:return X.label++,{value:le[1],done:!1};case 5:X.label++,ie=le[1],le=[0];continue;case 7:le=X.ops.pop(),X.trys.pop();continue;default:if(oe=X.trys,!(oe=oe.length>0&&oe[oe.length-1])&&(le[0]===6||le[0]===2)){X=0;continue}if(le[0]===3&&(!oe||le[1]>oe[0]&&le[1]<oe[3])){X.label=le[1];break}if(le[0]===6&&X.label<oe[1]){X.label=oe[1],oe=le;break}if(oe&&X.label<oe[2]){X.label=oe[2],X.ops.push(le);break}oe[2]&&X.ops.pop(),X.trys.pop();continue}le=Z.call(L,X)}catch(de){le=[6,de],ie=0}finally{te=oe=0}if(le[0]&5)throw le[1];return{value:le[0]?le[1]:void 0,done:!0}}}function __values(L){var Z=typeof Symbol=="function"&&Symbol.iterator,X=Z&&L[Z],te=0;if(X)return X.call(L);if(L&&typeof L.length=="number")return{next:function(){return L&&te>=L.length&&(L=void 0),{value:L&&L[te++],done:!L}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$4(L,Z){var X=typeof Symbol=="function"&&L[Symbol.iterator];if(!X)return L;var te=X.call(L),ie,oe=[],se;try{for(;(Z===void 0||Z-- >0)&&!(ie=te.next()).done;)oe.push(ie.value)}catch(ue){se={error:ue}}finally{try{ie&&!ie.done&&(X=te.return)&&X.call(te)}finally{if(se)throw se.error}}return oe}function __spreadArray$3(L,Z,X){if(X||arguments.length===2)for(var te=0,ie=Z.length,oe;te<ie;te++)(oe||!(te in Z))&&(oe||(oe=Array.prototype.slice.call(Z,0,te)),oe[te]=Z[te]);return L.concat(oe||Array.prototype.slice.call(Z))}function __await(L){return this instanceof __await?(this.v=L,this):new __await(L)}function __asyncGenerator(L,Z,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te=X.apply(L,Z||[]),ie,oe=[];return ie={},se("next"),se("throw"),se("return"),ie[Symbol.asyncIterator]=function(){return this},ie;function se(ge){te[ge]&&(ie[ge]=function(_e){return new Promise(function(Ae,xe){oe.push([ge,_e,Ae,xe])>1||ue(ge,_e)})})}function ue(ge,_e){try{ce(te[ge](_e))}catch(Ae){he(oe[0][3],Ae)}}function ce(ge){ge.value instanceof __await?Promise.resolve(ge.value.v).then(le,de):he(oe[0][2],ge)}function le(ge){ue("next",ge)}function de(ge){ue("throw",ge)}function he(ge,_e){ge(_e),oe.shift(),oe.length&&ue(oe[0][0],oe[0][1])}}function __asyncValues(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=L[Symbol.asyncIterator],X;return Z?Z.call(L):(L=typeof __values=="function"?__values(L):L[Symbol.iterator](),X={},te("next"),te("throw"),te("return"),X[Symbol.asyncIterator]=function(){return this},X);function te(oe){X[oe]=L[oe]&&function(se){return new Promise(function(ue,ce){se=L[oe](se),ie(ue,ce,se.done,se.value)})}}function ie(oe,se,ue,ce){Promise.resolve(ce).then(function(le){oe({value:le,done:ue})},se)}}typeof SuppressedError=="function"&&SuppressedError;function isFunction$2(L){return typeof L=="function"}function createErrorClass(L){var Z=function(te){Error.call(te),te.stack=new Error().stack},X=L(Z);return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}var UnsubscriptionError=createErrorClass(function(L){return function(X){L(this),this.message=X?X.length+` errors occurred during unsubscription:
`+X.map(function(te,ie){return ie+1+") "+te.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=X}});function arrRemove(L,Z){if(L){var X=L.indexOf(Z);0<=X&&L.splice(X,1)}}var Subscription=function(){function L(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}return L.prototype.unsubscribe=function(){var Z,X,te,ie,oe;if(!this.closed){this.closed=!0;var se=this._parentage;if(se)if(this._parentage=null,Array.isArray(se))try{for(var ue=__values(se),ce=ue.next();!ce.done;ce=ue.next()){var le=ce.value;le.remove(this)}}catch(xe){Z={error:xe}}finally{try{ce&&!ce.done&&(X=ue.return)&&X.call(ue)}finally{if(Z)throw Z.error}}else se.remove(this);var de=this.initialTeardown;if(isFunction$2(de))try{de()}catch(xe){oe=xe instanceof UnsubscriptionError?xe.errors:[xe]}var he=this._finalizers;if(he){this._finalizers=null;try{for(var ge=__values(he),_e=ge.next();!_e.done;_e=ge.next()){var Ae=_e.value;try{execFinalizer(Ae)}catch(xe){oe=oe??[],xe instanceof UnsubscriptionError?oe=__spreadArray$3(__spreadArray$3([],__read$4(oe)),__read$4(xe.errors)):oe.push(xe)}}}catch(xe){te={error:xe}}finally{try{_e&&!_e.done&&(ie=ge.return)&&ie.call(ge)}finally{if(te)throw te.error}}}if(oe)throw new UnsubscriptionError(oe)}},L.prototype.add=function(Z){var X;if(Z&&Z!==this)if(this.closed)execFinalizer(Z);else{if(Z instanceof L){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=(X=this._finalizers)!==null&&X!==void 0?X:[]).push(Z)}},L.prototype._hasParent=function(Z){var X=this._parentage;return X===Z||Array.isArray(X)&&X.includes(Z)},L.prototype._addParent=function(Z){var X=this._parentage;this._parentage=Array.isArray(X)?(X.push(Z),X):X?[X,Z]:Z},L.prototype._removeParent=function(Z){var X=this._parentage;X===Z?this._parentage=null:Array.isArray(X)&&arrRemove(X,Z)},L.prototype.remove=function(Z){var X=this._finalizers;X&&arrRemove(X,Z),Z instanceof L&&Z._removeParent(this)},L.EMPTY=function(){var Z=new L;return Z.closed=!0,Z}(),L}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(L){return L instanceof Subscription||L&&"closed"in L&&isFunction$2(L.remove)&&isFunction$2(L.add)&&isFunction$2(L.unsubscribe)}function execFinalizer(L){isFunction$2(L)?L():L.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(L,Z){for(var X=[],te=2;te<arguments.length;te++)X[te-2]=arguments[te];var ie=timeoutProvider.delegate;return ie?.setTimeout?ie.setTimeout.apply(ie,__spreadArray$3([L,Z],__read$4(X))):setTimeout.apply(void 0,__spreadArray$3([L,Z],__read$4(X)))},clearTimeout:function(L){var Z=timeoutProvider.delegate;return(Z?.clearTimeout||clearTimeout)(L)},delegate:void 0};function reportUnhandledError(L){timeoutProvider.setTimeout(function(){throw L})}function noop$2(){}function errorContext(L){L()}var Subscriber=function(L){__extends$1(Z,L);function Z(X){var te=L.call(this)||this;return te.isStopped=!1,X?(te.destination=X,isSubscription(X)&&X.add(te)):te.destination=EMPTY_OBSERVER,te}return Z.create=function(X,te,ie){return new SafeSubscriber(X,te,ie)},Z.prototype.next=function(X){this.isStopped||this._next(X)},Z.prototype.error=function(X){this.isStopped||(this.isStopped=!0,this._error(X))},Z.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Z.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,L.prototype.unsubscribe.call(this),this.destination=null)},Z.prototype._next=function(X){this.destination.next(X)},Z.prototype._error=function(X){try{this.destination.error(X)}finally{this.unsubscribe()}},Z.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Z}(Subscription),_bind=Function.prototype.bind;function bind(L,Z){return _bind.call(L,Z)}var ConsumerObserver=function(){function L(Z){this.partialObserver=Z}return L.prototype.next=function(Z){var X=this.partialObserver;if(X.next)try{X.next(Z)}catch(te){handleUnhandledError(te)}},L.prototype.error=function(Z){var X=this.partialObserver;if(X.error)try{X.error(Z)}catch(te){handleUnhandledError(te)}else handleUnhandledError(Z)},L.prototype.complete=function(){var Z=this.partialObserver;if(Z.complete)try{Z.complete()}catch(X){handleUnhandledError(X)}},L}(),SafeSubscriber=function(L){__extends$1(Z,L);function Z(X,te,ie){var oe=L.call(this)||this,se;if(isFunction$2(X)||!X)se={next:X??void 0,error:te??void 0,complete:ie??void 0};else{var ue;oe&&config.useDeprecatedNextContext?(ue=Object.create(X),ue.unsubscribe=function(){return oe.unsubscribe()},se={next:X.next&&bind(X.next,ue),error:X.error&&bind(X.error,ue),complete:X.complete&&bind(X.complete,ue)}):se=X}return oe.destination=new ConsumerObserver(se),oe}return Z}(Subscriber);function handleUnhandledError(L){reportUnhandledError(L)}function defaultErrorHandler(L){throw L}var EMPTY_OBSERVER={closed:!0,next:noop$2,error:defaultErrorHandler,complete:noop$2},observable$1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$1(L){return L}function pipe(){for(var L=[],Z=0;Z<arguments.length;Z++)L[Z]=arguments[Z];return pipeFromArray$1(L)}function pipeFromArray$1(L){return L.length===0?identity$1:L.length===1?L[0]:function(X){return L.reduce(function(te,ie){return ie(te)},X)}}var Observable=function(){function L(Z){Z&&(this._subscribe=Z)}return L.prototype.lift=function(Z){var X=new L;return X.source=this,X.operator=Z,X},L.prototype.subscribe=function(Z,X,te){var ie=this,oe=isSubscriber(Z)?Z:new SafeSubscriber(Z,X,te);return errorContext(function(){var se=ie,ue=se.operator,ce=se.source;oe.add(ue?ue.call(oe,ce):ce?ie._subscribe(oe):ie._trySubscribe(oe))}),oe},L.prototype._trySubscribe=function(Z){try{return this._subscribe(Z)}catch(X){Z.error(X)}},L.prototype.forEach=function(Z,X){var te=this;return X=getPromiseCtor(X),new X(function(ie,oe){var se=new SafeSubscriber({next:function(ue){try{Z(ue)}catch(ce){oe(ce),se.unsubscribe()}},error:oe,complete:ie});te.subscribe(se)})},L.prototype._subscribe=function(Z){var X;return(X=this.source)===null||X===void 0?void 0:X.subscribe(Z)},L.prototype[observable$1]=function(){return this},L.prototype.pipe=function(){for(var Z=[],X=0;X<arguments.length;X++)Z[X]=arguments[X];return pipeFromArray$1(Z)(this)},L.prototype.toPromise=function(Z){var X=this;return Z=getPromiseCtor(Z),new Z(function(te,ie){var oe;X.subscribe(function(se){return oe=se},function(se){return ie(se)},function(){return te(oe)})})},L.create=function(Z){return new L(Z)},L}();function getPromiseCtor(L){var Z;return(Z=L??config.Promise)!==null&&Z!==void 0?Z:Promise}function isObserver(L){return L&&isFunction$2(L.next)&&isFunction$2(L.error)&&isFunction$2(L.complete)}function isSubscriber(L){return L&&L instanceof Subscriber||isObserver(L)&&isSubscription(L)}function hasLift(L){return isFunction$2(L?.lift)}function operate(L){return function(Z){if(hasLift(Z))return Z.lift(function(X){try{return L(X,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(L,Z,X,te,ie){return new OperatorSubscriber(L,Z,X,te,ie)}var OperatorSubscriber=function(L){__extends$1(Z,L);function Z(X,te,ie,oe,se,ue){var ce=L.call(this,X)||this;return ce.onFinalize=se,ce.shouldUnsubscribe=ue,ce._next=te?function(le){try{te(le)}catch(de){X.error(de)}}:L.prototype._next,ce._error=oe?function(le){try{oe(le)}catch(de){X.error(de)}finally{this.unsubscribe()}}:L.prototype._error,ce._complete=ie?function(){try{ie()}catch(le){X.error(le)}finally{this.unsubscribe()}}:L.prototype._complete,ce}return Z.prototype.unsubscribe=function(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var te=this.closed;L.prototype.unsubscribe.call(this),!te&&((X=this.onFinalize)===null||X===void 0||X.call(this))}},Z}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(L){return function(){L(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(L){__extends$1(Z,L);function Z(){var X=L.call(this)||this;return X.closed=!1,X.currentObservers=null,X.observers=[],X.isStopped=!1,X.hasError=!1,X.thrownError=null,X}return Z.prototype.lift=function(X){var te=new AnonymousSubject(this,this);return te.operator=X,te},Z.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},Z.prototype.next=function(X){var te=this;errorContext(function(){var ie,oe;if(te._throwIfClosed(),!te.isStopped){te.currentObservers||(te.currentObservers=Array.from(te.observers));try{for(var se=__values(te.currentObservers),ue=se.next();!ue.done;ue=se.next()){var ce=ue.value;ce.next(X)}}catch(le){ie={error:le}}finally{try{ue&&!ue.done&&(oe=se.return)&&oe.call(se)}finally{if(ie)throw ie.error}}}})},Z.prototype.error=function(X){var te=this;errorContext(function(){if(te._throwIfClosed(),!te.isStopped){te.hasError=te.isStopped=!0,te.thrownError=X;for(var ie=te.observers;ie.length;)ie.shift().error(X)}})},Z.prototype.complete=function(){var X=this;errorContext(function(){if(X._throwIfClosed(),!X.isStopped){X.isStopped=!0;for(var te=X.observers;te.length;)te.shift().complete()}})},Z.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(Z.prototype,"observed",{get:function(){var X;return((X=this.observers)===null||X===void 0?void 0:X.length)>0},enumerable:!1,configurable:!0}),Z.prototype._trySubscribe=function(X){return this._throwIfClosed(),L.prototype._trySubscribe.call(this,X)},Z.prototype._subscribe=function(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)},Z.prototype._innerSubscribe=function(X){var te=this,ie=this,oe=ie.hasError,se=ie.isStopped,ue=ie.observers;return oe||se?EMPTY_SUBSCRIPTION:(this.currentObservers=null,ue.push(X),new Subscription(function(){te.currentObservers=null,arrRemove(ue,X)}))},Z.prototype._checkFinalizedStatuses=function(X){var te=this,ie=te.hasError,oe=te.thrownError,se=te.isStopped;ie?X.error(oe):se&&X.complete()},Z.prototype.asObservable=function(){var X=new Observable;return X.source=this,X},Z.create=function(X,te){return new AnonymousSubject(X,te)},Z}(Observable),AnonymousSubject=function(L){__extends$1(Z,L);function Z(X,te){var ie=L.call(this)||this;return ie.destination=X,ie.source=te,ie}return Z.prototype.next=function(X){var te,ie;(ie=(te=this.destination)===null||te===void 0?void 0:te.next)===null||ie===void 0||ie.call(te,X)},Z.prototype.error=function(X){var te,ie;(ie=(te=this.destination)===null||te===void 0?void 0:te.error)===null||ie===void 0||ie.call(te,X)},Z.prototype.complete=function(){var X,te;(te=(X=this.destination)===null||X===void 0?void 0:X.complete)===null||te===void 0||te.call(X)},Z.prototype._subscribe=function(X){var te,ie;return(ie=(te=this.source)===null||te===void 0?void 0:te.subscribe(X))!==null&&ie!==void 0?ie:EMPTY_SUBSCRIPTION},Z}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},ReplaySubject=function(L){__extends$1(Z,L);function Z(X,te,ie){X===void 0&&(X=1/0),te===void 0&&(te=1/0),ie===void 0&&(ie=dateTimestampProvider);var oe=L.call(this)||this;return oe._bufferSize=X,oe._windowTime=te,oe._timestampProvider=ie,oe._buffer=[],oe._infiniteTimeWindow=!0,oe._infiniteTimeWindow=te===1/0,oe._bufferSize=Math.max(1,X),oe._windowTime=Math.max(1,te),oe}return Z.prototype.next=function(X){var te=this,ie=te.isStopped,oe=te._buffer,se=te._infiniteTimeWindow,ue=te._timestampProvider,ce=te._windowTime;ie||(oe.push(X),!se&&oe.push(ue.now()+ce)),this._trimBuffer(),L.prototype.next.call(this,X)},Z.prototype._subscribe=function(X){this._throwIfClosed(),this._trimBuffer();for(var te=this._innerSubscribe(X),ie=this,oe=ie._infiniteTimeWindow,se=ie._buffer,ue=se.slice(),ce=0;ce<ue.length&&!X.closed;ce+=oe?1:2)X.next(ue[ce]);return this._checkFinalizedStatuses(X),te},Z.prototype._trimBuffer=function(){var X=this,te=X._bufferSize,ie=X._timestampProvider,oe=X._buffer,se=X._infiniteTimeWindow,ue=(se?1:2)*te;if(te<1/0&&ue<oe.length&&oe.splice(0,oe.length-ue),!se){for(var ce=ie.now(),le=0,de=1;de<oe.length&&oe[de]<=ce;de+=2)le=de;le&&oe.splice(0,le+1)}},Z}(Subject),EMPTY=new Observable(function(L){return L.complete()});function isScheduler(L){return L&&isFunction$2(L.schedule)}function last(L){return L[L.length-1]}function popResultSelector(L){return isFunction$2(last(L))?L.pop():void 0}function popScheduler(L){return isScheduler(last(L))?L.pop():void 0}function popNumber(L,Z){return typeof last(L)=="number"?L.pop():Z}var isArrayLike=function(L){return L&&typeof L.length=="number"&&typeof L!="function"};function isPromise(L){return isFunction$2(L?.then)}function isInteropObservable(L){return isFunction$2(L[observable$1])}function isAsyncIterable$2(L){return Symbol.asyncIterator&&isFunction$2(L?.[Symbol.asyncIterator])}function createInvalidObservableTypeError(L){return new TypeError("You provided "+(L!==null&&typeof L=="object"?"an invalid object":"'"+L+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable$1(L){return isFunction$2(L?.[iterator])}function readableStreamLikeToAsyncGenerator(L){return __asyncGenerator(this,arguments,function(){var X,te,ie,oe;return __generator(this,function(se){switch(se.label){case 0:X=L.getReader(),se.label=1;case 1:se.trys.push([1,,9,10]),se.label=2;case 2:return[4,__await(X.read())];case 3:return te=se.sent(),ie=te.value,oe=te.done,oe?[4,__await(void 0)]:[3,5];case 4:return[2,se.sent()];case 5:return[4,__await(ie)];case 6:return[4,se.sent()];case 7:return se.sent(),[3,2];case 8:return[3,10];case 9:return X.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(L){return isFunction$2(L?.getReader)}function innerFrom(L){if(L instanceof Observable)return L;if(L!=null){if(isInteropObservable(L))return fromInteropObservable(L);if(isArrayLike(L))return fromArrayLike(L);if(isPromise(L))return fromPromise(L);if(isAsyncIterable$2(L))return fromAsyncIterable(L);if(isIterable$1(L))return fromIterable(L);if(isReadableStreamLike(L))return fromReadableStreamLike(L)}throw createInvalidObservableTypeError(L)}function fromInteropObservable(L){return new Observable(function(Z){var X=L[observable$1]();if(isFunction$2(X.subscribe))return X.subscribe(Z);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(L){return new Observable(function(Z){for(var X=0;X<L.length&&!Z.closed;X++)Z.next(L[X]);Z.complete()})}function fromPromise(L){return new Observable(function(Z){L.then(function(X){Z.closed||(Z.next(X),Z.complete())},function(X){return Z.error(X)}).then(null,reportUnhandledError)})}function fromIterable(L){return new Observable(function(Z){var X,te;try{for(var ie=__values(L),oe=ie.next();!oe.done;oe=ie.next()){var se=oe.value;if(Z.next(se),Z.closed)return}}catch(ue){X={error:ue}}finally{try{oe&&!oe.done&&(te=ie.return)&&te.call(ie)}finally{if(X)throw X.error}}Z.complete()})}function fromAsyncIterable(L){return new Observable(function(Z){process$1(L,Z).catch(function(X){return Z.error(X)})})}function fromReadableStreamLike(L){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(L))}function process$1(L,Z){var X,te,ie,oe;return __awaiter$4(this,void 0,void 0,function(){var se,ue;return __generator(this,function(ce){switch(ce.label){case 0:ce.trys.push([0,5,6,11]),X=__asyncValues(L),ce.label=1;case 1:return[4,X.next()];case 2:if(te=ce.sent(),!!te.done)return[3,4];if(se=te.value,Z.next(se),Z.closed)return[2];ce.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return ue=ce.sent(),ie={error:ue},[3,11];case 6:return ce.trys.push([6,,9,10]),te&&!te.done&&(oe=X.return)?[4,oe.call(X)]:[3,8];case 7:ce.sent(),ce.label=8;case 8:return[3,10];case 9:if(ie)throw ie.error;return[7];case 10:return[7];case 11:return Z.complete(),[2]}})})}function executeSchedule(L,Z,X,te,ie){te===void 0&&(te=0),ie===void 0&&(ie=!1);var oe=Z.schedule(function(){X(),ie?L.add(this.schedule(null,te)):this.unsubscribe()},te);if(L.add(oe),!ie)return oe}function observeOn(L,Z){return Z===void 0&&(Z=0),operate(function(X,te){X.subscribe(createOperatorSubscriber(te,function(ie){return executeSchedule(te,L,function(){return te.next(ie)},Z)},function(){return executeSchedule(te,L,function(){return te.complete()},Z)},function(ie){return executeSchedule(te,L,function(){return te.error(ie)},Z)}))})}function subscribeOn(L,Z){return Z===void 0&&(Z=0),operate(function(X,te){te.add(L.schedule(function(){return X.subscribe(te)},Z))})}function scheduleObservable(L,Z){return innerFrom(L).pipe(subscribeOn(Z),observeOn(Z))}function schedulePromise(L,Z){return innerFrom(L).pipe(subscribeOn(Z),observeOn(Z))}function scheduleArray(L,Z){return new Observable(function(X){var te=0;return Z.schedule(function(){te===L.length?X.complete():(X.next(L[te++]),X.closed||this.schedule())})})}function scheduleIterable(L,Z){return new Observable(function(X){var te;return executeSchedule(X,Z,function(){te=L[iterator](),executeSchedule(X,Z,function(){var ie,oe,se;try{ie=te.next(),oe=ie.value,se=ie.done}catch(ue){X.error(ue);return}se?X.complete():X.next(oe)},0,!0)}),function(){return isFunction$2(te?.return)&&te.return()}})}function scheduleAsyncIterable(L,Z){if(!L)throw new Error("Iterable cannot be null");return new Observable(function(X){executeSchedule(X,Z,function(){var te=L[Symbol.asyncIterator]();executeSchedule(X,Z,function(){te.next().then(function(ie){ie.done?X.complete():X.next(ie.value)})},0,!0)})})}function scheduleReadableStreamLike(L,Z){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(L),Z)}function scheduled(L,Z){if(L!=null){if(isInteropObservable(L))return scheduleObservable(L,Z);if(isArrayLike(L))return scheduleArray(L,Z);if(isPromise(L))return schedulePromise(L,Z);if(isAsyncIterable$2(L))return scheduleAsyncIterable(L,Z);if(isIterable$1(L))return scheduleIterable(L,Z);if(isReadableStreamLike(L))return scheduleReadableStreamLike(L,Z)}throw createInvalidObservableTypeError(L)}function from(L,Z){return Z?scheduled(L,Z):innerFrom(L)}function of(){for(var L=[],Z=0;Z<arguments.length;Z++)L[Z]=arguments[Z];var X=popScheduler(L);return from(L,X)}var EmptyError=createErrorClass(function(L){return function(){L(this),this.name="EmptyError",this.message="no elements in sequence"}});function firstValueFrom(L,Z){var X=typeof Z=="object";return new Promise(function(te,ie){var oe=new SafeSubscriber({next:function(se){te(se),oe.unsubscribe()},error:ie,complete:function(){X?te(Z.defaultValue):ie(new EmptyError)}});L.subscribe(oe)})}function map(L,Z){return operate(function(X,te){var ie=0;X.subscribe(createOperatorSubscriber(te,function(oe){te.next(L.call(Z,oe,ie++))}))})}var isArray$3=Array.isArray;function callOrApply(L,Z){return isArray$3(Z)?L.apply(void 0,__spreadArray$3([],__read$4(Z))):L(Z)}function mapOneOrManyArgs(L){return map(function(Z){return callOrApply(L,Z)})}var isArray$2=Array.isArray,getPrototypeOf$1=Object.getPrototypeOf,objectProto=Object.prototype,getKeys=Object.keys;function argsArgArrayOrObject(L){if(L.length===1){var Z=L[0];if(isArray$2(Z))return{args:Z,keys:null};if(isPOJO(Z)){var X=getKeys(Z);return{args:X.map(function(te){return Z[te]}),keys:X}}}return{args:L,keys:null}}function isPOJO(L){return L&&typeof L=="object"&&getPrototypeOf$1(L)===objectProto}function createObject(L,Z){return L.reduce(function(X,te,ie){return X[te]=Z[ie],X},{})}function combineLatest(){for(var L=[],Z=0;Z<arguments.length;Z++)L[Z]=arguments[Z];var X=popScheduler(L),te=popResultSelector(L),ie=argsArgArrayOrObject(L),oe=ie.args,se=ie.keys;if(oe.length===0)return from([],X);var ue=new Observable(combineLatestInit(oe,X,se?function(ce){return createObject(se,ce)}:identity$1));return te?ue.pipe(mapOneOrManyArgs(te)):ue}function combineLatestInit(L,Z,X){return X===void 0&&(X=identity$1),function(te){maybeSchedule(Z,function(){for(var ie=L.length,oe=new Array(ie),se=ie,ue=ie,ce=function(de){maybeSchedule(Z,function(){var he=from(L[de],Z),ge=!1;he.subscribe(createOperatorSubscriber(te,function(_e){oe[de]=_e,ge||(ge=!0,ue--),ue||te.next(X(oe.slice()))},function(){--se||te.complete()}))},te)},le=0;le<ie;le++)ce(le)},te)}}function maybeSchedule(L,Z,X){L?executeSchedule(X,L,Z):Z()}function mergeInternals(L,Z,X,te,ie,oe,se,ue){var ce=[],le=0,de=0,he=!1,ge=function(){he&&!ce.length&&!le&&Z.complete()},_e=function(xe){return le<te?Ae(xe):ce.push(xe)},Ae=function(xe){oe&&Z.next(xe),le++;var Ie=!1;innerFrom(X(xe,de++)).subscribe(createOperatorSubscriber(Z,function(Pe){ie?.(Pe),oe?_e(Pe):Z.next(Pe)},function(){Ie=!0},void 0,function(){if(Ie)try{le--;for(var Pe=function(){var Ce=ce.shift();se?executeSchedule(Z,se,function(){return Ae(Ce)}):Ae(Ce)};ce.length&&le<te;)Pe();ge()}catch(Ce){Z.error(Ce)}}))};return L.subscribe(createOperatorSubscriber(Z,_e,function(){he=!0,ge()})),function(){ue?.()}}function mergeMap(L,Z,X){return X===void 0&&(X=1/0),isFunction$2(Z)?mergeMap(function(te,ie){return map(function(oe,se){return Z(te,oe,ie,se)})(innerFrom(L(te,ie)))},X):(typeof Z=="number"&&(X=Z),operate(function(te,ie){return mergeInternals(te,ie,L,X)}))}function mergeAll(L){return L===void 0&&(L=1/0),mergeMap(identity$1,L)}function concatAll(){return mergeAll(1)}function concat$2(){for(var L=[],Z=0;Z<arguments.length;Z++)L[Z]=arguments[Z];return concatAll()(from(L,popScheduler(L)))}function defer(L){return new Observable(function(Z){innerFrom(L()).subscribe(Z)})}function merge(){for(var L=[],Z=0;Z<arguments.length;Z++)L[Z]=arguments[Z];var X=popScheduler(L),te=popNumber(L,1/0),ie=L;return ie.length?ie.length===1?innerFrom(ie[0]):mergeAll(te)(from(ie,X)):EMPTY}function filter(L,Z){return operate(function(X,te){var ie=0;X.subscribe(createOperatorSubscriber(te,function(oe){return L.call(Z,oe,ie++)&&te.next(oe)}))})}function catchError(L){return operate(function(Z,X){var te=null,ie=!1,oe;te=Z.subscribe(createOperatorSubscriber(X,void 0,void 0,function(se){oe=innerFrom(L(se,catchError(L)(Z))),te?(te.unsubscribe(),te=null,oe.subscribe(X)):ie=!0})),ie&&(te.unsubscribe(),te=null,oe.subscribe(X))})}function concatMap(L,Z){return isFunction$2(Z)?mergeMap(L,Z,1):mergeMap(L,1)}function take(L){return L<=0?function(){return EMPTY}:operate(function(Z,X){var te=0;Z.subscribe(createOperatorSubscriber(X,function(ie){++te<=L&&(X.next(ie),L<=te&&X.complete())}))})}function share$1(L){L===void 0&&(L={});var Z=L.connector,X=Z===void 0?function(){return new Subject}:Z,te=L.resetOnError,ie=te===void 0?!0:te,oe=L.resetOnComplete,se=oe===void 0?!0:oe,ue=L.resetOnRefCountZero,ce=ue===void 0?!0:ue;return function(le){var de=null,he=null,ge=null,_e=0,Ae=!1,xe=!1,Ie=function(){he?.unsubscribe(),he=null},Pe=function(){Ie(),de=ge=null,Ae=xe=!1},Ce=function(){var Be=de;Pe(),Be?.unsubscribe()};return operate(function(Be,Ve){_e++,!xe&&!Ae&&Ie();var Ge=ge=ge??X();Ve.add(function(){_e--,_e===0&&!xe&&!Ae&&(he=handleReset(Ce,ce))}),Ge.subscribe(Ve),de||(de=new SafeSubscriber({next:function(Ke){return Ge.next(Ke)},error:function(Ke){xe=!0,Ie(),he=handleReset(Pe,ie,Ke),Ge.error(Ke)},complete:function(){Ae=!0,Ie(),he=handleReset(Pe,se),Ge.complete()}}),from(Be).subscribe(de))})(le)}}function handleReset(L,Z){for(var X=[],te=2;te<arguments.length;te++)X[te-2]=arguments[te];return Z===!0?(L(),null):Z===!1?null:Z.apply(void 0,__spreadArray$3([],__read$4(X))).pipe(take(1)).subscribe(function(){return L()})}function shareReplay(L,Z,X){var te,ie,oe,se,ue=!1;return L&&typeof L=="object"?(te=L.bufferSize,se=te===void 0?1/0:te,ie=L.windowTime,Z=ie===void 0?1/0:ie,oe=L.refCount,ue=oe===void 0?!1:oe,X=L.scheduler):se=L??1/0,share$1({connector:function(){return new ReplaySubject(se,Z,X)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ue})}function tap(L,Z,X){var te=isFunction$2(L)||Z||X?{next:L,error:Z,complete:X}:L;return te?operate(function(ie,oe){var se;(se=te.subscribe)===null||se===void 0||se.call(te);var ue=!0;ie.subscribe(createOperatorSubscriber(oe,function(ce){var le;(le=te.next)===null||le===void 0||le.call(te,ce),oe.next(ce)},function(){var ce;ue=!1,(ce=te.complete)===null||ce===void 0||ce.call(te),oe.complete()},function(ce){var le;ue=!1,(le=te.error)===null||le===void 0||le.call(te,ce),oe.error(ce)},function(){var ce,le;ue&&((ce=te.unsubscribe)===null||ce===void 0||ce.call(te)),(le=te.finalize)===null||le===void 0||le.call(te)}))}):identity$1}var bnExports={},bn={get exports(){return bnExports},set exports(L){bnExports=L}};const __viteBrowserExternal={},Tm=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(Tm);(function(L){(function(Z,X){function te(Fe,pe){if(!Fe)throw new Error(pe||"Assertion failed")}function ie(Fe,pe){Fe.super_=pe;var we=function(){};we.prototype=pe.prototype,Fe.prototype=new we,Fe.prototype.constructor=Fe}function oe(Fe,pe,we){if(oe.isBN(Fe))return Fe;this.negative=0,this.words=null,this.length=0,this.red=null,Fe!==null&&((pe==="le"||pe==="be")&&(we=pe,pe=10),this._init(Fe||0,pe||10,we||"be"))}typeof Z=="object"?Z.exports=oe:X.BN=oe,oe.BN=oe,oe.wordSize=26;var se;try{typeof window<"u"&&typeof window.Buffer<"u"?se=window.Buffer:se=require$$0.Buffer}catch{}oe.isBN=function(pe){return pe instanceof oe?!0:pe!==null&&typeof pe=="object"&&pe.constructor.wordSize===oe.wordSize&&Array.isArray(pe.words)},oe.max=function(pe,we){return pe.cmp(we)>0?pe:we},oe.min=function(pe,we){return pe.cmp(we)<0?pe:we},oe.prototype._init=function(pe,we,$e){if(typeof pe=="number")return this._initNumber(pe,we,$e);if(typeof pe=="object")return this._initArray(pe,we,$e);we==="hex"&&(we=16),te(we===(we|0)&&we>=2&&we<=36),pe=pe.toString().replace(/\s+/g,"");var Oe=0;pe[0]==="-"&&(Oe++,this.negative=1),Oe<pe.length&&(we===16?this._parseHex(pe,Oe,$e):(this._parseBase(pe,we,Oe),$e==="le"&&this._initArray(this.toArray(),we,$e)))},oe.prototype._initNumber=function(pe,we,$e){pe<0&&(this.negative=1,pe=-pe),pe<67108864?(this.words=[pe&67108863],this.length=1):pe<4503599627370496?(this.words=[pe&67108863,pe/67108864&67108863],this.length=2):(te(pe<9007199254740992),this.words=[pe&67108863,pe/67108864&67108863,1],this.length=3),$e==="le"&&this._initArray(this.toArray(),we,$e)},oe.prototype._initArray=function(pe,we,$e){if(te(typeof pe.length=="number"),pe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(pe.length/3),this.words=new Array(this.length);for(var Oe=0;Oe<this.length;Oe++)this.words[Oe]=0;var Me,Ze,We=0;if($e==="be")for(Oe=pe.length-1,Me=0;Oe>=0;Oe-=3)Ze=pe[Oe]|pe[Oe-1]<<8|pe[Oe-2]<<16,this.words[Me]|=Ze<<We&67108863,this.words[Me+1]=Ze>>>26-We&67108863,We+=24,We>=26&&(We-=26,Me++);else if($e==="le")for(Oe=0,Me=0;Oe<pe.length;Oe+=3)Ze=pe[Oe]|pe[Oe+1]<<8|pe[Oe+2]<<16,this.words[Me]|=Ze<<We&67108863,this.words[Me+1]=Ze>>>26-We&67108863,We+=24,We>=26&&(We-=26,Me++);return this._strip()};function ue(Fe,pe){var we=Fe.charCodeAt(pe);if(we>=48&&we<=57)return we-48;if(we>=65&&we<=70)return we-55;if(we>=97&&we<=102)return we-87;te(!1,"Invalid character in "+Fe)}function ce(Fe,pe,we){var $e=ue(Fe,we);return we-1>=pe&&($e|=ue(Fe,we-1)<<4),$e}oe.prototype._parseHex=function(pe,we,$e){this.length=Math.ceil((pe.length-we)/6),this.words=new Array(this.length);for(var Oe=0;Oe<this.length;Oe++)this.words[Oe]=0;var Me=0,Ze=0,We;if($e==="be")for(Oe=pe.length-1;Oe>=we;Oe-=2)We=ce(pe,we,Oe)<<Me,this.words[Ze]|=We&67108863,Me>=18?(Me-=18,Ze+=1,this.words[Ze]|=We>>>26):Me+=8;else{var Ne=pe.length-we;for(Oe=Ne%2===0?we+1:we;Oe<pe.length;Oe+=2)We=ce(pe,we,Oe)<<Me,this.words[Ze]|=We&67108863,Me>=18?(Me-=18,Ze+=1,this.words[Ze]|=We>>>26):Me+=8}this._strip()};function le(Fe,pe,we,$e){for(var Oe=0,Me=0,Ze=Math.min(Fe.length,we),We=pe;We<Ze;We++){var Ne=Fe.charCodeAt(We)-48;Oe*=$e,Ne>=49?Me=Ne-49+10:Ne>=17?Me=Ne-17+10:Me=Ne,te(Ne>=0&&Me<$e,"Invalid character"),Oe+=Me}return Oe}oe.prototype._parseBase=function(pe,we,$e){this.words=[0],this.length=1;for(var Oe=0,Me=1;Me<=67108863;Me*=we)Oe++;Oe--,Me=Me/we|0;for(var Ze=pe.length-$e,We=Ze%Oe,Ne=Math.min(Ze,Ze-We)+$e,ve=0,Le=$e;Le<Ne;Le+=Oe)ve=le(pe,Le,Le+Oe,we),this.imuln(Me),this.words[0]+ve<67108864?this.words[0]+=ve:this._iaddn(ve);if(We!==0){var it=1;for(ve=le(pe,Le,pe.length,we),Le=0;Le<We;Le++)it*=we;this.imuln(it),this.words[0]+ve<67108864?this.words[0]+=ve:this._iaddn(ve)}this._strip()},oe.prototype.copy=function(pe){pe.words=new Array(this.length);for(var we=0;we<this.length;we++)pe.words[we]=this.words[we];pe.length=this.length,pe.negative=this.negative,pe.red=this.red};function de(Fe,pe){Fe.words=pe.words,Fe.length=pe.length,Fe.negative=pe.negative,Fe.red=pe.red}if(oe.prototype._move=function(pe){de(pe,this)},oe.prototype.clone=function(){var pe=new oe(null);return this.copy(pe),pe},oe.prototype._expand=function(pe){for(;this.length<pe;)this.words[this.length++]=0;return this},oe.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},oe.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{oe.prototype[Symbol.for("nodejs.util.inspect.custom")]=he}catch{oe.prototype.inspect=he}else oe.prototype.inspect=he;function he(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ge=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_e=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ae=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];oe.prototype.toString=function(pe,we){pe=pe||10,we=we|0||1;var $e;if(pe===16||pe==="hex"){$e="";for(var Oe=0,Me=0,Ze=0;Ze<this.length;Ze++){var We=this.words[Ze],Ne=((We<<Oe|Me)&16777215).toString(16);Me=We>>>24-Oe&16777215,Oe+=2,Oe>=26&&(Oe-=26,Ze--),Me!==0||Ze!==this.length-1?$e=ge[6-Ne.length]+Ne+$e:$e=Ne+$e}for(Me!==0&&($e=Me.toString(16)+$e);$e.length%we!==0;)$e="0"+$e;return this.negative!==0&&($e="-"+$e),$e}if(pe===(pe|0)&&pe>=2&&pe<=36){var ve=_e[pe],Le=Ae[pe];$e="";var it=this.clone();for(it.negative=0;!it.isZero();){var Te=it.modrn(Le).toString(pe);it=it.idivn(Le),it.isZero()?$e=Te+$e:$e=ge[ve-Te.length]+Te+$e}for(this.isZero()&&($e="0"+$e);$e.length%we!==0;)$e="0"+$e;return this.negative!==0&&($e="-"+$e),$e}te(!1,"Base should be between 2 and 36")},oe.prototype.toNumber=function(){var pe=this.words[0];return this.length===2?pe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?pe+=4503599627370496+this.words[1]*67108864:this.length>2&&te(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-pe:pe},oe.prototype.toJSON=function(){return this.toString(16,2)},se&&(oe.prototype.toBuffer=function(pe,we){return this.toArrayLike(se,pe,we)}),oe.prototype.toArray=function(pe,we){return this.toArrayLike(Array,pe,we)};var xe=function(pe,we){return pe.allocUnsafe?pe.allocUnsafe(we):new pe(we)};oe.prototype.toArrayLike=function(pe,we,$e){this._strip();var Oe=this.byteLength(),Me=$e||Math.max(1,Oe);te(Oe<=Me,"byte array longer than desired length"),te(Me>0,"Requested array length <= 0");var Ze=xe(pe,Me),We=we==="le"?"LE":"BE";return this["_toArrayLike"+We](Ze,Oe),Ze},oe.prototype._toArrayLikeLE=function(pe,we){for(var $e=0,Oe=0,Me=0,Ze=0;Me<this.length;Me++){var We=this.words[Me]<<Ze|Oe;pe[$e++]=We&255,$e<pe.length&&(pe[$e++]=We>>8&255),$e<pe.length&&(pe[$e++]=We>>16&255),Ze===6?($e<pe.length&&(pe[$e++]=We>>24&255),Oe=0,Ze=0):(Oe=We>>>24,Ze+=2)}if($e<pe.length)for(pe[$e++]=Oe;$e<pe.length;)pe[$e++]=0},oe.prototype._toArrayLikeBE=function(pe,we){for(var $e=pe.length-1,Oe=0,Me=0,Ze=0;Me<this.length;Me++){var We=this.words[Me]<<Ze|Oe;pe[$e--]=We&255,$e>=0&&(pe[$e--]=We>>8&255),$e>=0&&(pe[$e--]=We>>16&255),Ze===6?($e>=0&&(pe[$e--]=We>>24&255),Oe=0,Ze=0):(Oe=We>>>24,Ze+=2)}if($e>=0)for(pe[$e--]=Oe;$e>=0;)pe[$e--]=0},Math.clz32?oe.prototype._countBits=function(pe){return 32-Math.clz32(pe)}:oe.prototype._countBits=function(pe){var we=pe,$e=0;return we>=4096&&($e+=13,we>>>=13),we>=64&&($e+=7,we>>>=7),we>=8&&($e+=4,we>>>=4),we>=2&&($e+=2,we>>>=2),$e+we},oe.prototype._zeroBits=function(pe){if(pe===0)return 26;var we=pe,$e=0;return we&8191||($e+=13,we>>>=13),we&127||($e+=7,we>>>=7),we&15||($e+=4,we>>>=4),we&3||($e+=2,we>>>=2),we&1||$e++,$e},oe.prototype.bitLength=function(){var pe=this.words[this.length-1],we=this._countBits(pe);return(this.length-1)*26+we};function Ie(Fe){for(var pe=new Array(Fe.bitLength()),we=0;we<pe.length;we++){var $e=we/26|0,Oe=we%26;pe[we]=Fe.words[$e]>>>Oe&1}return pe}oe.prototype.zeroBits=function(){if(this.isZero())return 0;for(var pe=0,we=0;we<this.length;we++){var $e=this._zeroBits(this.words[we]);if(pe+=$e,$e!==26)break}return pe},oe.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},oe.prototype.toTwos=function(pe){return this.negative!==0?this.abs().inotn(pe).iaddn(1):this.clone()},oe.prototype.fromTwos=function(pe){return this.testn(pe-1)?this.notn(pe).iaddn(1).ineg():this.clone()},oe.prototype.isNeg=function(){return this.negative!==0},oe.prototype.neg=function(){return this.clone().ineg()},oe.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},oe.prototype.iuor=function(pe){for(;this.length<pe.length;)this.words[this.length++]=0;for(var we=0;we<pe.length;we++)this.words[we]=this.words[we]|pe.words[we];return this._strip()},oe.prototype.ior=function(pe){return te((this.negative|pe.negative)===0),this.iuor(pe)},oe.prototype.or=function(pe){return this.length>pe.length?this.clone().ior(pe):pe.clone().ior(this)},oe.prototype.uor=function(pe){return this.length>pe.length?this.clone().iuor(pe):pe.clone().iuor(this)},oe.prototype.iuand=function(pe){var we;this.length>pe.length?we=pe:we=this;for(var $e=0;$e<we.length;$e++)this.words[$e]=this.words[$e]&pe.words[$e];return this.length=we.length,this._strip()},oe.prototype.iand=function(pe){return te((this.negative|pe.negative)===0),this.iuand(pe)},oe.prototype.and=function(pe){return this.length>pe.length?this.clone().iand(pe):pe.clone().iand(this)},oe.prototype.uand=function(pe){return this.length>pe.length?this.clone().iuand(pe):pe.clone().iuand(this)},oe.prototype.iuxor=function(pe){var we,$e;this.length>pe.length?(we=this,$e=pe):(we=pe,$e=this);for(var Oe=0;Oe<$e.length;Oe++)this.words[Oe]=we.words[Oe]^$e.words[Oe];if(this!==we)for(;Oe<we.length;Oe++)this.words[Oe]=we.words[Oe];return this.length=we.length,this._strip()},oe.prototype.ixor=function(pe){return te((this.negative|pe.negative)===0),this.iuxor(pe)},oe.prototype.xor=function(pe){return this.length>pe.length?this.clone().ixor(pe):pe.clone().ixor(this)},oe.prototype.uxor=function(pe){return this.length>pe.length?this.clone().iuxor(pe):pe.clone().iuxor(this)},oe.prototype.inotn=function(pe){te(typeof pe=="number"&&pe>=0);var we=Math.ceil(pe/26)|0,$e=pe%26;this._expand(we),$e>0&&we--;for(var Oe=0;Oe<we;Oe++)this.words[Oe]=~this.words[Oe]&67108863;return $e>0&&(this.words[Oe]=~this.words[Oe]&67108863>>26-$e),this._strip()},oe.prototype.notn=function(pe){return this.clone().inotn(pe)},oe.prototype.setn=function(pe,we){te(typeof pe=="number"&&pe>=0);var $e=pe/26|0,Oe=pe%26;return this._expand($e+1),we?this.words[$e]=this.words[$e]|1<<Oe:this.words[$e]=this.words[$e]&~(1<<Oe),this._strip()},oe.prototype.iadd=function(pe){var we;if(this.negative!==0&&pe.negative===0)return this.negative=0,we=this.isub(pe),this.negative^=1,this._normSign();if(this.negative===0&&pe.negative!==0)return pe.negative=0,we=this.isub(pe),pe.negative=1,we._normSign();var $e,Oe;this.length>pe.length?($e=this,Oe=pe):($e=pe,Oe=this);for(var Me=0,Ze=0;Ze<Oe.length;Ze++)we=($e.words[Ze]|0)+(Oe.words[Ze]|0)+Me,this.words[Ze]=we&67108863,Me=we>>>26;for(;Me!==0&&Ze<$e.length;Ze++)we=($e.words[Ze]|0)+Me,this.words[Ze]=we&67108863,Me=we>>>26;if(this.length=$e.length,Me!==0)this.words[this.length]=Me,this.length++;else if($e!==this)for(;Ze<$e.length;Ze++)this.words[Ze]=$e.words[Ze];return this},oe.prototype.add=function(pe){var we;return pe.negative!==0&&this.negative===0?(pe.negative=0,we=this.sub(pe),pe.negative^=1,we):pe.negative===0&&this.negative!==0?(this.negative=0,we=pe.sub(this),this.negative=1,we):this.length>pe.length?this.clone().iadd(pe):pe.clone().iadd(this)},oe.prototype.isub=function(pe){if(pe.negative!==0){pe.negative=0;var we=this.iadd(pe);return pe.negative=1,we._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(pe),this.negative=1,this._normSign();var $e=this.cmp(pe);if($e===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Oe,Me;$e>0?(Oe=this,Me=pe):(Oe=pe,Me=this);for(var Ze=0,We=0;We<Me.length;We++)we=(Oe.words[We]|0)-(Me.words[We]|0)+Ze,Ze=we>>26,this.words[We]=we&67108863;for(;Ze!==0&&We<Oe.length;We++)we=(Oe.words[We]|0)+Ze,Ze=we>>26,this.words[We]=we&67108863;if(Ze===0&&We<Oe.length&&Oe!==this)for(;We<Oe.length;We++)this.words[We]=Oe.words[We];return this.length=Math.max(this.length,We),Oe!==this&&(this.negative=1),this._strip()},oe.prototype.sub=function(pe){return this.clone().isub(pe)};function Pe(Fe,pe,we){we.negative=pe.negative^Fe.negative;var $e=Fe.length+pe.length|0;we.length=$e,$e=$e-1|0;var Oe=Fe.words[0]|0,Me=pe.words[0]|0,Ze=Oe*Me,We=Ze&67108863,Ne=Ze/67108864|0;we.words[0]=We;for(var ve=1;ve<$e;ve++){for(var Le=Ne>>>26,it=Ne&67108863,Te=Math.min(ve,pe.length-1),Ye=Math.max(0,ve-Fe.length+1);Ye<=Te;Ye++){var Ue=ve-Ye|0;Oe=Fe.words[Ue]|0,Me=pe.words[Ye]|0,Ze=Oe*Me+it,Le+=Ze/67108864|0,it=Ze&67108863}we.words[ve]=it|0,Ne=Le|0}return Ne!==0?we.words[ve]=Ne|0:we.length--,we._strip()}var Ce=function(pe,we,$e){var Oe=pe.words,Me=we.words,Ze=$e.words,We=0,Ne,ve,Le,it=Oe[0]|0,Te=it&8191,Ye=it>>>13,Ue=Oe[1]|0,qe=Ue&8191,Xe=Ue>>>13,nt=Oe[2]|0,tt=nt&8191,Qe=nt>>>13,ft=Oe[3]|0,rt=ft&8191,lt=ft>>>13,qt=Oe[4]|0,pt=qt&8191,yt=qt>>>13,tr=Oe[5]|0,mt=tr&8191,gt=tr>>>13,rr=Oe[6]|0,bt=rr&8191,vt=rr>>>13,nr=Oe[7]|0,wt=nr&8191,_t=nr>>>13,ir=Oe[8]|0,Et=ir&8191,At=ir>>>13,or=Oe[9]|0,xt=or&8191,Tt=or>>>13,sr=Me[0]|0,St=sr&8191,It=sr>>>13,ar=Me[1]|0,$t=ar&8191,Rt=ar>>>13,ur=Me[2]|0,Pt=ur&8191,Ot=ur>>>13,cr=Me[3]|0,Ct=cr&8191,Nt=cr>>>13,dr=Me[4]|0,Bt=dr&8191,Mt=dr>>>13,hr=Me[5]|0,kt=hr&8191,Lt=hr>>>13,pr=Me[6]|0,Dt=pr&8191,Ut=pr>>>13,yr=Me[7]|0,jt=yr&8191,Zt=yr>>>13,gr=Me[8]|0,zt=gr&8191,Ht=gr>>>13,br=Me[9]|0,Wt=br&8191,Vt=br>>>13;$e.negative=pe.negative^we.negative,$e.length=19,Ne=Math.imul(Te,St),ve=Math.imul(Te,It),ve=ve+Math.imul(Ye,St)|0,Le=Math.imul(Ye,It);var Gt=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,Ne=Math.imul(qe,St),ve=Math.imul(qe,It),ve=ve+Math.imul(Xe,St)|0,Le=Math.imul(Xe,It),Ne=Ne+Math.imul(Te,$t)|0,ve=ve+Math.imul(Te,Rt)|0,ve=ve+Math.imul(Ye,$t)|0,Le=Le+Math.imul(Ye,Rt)|0;var Kt=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,Ne=Math.imul(tt,St),ve=Math.imul(tt,It),ve=ve+Math.imul(Qe,St)|0,Le=Math.imul(Qe,It),Ne=Ne+Math.imul(qe,$t)|0,ve=ve+Math.imul(qe,Rt)|0,ve=ve+Math.imul(Xe,$t)|0,Le=Le+Math.imul(Xe,Rt)|0,Ne=Ne+Math.imul(Te,Pt)|0,ve=ve+Math.imul(Te,Ot)|0,ve=ve+Math.imul(Ye,Pt)|0,Le=Le+Math.imul(Ye,Ot)|0;var Xt=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,Ne=Math.imul(rt,St),ve=Math.imul(rt,It),ve=ve+Math.imul(lt,St)|0,Le=Math.imul(lt,It),Ne=Ne+Math.imul(tt,$t)|0,ve=ve+Math.imul(tt,Rt)|0,ve=ve+Math.imul(Qe,$t)|0,Le=Le+Math.imul(Qe,Rt)|0,Ne=Ne+Math.imul(qe,Pt)|0,ve=ve+Math.imul(qe,Ot)|0,ve=ve+Math.imul(Xe,Pt)|0,Le=Le+Math.imul(Xe,Ot)|0,Ne=Ne+Math.imul(Te,Ct)|0,ve=ve+Math.imul(Te,Nt)|0,ve=ve+Math.imul(Ye,Ct)|0,Le=Le+Math.imul(Ye,Nt)|0;var Jt=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,Ne=Math.imul(pt,St),ve=Math.imul(pt,It),ve=ve+Math.imul(yt,St)|0,Le=Math.imul(yt,It),Ne=Ne+Math.imul(rt,$t)|0,ve=ve+Math.imul(rt,Rt)|0,ve=ve+Math.imul(lt,$t)|0,Le=Le+Math.imul(lt,Rt)|0,Ne=Ne+Math.imul(tt,Pt)|0,ve=ve+Math.imul(tt,Ot)|0,ve=ve+Math.imul(Qe,Pt)|0,Le=Le+Math.imul(Qe,Ot)|0,Ne=Ne+Math.imul(qe,Ct)|0,ve=ve+Math.imul(qe,Nt)|0,ve=ve+Math.imul(Xe,Ct)|0,Le=Le+Math.imul(Xe,Nt)|0,Ne=Ne+Math.imul(Te,Bt)|0,ve=ve+Math.imul(Te,Mt)|0,ve=ve+Math.imul(Ye,Bt)|0,Le=Le+Math.imul(Ye,Mt)|0;var er=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(er>>>26)|0,er&=67108863,Ne=Math.imul(mt,St),ve=Math.imul(mt,It),ve=ve+Math.imul(gt,St)|0,Le=Math.imul(gt,It),Ne=Ne+Math.imul(pt,$t)|0,ve=ve+Math.imul(pt,Rt)|0,ve=ve+Math.imul(yt,$t)|0,Le=Le+Math.imul(yt,Rt)|0,Ne=Ne+Math.imul(rt,Pt)|0,ve=ve+Math.imul(rt,Ot)|0,ve=ve+Math.imul(lt,Pt)|0,Le=Le+Math.imul(lt,Ot)|0,Ne=Ne+Math.imul(tt,Ct)|0,ve=ve+Math.imul(tt,Nt)|0,ve=ve+Math.imul(Qe,Ct)|0,Le=Le+Math.imul(Qe,Nt)|0,Ne=Ne+Math.imul(qe,Bt)|0,ve=ve+Math.imul(qe,Mt)|0,ve=ve+Math.imul(Xe,Bt)|0,Le=Le+Math.imul(Xe,Mt)|0,Ne=Ne+Math.imul(Te,kt)|0,ve=ve+Math.imul(Te,Lt)|0,ve=ve+Math.imul(Ye,kt)|0,Le=Le+Math.imul(Ye,Lt)|0;var vr=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(vr>>>26)|0,vr&=67108863,Ne=Math.imul(bt,St),ve=Math.imul(bt,It),ve=ve+Math.imul(vt,St)|0,Le=Math.imul(vt,It),Ne=Ne+Math.imul(mt,$t)|0,ve=ve+Math.imul(mt,Rt)|0,ve=ve+Math.imul(gt,$t)|0,Le=Le+Math.imul(gt,Rt)|0,Ne=Ne+Math.imul(pt,Pt)|0,ve=ve+Math.imul(pt,Ot)|0,ve=ve+Math.imul(yt,Pt)|0,Le=Le+Math.imul(yt,Ot)|0,Ne=Ne+Math.imul(rt,Ct)|0,ve=ve+Math.imul(rt,Nt)|0,ve=ve+Math.imul(lt,Ct)|0,Le=Le+Math.imul(lt,Nt)|0,Ne=Ne+Math.imul(tt,Bt)|0,ve=ve+Math.imul(tt,Mt)|0,ve=ve+Math.imul(Qe,Bt)|0,Le=Le+Math.imul(Qe,Mt)|0,Ne=Ne+Math.imul(qe,kt)|0,ve=ve+Math.imul(qe,Lt)|0,ve=ve+Math.imul(Xe,kt)|0,Le=Le+Math.imul(Xe,Lt)|0,Ne=Ne+Math.imul(Te,Dt)|0,ve=ve+Math.imul(Te,Ut)|0,ve=ve+Math.imul(Ye,Dt)|0,Le=Le+Math.imul(Ye,Ut)|0;var wr=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(wr>>>26)|0,wr&=67108863,Ne=Math.imul(wt,St),ve=Math.imul(wt,It),ve=ve+Math.imul(_t,St)|0,Le=Math.imul(_t,It),Ne=Ne+Math.imul(bt,$t)|0,ve=ve+Math.imul(bt,Rt)|0,ve=ve+Math.imul(vt,$t)|0,Le=Le+Math.imul(vt,Rt)|0,Ne=Ne+Math.imul(mt,Pt)|0,ve=ve+Math.imul(mt,Ot)|0,ve=ve+Math.imul(gt,Pt)|0,Le=Le+Math.imul(gt,Ot)|0,Ne=Ne+Math.imul(pt,Ct)|0,ve=ve+Math.imul(pt,Nt)|0,ve=ve+Math.imul(yt,Ct)|0,Le=Le+Math.imul(yt,Nt)|0,Ne=Ne+Math.imul(rt,Bt)|0,ve=ve+Math.imul(rt,Mt)|0,ve=ve+Math.imul(lt,Bt)|0,Le=Le+Math.imul(lt,Mt)|0,Ne=Ne+Math.imul(tt,kt)|0,ve=ve+Math.imul(tt,Lt)|0,ve=ve+Math.imul(Qe,kt)|0,Le=Le+Math.imul(Qe,Lt)|0,Ne=Ne+Math.imul(qe,Dt)|0,ve=ve+Math.imul(qe,Ut)|0,ve=ve+Math.imul(Xe,Dt)|0,Le=Le+Math.imul(Xe,Ut)|0,Ne=Ne+Math.imul(Te,jt)|0,ve=ve+Math.imul(Te,Zt)|0,ve=ve+Math.imul(Ye,jt)|0,Le=Le+Math.imul(Ye,Zt)|0;var _r=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(_r>>>26)|0,_r&=67108863,Ne=Math.imul(Et,St),ve=Math.imul(Et,It),ve=ve+Math.imul(At,St)|0,Le=Math.imul(At,It),Ne=Ne+Math.imul(wt,$t)|0,ve=ve+Math.imul(wt,Rt)|0,ve=ve+Math.imul(_t,$t)|0,Le=Le+Math.imul(_t,Rt)|0,Ne=Ne+Math.imul(bt,Pt)|0,ve=ve+Math.imul(bt,Ot)|0,ve=ve+Math.imul(vt,Pt)|0,Le=Le+Math.imul(vt,Ot)|0,Ne=Ne+Math.imul(mt,Ct)|0,ve=ve+Math.imul(mt,Nt)|0,ve=ve+Math.imul(gt,Ct)|0,Le=Le+Math.imul(gt,Nt)|0,Ne=Ne+Math.imul(pt,Bt)|0,ve=ve+Math.imul(pt,Mt)|0,ve=ve+Math.imul(yt,Bt)|0,Le=Le+Math.imul(yt,Mt)|0,Ne=Ne+Math.imul(rt,kt)|0,ve=ve+Math.imul(rt,Lt)|0,ve=ve+Math.imul(lt,kt)|0,Le=Le+Math.imul(lt,Lt)|0,Ne=Ne+Math.imul(tt,Dt)|0,ve=ve+Math.imul(tt,Ut)|0,ve=ve+Math.imul(Qe,Dt)|0,Le=Le+Math.imul(Qe,Ut)|0,Ne=Ne+Math.imul(qe,jt)|0,ve=ve+Math.imul(qe,Zt)|0,ve=ve+Math.imul(Xe,jt)|0,Le=Le+Math.imul(Xe,Zt)|0,Ne=Ne+Math.imul(Te,zt)|0,ve=ve+Math.imul(Te,Ht)|0,ve=ve+Math.imul(Ye,zt)|0,Le=Le+Math.imul(Ye,Ht)|0;var Er=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Er>>>26)|0,Er&=67108863,Ne=Math.imul(xt,St),ve=Math.imul(xt,It),ve=ve+Math.imul(Tt,St)|0,Le=Math.imul(Tt,It),Ne=Ne+Math.imul(Et,$t)|0,ve=ve+Math.imul(Et,Rt)|0,ve=ve+Math.imul(At,$t)|0,Le=Le+Math.imul(At,Rt)|0,Ne=Ne+Math.imul(wt,Pt)|0,ve=ve+Math.imul(wt,Ot)|0,ve=ve+Math.imul(_t,Pt)|0,Le=Le+Math.imul(_t,Ot)|0,Ne=Ne+Math.imul(bt,Ct)|0,ve=ve+Math.imul(bt,Nt)|0,ve=ve+Math.imul(vt,Ct)|0,Le=Le+Math.imul(vt,Nt)|0,Ne=Ne+Math.imul(mt,Bt)|0,ve=ve+Math.imul(mt,Mt)|0,ve=ve+Math.imul(gt,Bt)|0,Le=Le+Math.imul(gt,Mt)|0,Ne=Ne+Math.imul(pt,kt)|0,ve=ve+Math.imul(pt,Lt)|0,ve=ve+Math.imul(yt,kt)|0,Le=Le+Math.imul(yt,Lt)|0,Ne=Ne+Math.imul(rt,Dt)|0,ve=ve+Math.imul(rt,Ut)|0,ve=ve+Math.imul(lt,Dt)|0,Le=Le+Math.imul(lt,Ut)|0,Ne=Ne+Math.imul(tt,jt)|0,ve=ve+Math.imul(tt,Zt)|0,ve=ve+Math.imul(Qe,jt)|0,Le=Le+Math.imul(Qe,Zt)|0,Ne=Ne+Math.imul(qe,zt)|0,ve=ve+Math.imul(qe,Ht)|0,ve=ve+Math.imul(Xe,zt)|0,Le=Le+Math.imul(Xe,Ht)|0,Ne=Ne+Math.imul(Te,Wt)|0,ve=ve+Math.imul(Te,Vt)|0,ve=ve+Math.imul(Ye,Wt)|0,Le=Le+Math.imul(Ye,Vt)|0;var Ar=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,Ne=Math.imul(xt,$t),ve=Math.imul(xt,Rt),ve=ve+Math.imul(Tt,$t)|0,Le=Math.imul(Tt,Rt),Ne=Ne+Math.imul(Et,Pt)|0,ve=ve+Math.imul(Et,Ot)|0,ve=ve+Math.imul(At,Pt)|0,Le=Le+Math.imul(At,Ot)|0,Ne=Ne+Math.imul(wt,Ct)|0,ve=ve+Math.imul(wt,Nt)|0,ve=ve+Math.imul(_t,Ct)|0,Le=Le+Math.imul(_t,Nt)|0,Ne=Ne+Math.imul(bt,Bt)|0,ve=ve+Math.imul(bt,Mt)|0,ve=ve+Math.imul(vt,Bt)|0,Le=Le+Math.imul(vt,Mt)|0,Ne=Ne+Math.imul(mt,kt)|0,ve=ve+Math.imul(mt,Lt)|0,ve=ve+Math.imul(gt,kt)|0,Le=Le+Math.imul(gt,Lt)|0,Ne=Ne+Math.imul(pt,Dt)|0,ve=ve+Math.imul(pt,Ut)|0,ve=ve+Math.imul(yt,Dt)|0,Le=Le+Math.imul(yt,Ut)|0,Ne=Ne+Math.imul(rt,jt)|0,ve=ve+Math.imul(rt,Zt)|0,ve=ve+Math.imul(lt,jt)|0,Le=Le+Math.imul(lt,Zt)|0,Ne=Ne+Math.imul(tt,zt)|0,ve=ve+Math.imul(tt,Ht)|0,ve=ve+Math.imul(Qe,zt)|0,Le=Le+Math.imul(Qe,Ht)|0,Ne=Ne+Math.imul(qe,Wt)|0,ve=ve+Math.imul(qe,Vt)|0,ve=ve+Math.imul(Xe,Wt)|0,Le=Le+Math.imul(Xe,Vt)|0;var xr=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(xr>>>26)|0,xr&=67108863,Ne=Math.imul(xt,Pt),ve=Math.imul(xt,Ot),ve=ve+Math.imul(Tt,Pt)|0,Le=Math.imul(Tt,Ot),Ne=Ne+Math.imul(Et,Ct)|0,ve=ve+Math.imul(Et,Nt)|0,ve=ve+Math.imul(At,Ct)|0,Le=Le+Math.imul(At,Nt)|0,Ne=Ne+Math.imul(wt,Bt)|0,ve=ve+Math.imul(wt,Mt)|0,ve=ve+Math.imul(_t,Bt)|0,Le=Le+Math.imul(_t,Mt)|0,Ne=Ne+Math.imul(bt,kt)|0,ve=ve+Math.imul(bt,Lt)|0,ve=ve+Math.imul(vt,kt)|0,Le=Le+Math.imul(vt,Lt)|0,Ne=Ne+Math.imul(mt,Dt)|0,ve=ve+Math.imul(mt,Ut)|0,ve=ve+Math.imul(gt,Dt)|0,Le=Le+Math.imul(gt,Ut)|0,Ne=Ne+Math.imul(pt,jt)|0,ve=ve+Math.imul(pt,Zt)|0,ve=ve+Math.imul(yt,jt)|0,Le=Le+Math.imul(yt,Zt)|0,Ne=Ne+Math.imul(rt,zt)|0,ve=ve+Math.imul(rt,Ht)|0,ve=ve+Math.imul(lt,zt)|0,Le=Le+Math.imul(lt,Ht)|0,Ne=Ne+Math.imul(tt,Wt)|0,ve=ve+Math.imul(tt,Vt)|0,ve=ve+Math.imul(Qe,Wt)|0,Le=Le+Math.imul(Qe,Vt)|0;var Tr=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,Ne=Math.imul(xt,Ct),ve=Math.imul(xt,Nt),ve=ve+Math.imul(Tt,Ct)|0,Le=Math.imul(Tt,Nt),Ne=Ne+Math.imul(Et,Bt)|0,ve=ve+Math.imul(Et,Mt)|0,ve=ve+Math.imul(At,Bt)|0,Le=Le+Math.imul(At,Mt)|0,Ne=Ne+Math.imul(wt,kt)|0,ve=ve+Math.imul(wt,Lt)|0,ve=ve+Math.imul(_t,kt)|0,Le=Le+Math.imul(_t,Lt)|0,Ne=Ne+Math.imul(bt,Dt)|0,ve=ve+Math.imul(bt,Ut)|0,ve=ve+Math.imul(vt,Dt)|0,Le=Le+Math.imul(vt,Ut)|0,Ne=Ne+Math.imul(mt,jt)|0,ve=ve+Math.imul(mt,Zt)|0,ve=ve+Math.imul(gt,jt)|0,Le=Le+Math.imul(gt,Zt)|0,Ne=Ne+Math.imul(pt,zt)|0,ve=ve+Math.imul(pt,Ht)|0,ve=ve+Math.imul(yt,zt)|0,Le=Le+Math.imul(yt,Ht)|0,Ne=Ne+Math.imul(rt,Wt)|0,ve=ve+Math.imul(rt,Vt)|0,ve=ve+Math.imul(lt,Wt)|0,Le=Le+Math.imul(lt,Vt)|0;var Sr=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,Ne=Math.imul(xt,Bt),ve=Math.imul(xt,Mt),ve=ve+Math.imul(Tt,Bt)|0,Le=Math.imul(Tt,Mt),Ne=Ne+Math.imul(Et,kt)|0,ve=ve+Math.imul(Et,Lt)|0,ve=ve+Math.imul(At,kt)|0,Le=Le+Math.imul(At,Lt)|0,Ne=Ne+Math.imul(wt,Dt)|0,ve=ve+Math.imul(wt,Ut)|0,ve=ve+Math.imul(_t,Dt)|0,Le=Le+Math.imul(_t,Ut)|0,Ne=Ne+Math.imul(bt,jt)|0,ve=ve+Math.imul(bt,Zt)|0,ve=ve+Math.imul(vt,jt)|0,Le=Le+Math.imul(vt,Zt)|0,Ne=Ne+Math.imul(mt,zt)|0,ve=ve+Math.imul(mt,Ht)|0,ve=ve+Math.imul(gt,zt)|0,Le=Le+Math.imul(gt,Ht)|0,Ne=Ne+Math.imul(pt,Wt)|0,ve=ve+Math.imul(pt,Vt)|0,ve=ve+Math.imul(yt,Wt)|0,Le=Le+Math.imul(yt,Vt)|0;var Ir=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,Ne=Math.imul(xt,kt),ve=Math.imul(xt,Lt),ve=ve+Math.imul(Tt,kt)|0,Le=Math.imul(Tt,Lt),Ne=Ne+Math.imul(Et,Dt)|0,ve=ve+Math.imul(Et,Ut)|0,ve=ve+Math.imul(At,Dt)|0,Le=Le+Math.imul(At,Ut)|0,Ne=Ne+Math.imul(wt,jt)|0,ve=ve+Math.imul(wt,Zt)|0,ve=ve+Math.imul(_t,jt)|0,Le=Le+Math.imul(_t,Zt)|0,Ne=Ne+Math.imul(bt,zt)|0,ve=ve+Math.imul(bt,Ht)|0,ve=ve+Math.imul(vt,zt)|0,Le=Le+Math.imul(vt,Ht)|0,Ne=Ne+Math.imul(mt,Wt)|0,ve=ve+Math.imul(mt,Vt)|0,ve=ve+Math.imul(gt,Wt)|0,Le=Le+Math.imul(gt,Vt)|0;var $r=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+($r>>>26)|0,$r&=67108863,Ne=Math.imul(xt,Dt),ve=Math.imul(xt,Ut),ve=ve+Math.imul(Tt,Dt)|0,Le=Math.imul(Tt,Ut),Ne=Ne+Math.imul(Et,jt)|0,ve=ve+Math.imul(Et,Zt)|0,ve=ve+Math.imul(At,jt)|0,Le=Le+Math.imul(At,Zt)|0,Ne=Ne+Math.imul(wt,zt)|0,ve=ve+Math.imul(wt,Ht)|0,ve=ve+Math.imul(_t,zt)|0,Le=Le+Math.imul(_t,Ht)|0,Ne=Ne+Math.imul(bt,Wt)|0,ve=ve+Math.imul(bt,Vt)|0,ve=ve+Math.imul(vt,Wt)|0,Le=Le+Math.imul(vt,Vt)|0;var Rr=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,Ne=Math.imul(xt,jt),ve=Math.imul(xt,Zt),ve=ve+Math.imul(Tt,jt)|0,Le=Math.imul(Tt,Zt),Ne=Ne+Math.imul(Et,zt)|0,ve=ve+Math.imul(Et,Ht)|0,ve=ve+Math.imul(At,zt)|0,Le=Le+Math.imul(At,Ht)|0,Ne=Ne+Math.imul(wt,Wt)|0,ve=ve+Math.imul(wt,Vt)|0,ve=ve+Math.imul(_t,Wt)|0,Le=Le+Math.imul(_t,Vt)|0;var Pr=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,Ne=Math.imul(xt,zt),ve=Math.imul(xt,Ht),ve=ve+Math.imul(Tt,zt)|0,Le=Math.imul(Tt,Ht),Ne=Ne+Math.imul(Et,Wt)|0,ve=ve+Math.imul(Et,Vt)|0,ve=ve+Math.imul(At,Wt)|0,Le=Le+Math.imul(At,Vt)|0;var Or=(We+Ne|0)+((ve&8191)<<13)|0;We=(Le+(ve>>>13)|0)+(Or>>>26)|0,Or&=67108863,Ne=Math.imul(xt,Wt),ve=Math.imul(xt,Vt),ve=ve+Math.imul(Tt,Wt)|0,Le=Math.imul(Tt,Vt);var Nr=(We+Ne|0)+((ve&8191)<<13)|0;return We=(Le+(ve>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,Ze[0]=Gt,Ze[1]=Kt,Ze[2]=Xt,Ze[3]=Jt,Ze[4]=er,Ze[5]=vr,Ze[6]=wr,Ze[7]=_r,Ze[8]=Er,Ze[9]=Ar,Ze[10]=xr,Ze[11]=Tr,Ze[12]=Sr,Ze[13]=Ir,Ze[14]=$r,Ze[15]=Rr,Ze[16]=Pr,Ze[17]=Or,Ze[18]=Nr,We!==0&&(Ze[19]=We,$e.length++),$e};Math.imul||(Ce=Pe);function Be(Fe,pe,we){we.negative=pe.negative^Fe.negative,we.length=Fe.length+pe.length;for(var $e=0,Oe=0,Me=0;Me<we.length-1;Me++){var Ze=Oe;Oe=0;for(var We=$e&67108863,Ne=Math.min(Me,pe.length-1),ve=Math.max(0,Me-Fe.length+1);ve<=Ne;ve++){var Le=Me-ve,it=Fe.words[Le]|0,Te=pe.words[ve]|0,Ye=it*Te,Ue=Ye&67108863;Ze=Ze+(Ye/67108864|0)|0,Ue=Ue+We|0,We=Ue&67108863,Ze=Ze+(Ue>>>26)|0,Oe+=Ze>>>26,Ze&=67108863}we.words[Me]=We,$e=Ze,Ze=Oe}return $e!==0?we.words[Me]=$e:we.length--,we._strip()}function Ve(Fe,pe,we){return Be(Fe,pe,we)}oe.prototype.mulTo=function(pe,we){var $e,Oe=this.length+pe.length;return this.length===10&&pe.length===10?$e=Ce(this,pe,we):Oe<63?$e=Pe(this,pe,we):Oe<1024?$e=Be(this,pe,we):$e=Ve(this,pe,we),$e},oe.prototype.mul=function(pe){var we=new oe(null);return we.words=new Array(this.length+pe.length),this.mulTo(pe,we)},oe.prototype.mulf=function(pe){var we=new oe(null);return we.words=new Array(this.length+pe.length),Ve(this,pe,we)},oe.prototype.imul=function(pe){return this.clone().mulTo(pe,this)},oe.prototype.imuln=function(pe){var we=pe<0;we&&(pe=-pe),te(typeof pe=="number"),te(pe<67108864);for(var $e=0,Oe=0;Oe<this.length;Oe++){var Me=(this.words[Oe]|0)*pe,Ze=(Me&67108863)+($e&67108863);$e>>=26,$e+=Me/67108864|0,$e+=Ze>>>26,this.words[Oe]=Ze&67108863}return $e!==0&&(this.words[Oe]=$e,this.length++),we?this.ineg():this},oe.prototype.muln=function(pe){return this.clone().imuln(pe)},oe.prototype.sqr=function(){return this.mul(this)},oe.prototype.isqr=function(){return this.imul(this.clone())},oe.prototype.pow=function(pe){var we=Ie(pe);if(we.length===0)return new oe(1);for(var $e=this,Oe=0;Oe<we.length&&we[Oe]===0;Oe++,$e=$e.sqr());if(++Oe<we.length)for(var Me=$e.sqr();Oe<we.length;Oe++,Me=Me.sqr())we[Oe]!==0&&($e=$e.mul(Me));return $e},oe.prototype.iushln=function(pe){te(typeof pe=="number"&&pe>=0);var we=pe%26,$e=(pe-we)/26,Oe=67108863>>>26-we<<26-we,Me;if(we!==0){var Ze=0;for(Me=0;Me<this.length;Me++){var We=this.words[Me]&Oe,Ne=(this.words[Me]|0)-We<<we;this.words[Me]=Ne|Ze,Ze=We>>>26-we}Ze&&(this.words[Me]=Ze,this.length++)}if($e!==0){for(Me=this.length-1;Me>=0;Me--)this.words[Me+$e]=this.words[Me];for(Me=0;Me<$e;Me++)this.words[Me]=0;this.length+=$e}return this._strip()},oe.prototype.ishln=function(pe){return te(this.negative===0),this.iushln(pe)},oe.prototype.iushrn=function(pe,we,$e){te(typeof pe=="number"&&pe>=0);var Oe;we?Oe=(we-we%26)/26:Oe=0;var Me=pe%26,Ze=Math.min((pe-Me)/26,this.length),We=67108863^67108863>>>Me<<Me,Ne=$e;if(Oe-=Ze,Oe=Math.max(0,Oe),Ne){for(var ve=0;ve<Ze;ve++)Ne.words[ve]=this.words[ve];Ne.length=Ze}if(Ze!==0)if(this.length>Ze)for(this.length-=Ze,ve=0;ve<this.length;ve++)this.words[ve]=this.words[ve+Ze];else this.words[0]=0,this.length=1;var Le=0;for(ve=this.length-1;ve>=0&&(Le!==0||ve>=Oe);ve--){var it=this.words[ve]|0;this.words[ve]=Le<<26-Me|it>>>Me,Le=it&We}return Ne&&Le!==0&&(Ne.words[Ne.length++]=Le),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},oe.prototype.ishrn=function(pe,we,$e){return te(this.negative===0),this.iushrn(pe,we,$e)},oe.prototype.shln=function(pe){return this.clone().ishln(pe)},oe.prototype.ushln=function(pe){return this.clone().iushln(pe)},oe.prototype.shrn=function(pe){return this.clone().ishrn(pe)},oe.prototype.ushrn=function(pe){return this.clone().iushrn(pe)},oe.prototype.testn=function(pe){te(typeof pe=="number"&&pe>=0);var we=pe%26,$e=(pe-we)/26,Oe=1<<we;if(this.length<=$e)return!1;var Me=this.words[$e];return!!(Me&Oe)},oe.prototype.imaskn=function(pe){te(typeof pe=="number"&&pe>=0);var we=pe%26,$e=(pe-we)/26;if(te(this.negative===0,"imaskn works only with positive numbers"),this.length<=$e)return this;if(we!==0&&$e++,this.length=Math.min($e,this.length),we!==0){var Oe=67108863^67108863>>>we<<we;this.words[this.length-1]&=Oe}return this._strip()},oe.prototype.maskn=function(pe){return this.clone().imaskn(pe)},oe.prototype.iaddn=function(pe){return te(typeof pe=="number"),te(pe<67108864),pe<0?this.isubn(-pe):this.negative!==0?this.length===1&&(this.words[0]|0)<=pe?(this.words[0]=pe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(pe),this.negative=1,this):this._iaddn(pe)},oe.prototype._iaddn=function(pe){this.words[0]+=pe;for(var we=0;we<this.length&&this.words[we]>=67108864;we++)this.words[we]-=67108864,we===this.length-1?this.words[we+1]=1:this.words[we+1]++;return this.length=Math.max(this.length,we+1),this},oe.prototype.isubn=function(pe){if(te(typeof pe=="number"),te(pe<67108864),pe<0)return this.iaddn(-pe);if(this.negative!==0)return this.negative=0,this.iaddn(pe),this.negative=1,this;if(this.words[0]-=pe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var we=0;we<this.length&&this.words[we]<0;we++)this.words[we]+=67108864,this.words[we+1]-=1;return this._strip()},oe.prototype.addn=function(pe){return this.clone().iaddn(pe)},oe.prototype.subn=function(pe){return this.clone().isubn(pe)},oe.prototype.iabs=function(){return this.negative=0,this},oe.prototype.abs=function(){return this.clone().iabs()},oe.prototype._ishlnsubmul=function(pe,we,$e){var Oe=pe.length+$e,Me;this._expand(Oe);var Ze,We=0;for(Me=0;Me<pe.length;Me++){Ze=(this.words[Me+$e]|0)+We;var Ne=(pe.words[Me]|0)*we;Ze-=Ne&67108863,We=(Ze>>26)-(Ne/67108864|0),this.words[Me+$e]=Ze&67108863}for(;Me<this.length-$e;Me++)Ze=(this.words[Me+$e]|0)+We,We=Ze>>26,this.words[Me+$e]=Ze&67108863;if(We===0)return this._strip();for(te(We===-1),We=0,Me=0;Me<this.length;Me++)Ze=-(this.words[Me]|0)+We,We=Ze>>26,this.words[Me]=Ze&67108863;return this.negative=1,this._strip()},oe.prototype._wordDiv=function(pe,we){var $e=this.length-pe.length,Oe=this.clone(),Me=pe,Ze=Me.words[Me.length-1]|0,We=this._countBits(Ze);$e=26-We,$e!==0&&(Me=Me.ushln($e),Oe.iushln($e),Ze=Me.words[Me.length-1]|0);var Ne=Oe.length-Me.length,ve;if(we!=="mod"){ve=new oe(null),ve.length=Ne+1,ve.words=new Array(ve.length);for(var Le=0;Le<ve.length;Le++)ve.words[Le]=0}var it=Oe.clone()._ishlnsubmul(Me,1,Ne);it.negative===0&&(Oe=it,ve&&(ve.words[Ne]=1));for(var Te=Ne-1;Te>=0;Te--){var Ye=(Oe.words[Me.length+Te]|0)*67108864+(Oe.words[Me.length+Te-1]|0);for(Ye=Math.min(Ye/Ze|0,67108863),Oe._ishlnsubmul(Me,Ye,Te);Oe.negative!==0;)Ye--,Oe.negative=0,Oe._ishlnsubmul(Me,1,Te),Oe.isZero()||(Oe.negative^=1);ve&&(ve.words[Te]=Ye)}return ve&&ve._strip(),Oe._strip(),we!=="div"&&$e!==0&&Oe.iushrn($e),{div:ve||null,mod:Oe}},oe.prototype.divmod=function(pe,we,$e){if(te(!pe.isZero()),this.isZero())return{div:new oe(0),mod:new oe(0)};var Oe,Me,Ze;return this.negative!==0&&pe.negative===0?(Ze=this.neg().divmod(pe,we),we!=="mod"&&(Oe=Ze.div.neg()),we!=="div"&&(Me=Ze.mod.neg(),$e&&Me.negative!==0&&Me.iadd(pe)),{div:Oe,mod:Me}):this.negative===0&&pe.negative!==0?(Ze=this.divmod(pe.neg(),we),we!=="mod"&&(Oe=Ze.div.neg()),{div:Oe,mod:Ze.mod}):this.negative&pe.negative?(Ze=this.neg().divmod(pe.neg(),we),we!=="div"&&(Me=Ze.mod.neg(),$e&&Me.negative!==0&&Me.isub(pe)),{div:Ze.div,mod:Me}):pe.length>this.length||this.cmp(pe)<0?{div:new oe(0),mod:this}:pe.length===1?we==="div"?{div:this.divn(pe.words[0]),mod:null}:we==="mod"?{div:null,mod:new oe(this.modrn(pe.words[0]))}:{div:this.divn(pe.words[0]),mod:new oe(this.modrn(pe.words[0]))}:this._wordDiv(pe,we)},oe.prototype.div=function(pe){return this.divmod(pe,"div",!1).div},oe.prototype.mod=function(pe){return this.divmod(pe,"mod",!1).mod},oe.prototype.umod=function(pe){return this.divmod(pe,"mod",!0).mod},oe.prototype.divRound=function(pe){var we=this.divmod(pe);if(we.mod.isZero())return we.div;var $e=we.div.negative!==0?we.mod.isub(pe):we.mod,Oe=pe.ushrn(1),Me=pe.andln(1),Ze=$e.cmp(Oe);return Ze<0||Me===1&&Ze===0?we.div:we.div.negative!==0?we.div.isubn(1):we.div.iaddn(1)},oe.prototype.modrn=function(pe){var we=pe<0;we&&(pe=-pe),te(pe<=67108863);for(var $e=(1<<26)%pe,Oe=0,Me=this.length-1;Me>=0;Me--)Oe=($e*Oe+(this.words[Me]|0))%pe;return we?-Oe:Oe},oe.prototype.modn=function(pe){return this.modrn(pe)},oe.prototype.idivn=function(pe){var we=pe<0;we&&(pe=-pe),te(pe<=67108863);for(var $e=0,Oe=this.length-1;Oe>=0;Oe--){var Me=(this.words[Oe]|0)+$e*67108864;this.words[Oe]=Me/pe|0,$e=Me%pe}return this._strip(),we?this.ineg():this},oe.prototype.divn=function(pe){return this.clone().idivn(pe)},oe.prototype.egcd=function(pe){te(pe.negative===0),te(!pe.isZero());var we=this,$e=pe.clone();we.negative!==0?we=we.umod(pe):we=we.clone();for(var Oe=new oe(1),Me=new oe(0),Ze=new oe(0),We=new oe(1),Ne=0;we.isEven()&&$e.isEven();)we.iushrn(1),$e.iushrn(1),++Ne;for(var ve=$e.clone(),Le=we.clone();!we.isZero();){for(var it=0,Te=1;!(we.words[0]&Te)&&it<26;++it,Te<<=1);if(it>0)for(we.iushrn(it);it-- >0;)(Oe.isOdd()||Me.isOdd())&&(Oe.iadd(ve),Me.isub(Le)),Oe.iushrn(1),Me.iushrn(1);for(var Ye=0,Ue=1;!($e.words[0]&Ue)&&Ye<26;++Ye,Ue<<=1);if(Ye>0)for($e.iushrn(Ye);Ye-- >0;)(Ze.isOdd()||We.isOdd())&&(Ze.iadd(ve),We.isub(Le)),Ze.iushrn(1),We.iushrn(1);we.cmp($e)>=0?(we.isub($e),Oe.isub(Ze),Me.isub(We)):($e.isub(we),Ze.isub(Oe),We.isub(Me))}return{a:Ze,b:We,gcd:$e.iushln(Ne)}},oe.prototype._invmp=function(pe){te(pe.negative===0),te(!pe.isZero());var we=this,$e=pe.clone();we.negative!==0?we=we.umod(pe):we=we.clone();for(var Oe=new oe(1),Me=new oe(0),Ze=$e.clone();we.cmpn(1)>0&&$e.cmpn(1)>0;){for(var We=0,Ne=1;!(we.words[0]&Ne)&&We<26;++We,Ne<<=1);if(We>0)for(we.iushrn(We);We-- >0;)Oe.isOdd()&&Oe.iadd(Ze),Oe.iushrn(1);for(var ve=0,Le=1;!($e.words[0]&Le)&&ve<26;++ve,Le<<=1);if(ve>0)for($e.iushrn(ve);ve-- >0;)Me.isOdd()&&Me.iadd(Ze),Me.iushrn(1);we.cmp($e)>=0?(we.isub($e),Oe.isub(Me)):($e.isub(we),Me.isub(Oe))}var it;return we.cmpn(1)===0?it=Oe:it=Me,it.cmpn(0)<0&&it.iadd(pe),it},oe.prototype.gcd=function(pe){if(this.isZero())return pe.abs();if(pe.isZero())return this.abs();var we=this.clone(),$e=pe.clone();we.negative=0,$e.negative=0;for(var Oe=0;we.isEven()&&$e.isEven();Oe++)we.iushrn(1),$e.iushrn(1);do{for(;we.isEven();)we.iushrn(1);for(;$e.isEven();)$e.iushrn(1);var Me=we.cmp($e);if(Me<0){var Ze=we;we=$e,$e=Ze}else if(Me===0||$e.cmpn(1)===0)break;we.isub($e)}while(!0);return $e.iushln(Oe)},oe.prototype.invm=function(pe){return this.egcd(pe).a.umod(pe)},oe.prototype.isEven=function(){return(this.words[0]&1)===0},oe.prototype.isOdd=function(){return(this.words[0]&1)===1},oe.prototype.andln=function(pe){return this.words[0]&pe},oe.prototype.bincn=function(pe){te(typeof pe=="number");var we=pe%26,$e=(pe-we)/26,Oe=1<<we;if(this.length<=$e)return this._expand($e+1),this.words[$e]|=Oe,this;for(var Me=Oe,Ze=$e;Me!==0&&Ze<this.length;Ze++){var We=this.words[Ze]|0;We+=Me,Me=We>>>26,We&=67108863,this.words[Ze]=We}return Me!==0&&(this.words[Ze]=Me,this.length++),this},oe.prototype.isZero=function(){return this.length===1&&this.words[0]===0},oe.prototype.cmpn=function(pe){var we=pe<0;if(this.negative!==0&&!we)return-1;if(this.negative===0&&we)return 1;this._strip();var $e;if(this.length>1)$e=1;else{we&&(pe=-pe),te(pe<=67108863,"Number is too big");var Oe=this.words[0]|0;$e=Oe===pe?0:Oe<pe?-1:1}return this.negative!==0?-$e|0:$e},oe.prototype.cmp=function(pe){if(this.negative!==0&&pe.negative===0)return-1;if(this.negative===0&&pe.negative!==0)return 1;var we=this.ucmp(pe);return this.negative!==0?-we|0:we},oe.prototype.ucmp=function(pe){if(this.length>pe.length)return 1;if(this.length<pe.length)return-1;for(var we=0,$e=this.length-1;$e>=0;$e--){var Oe=this.words[$e]|0,Me=pe.words[$e]|0;if(Oe!==Me){Oe<Me?we=-1:Oe>Me&&(we=1);break}}return we},oe.prototype.gtn=function(pe){return this.cmpn(pe)===1},oe.prototype.gt=function(pe){return this.cmp(pe)===1},oe.prototype.gten=function(pe){return this.cmpn(pe)>=0},oe.prototype.gte=function(pe){return this.cmp(pe)>=0},oe.prototype.ltn=function(pe){return this.cmpn(pe)===-1},oe.prototype.lt=function(pe){return this.cmp(pe)===-1},oe.prototype.lten=function(pe){return this.cmpn(pe)<=0},oe.prototype.lte=function(pe){return this.cmp(pe)<=0},oe.prototype.eqn=function(pe){return this.cmpn(pe)===0},oe.prototype.eq=function(pe){return this.cmp(pe)===0},oe.red=function(pe){return new st(pe)},oe.prototype.toRed=function(pe){return te(!this.red,"Already a number in reduction context"),te(this.negative===0,"red works only with positives"),pe.convertTo(this)._forceRed(pe)},oe.prototype.fromRed=function(){return te(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},oe.prototype._forceRed=function(pe){return this.red=pe,this},oe.prototype.forceRed=function(pe){return te(!this.red,"Already a number in reduction context"),this._forceRed(pe)},oe.prototype.redAdd=function(pe){return te(this.red,"redAdd works only with red numbers"),this.red.add(this,pe)},oe.prototype.redIAdd=function(pe){return te(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,pe)},oe.prototype.redSub=function(pe){return te(this.red,"redSub works only with red numbers"),this.red.sub(this,pe)},oe.prototype.redISub=function(pe){return te(this.red,"redISub works only with red numbers"),this.red.isub(this,pe)},oe.prototype.redShl=function(pe){return te(this.red,"redShl works only with red numbers"),this.red.shl(this,pe)},oe.prototype.redMul=function(pe){return te(this.red,"redMul works only with red numbers"),this.red._verify2(this,pe),this.red.mul(this,pe)},oe.prototype.redIMul=function(pe){return te(this.red,"redMul works only with red numbers"),this.red._verify2(this,pe),this.red.imul(this,pe)},oe.prototype.redSqr=function(){return te(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},oe.prototype.redISqr=function(){return te(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},oe.prototype.redSqrt=function(){return te(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},oe.prototype.redInvm=function(){return te(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},oe.prototype.redNeg=function(){return te(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},oe.prototype.redPow=function(pe){return te(this.red&&!pe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,pe)};var Ge={k256:null,p224:null,p192:null,p25519:null};function Ke(Fe,pe){this.name=Fe,this.p=new oe(pe,16),this.n=this.p.bitLength(),this.k=new oe(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ke.prototype._tmp=function(){var pe=new oe(null);return pe.words=new Array(Math.ceil(this.n/13)),pe},Ke.prototype.ireduce=function(pe){var we=pe,$e;do this.split(we,this.tmp),we=this.imulK(we),we=we.iadd(this.tmp),$e=we.bitLength();while($e>this.n);var Oe=$e<this.n?-1:we.ucmp(this.p);return Oe===0?(we.words[0]=0,we.length=1):Oe>0?we.isub(this.p):we.strip!==void 0?we.strip():we._strip(),we},Ke.prototype.split=function(pe,we){pe.iushrn(this.n,0,we)},Ke.prototype.imulK=function(pe){return pe.imul(this.k)};function Je(){Ke.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ie(Je,Ke),Je.prototype.split=function(pe,we){for(var $e=4194303,Oe=Math.min(pe.length,9),Me=0;Me<Oe;Me++)we.words[Me]=pe.words[Me];if(we.length=Oe,pe.length<=9){pe.words[0]=0,pe.length=1;return}var Ze=pe.words[9];for(we.words[we.length++]=Ze&$e,Me=10;Me<pe.length;Me++){var We=pe.words[Me]|0;pe.words[Me-10]=(We&$e)<<4|Ze>>>22,Ze=We}Ze>>>=22,pe.words[Me-10]=Ze,Ze===0&&pe.length>10?pe.length-=10:pe.length-=9},Je.prototype.imulK=function(pe){pe.words[pe.length]=0,pe.words[pe.length+1]=0,pe.length+=2;for(var we=0,$e=0;$e<pe.length;$e++){var Oe=pe.words[$e]|0;we+=Oe*977,pe.words[$e]=we&67108863,we=Oe*64+(we/67108864|0)}return pe.words[pe.length-1]===0&&(pe.length--,pe.words[pe.length-1]===0&&pe.length--),pe};function et(){Ke.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ie(et,Ke);function at(){Ke.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ie(at,Ke);function dt(){Ke.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ie(dt,Ke),dt.prototype.imulK=function(pe){for(var we=0,$e=0;$e<pe.length;$e++){var Oe=(pe.words[$e]|0)*19+we,Me=Oe&67108863;Oe>>>=26,pe.words[$e]=Me,we=Oe}return we!==0&&(pe.words[pe.length++]=we),pe},oe._prime=function(pe){if(Ge[pe])return Ge[pe];var we;if(pe==="k256")we=new Je;else if(pe==="p224")we=new et;else if(pe==="p192")we=new at;else if(pe==="p25519")we=new dt;else throw new Error("Unknown prime "+pe);return Ge[pe]=we,we};function st(Fe){if(typeof Fe=="string"){var pe=oe._prime(Fe);this.m=pe.p,this.prime=pe}else te(Fe.gtn(1),"modulus must be greater than 1"),this.m=Fe,this.prime=null}st.prototype._verify1=function(pe){te(pe.negative===0,"red works only with positives"),te(pe.red,"red works only with red numbers")},st.prototype._verify2=function(pe,we){te((pe.negative|we.negative)===0,"red works only with positives"),te(pe.red&&pe.red===we.red,"red works only with red numbers")},st.prototype.imod=function(pe){return this.prime?this.prime.ireduce(pe)._forceRed(this):(de(pe,pe.umod(this.m)._forceRed(this)),pe)},st.prototype.neg=function(pe){return pe.isZero()?pe.clone():this.m.sub(pe)._forceRed(this)},st.prototype.add=function(pe,we){this._verify2(pe,we);var $e=pe.add(we);return $e.cmp(this.m)>=0&&$e.isub(this.m),$e._forceRed(this)},st.prototype.iadd=function(pe,we){this._verify2(pe,we);var $e=pe.iadd(we);return $e.cmp(this.m)>=0&&$e.isub(this.m),$e},st.prototype.sub=function(pe,we){this._verify2(pe,we);var $e=pe.sub(we);return $e.cmpn(0)<0&&$e.iadd(this.m),$e._forceRed(this)},st.prototype.isub=function(pe,we){this._verify2(pe,we);var $e=pe.isub(we);return $e.cmpn(0)<0&&$e.iadd(this.m),$e},st.prototype.shl=function(pe,we){return this._verify1(pe),this.imod(pe.ushln(we))},st.prototype.imul=function(pe,we){return this._verify2(pe,we),this.imod(pe.imul(we))},st.prototype.mul=function(pe,we){return this._verify2(pe,we),this.imod(pe.mul(we))},st.prototype.isqr=function(pe){return this.imul(pe,pe.clone())},st.prototype.sqr=function(pe){return this.mul(pe,pe)},st.prototype.sqrt=function(pe){if(pe.isZero())return pe.clone();var we=this.m.andln(3);if(te(we%2===1),we===3){var $e=this.m.add(new oe(1)).iushrn(2);return this.pow(pe,$e)}for(var Oe=this.m.subn(1),Me=0;!Oe.isZero()&&Oe.andln(1)===0;)Me++,Oe.iushrn(1);te(!Oe.isZero());var Ze=new oe(1).toRed(this),We=Ze.redNeg(),Ne=this.m.subn(1).iushrn(1),ve=this.m.bitLength();for(ve=new oe(2*ve*ve).toRed(this);this.pow(ve,Ne).cmp(We)!==0;)ve.redIAdd(We);for(var Le=this.pow(ve,Oe),it=this.pow(pe,Oe.addn(1).iushrn(1)),Te=this.pow(pe,Oe),Ye=Me;Te.cmp(Ze)!==0;){for(var Ue=Te,qe=0;Ue.cmp(Ze)!==0;qe++)Ue=Ue.redSqr();te(qe<Ye);var Xe=this.pow(Le,new oe(1).iushln(Ye-qe-1));it=it.redMul(Xe),Le=Xe.redSqr(),Te=Te.redMul(Le),Ye=qe}return it},st.prototype.invm=function(pe){var we=pe._invmp(this.m);return we.negative!==0?(we.negative=0,this.imod(we).redNeg()):this.imod(we)},st.prototype.pow=function(pe,we){if(we.isZero())return new oe(1).toRed(this);if(we.cmpn(1)===0)return pe.clone();var $e=4,Oe=new Array(1<<$e);Oe[0]=new oe(1).toRed(this),Oe[1]=pe;for(var Me=2;Me<Oe.length;Me++)Oe[Me]=this.mul(Oe[Me-1],pe);var Ze=Oe[0],We=0,Ne=0,ve=we.bitLength()%26;for(ve===0&&(ve=26),Me=we.length-1;Me>=0;Me--){for(var Le=we.words[Me],it=ve-1;it>=0;it--){var Te=Le>>it&1;if(Ze!==Oe[0]&&(Ze=this.sqr(Ze)),Te===0&&We===0){Ne=0;continue}We<<=1,We|=Te,Ne++,!(Ne!==$e&&(Me!==0||it!==0))&&(Ze=this.mul(Ze,Oe[We]),Ne=0,We=0)}ve=26}return Ze},st.prototype.convertTo=function(pe){var we=pe.umod(this.m);return we===pe?we.clone():we},st.prototype.convertFrom=function(pe){var we=pe.clone();return we.red=null,we},oe.mont=function(pe){return new ht(pe)};function ht(Fe){st.call(this,Fe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new oe(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ie(ht,st),ht.prototype.convertTo=function(pe){return this.imod(pe.ushln(this.shift))},ht.prototype.convertFrom=function(pe){var we=this.imod(pe.mul(this.rinv));return we.red=null,we},ht.prototype.imul=function(pe,we){if(pe.isZero()||we.isZero())return pe.words[0]=0,pe.length=1,pe;var $e=pe.imul(we),Oe=$e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Me=$e.isub(Oe).iushrn(this.shift),Ze=Me;return Me.cmp(this.m)>=0?Ze=Me.isub(this.m):Me.cmpn(0)<0&&(Ze=Me.iadd(this.m)),Ze._forceRed(this)},ht.prototype.mul=function(pe,we){if(pe.isZero()||we.isZero())return new oe(0)._forceRed(this);var $e=pe.mul(we),Oe=$e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Me=$e.isub(Oe).iushrn(this.shift),Ze=Me;return Me.cmp(this.m)>=0?Ze=Me.isub(this.m):Me.cmpn(0)<0&&(Ze=Me.iadd(this.m)),Ze._forceRed(this)},ht.prototype.invm=function(pe){var we=this.imod(pe._invmp(this.m).mul(this.r2));return we._forceRed(this)}})(L,commonjsGlobal)})(bn);const BN$1=bnExports,version$d="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const L=[];if(["NFD","NFC","NFKD","NFKC"].forEach(Z=>{try{if("test".normalize(Z)!=="test")throw new Error("bad normalize")}catch{L.push(Z)}}),L.length)throw new Error("missing "+L.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(L){return L.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(L){L.DEBUG="DEBUG",L.INFO="INFO",L.WARNING="WARNING",L.ERROR="ERROR",L.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(L){L.UNKNOWN_ERROR="UNKNOWN_ERROR",L.NOT_IMPLEMENTED="NOT_IMPLEMENTED",L.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",L.NETWORK_ERROR="NETWORK_ERROR",L.SERVER_ERROR="SERVER_ERROR",L.TIMEOUT="TIMEOUT",L.BUFFER_OVERRUN="BUFFER_OVERRUN",L.NUMERIC_FAULT="NUMERIC_FAULT",L.MISSING_NEW="MISSING_NEW",L.INVALID_ARGUMENT="INVALID_ARGUMENT",L.MISSING_ARGUMENT="MISSING_ARGUMENT",L.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",L.CALL_EXCEPTION="CALL_EXCEPTION",L.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",L.NONCE_EXPIRED="NONCE_EXPIRED",L.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",L.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",L.TRANSACTION_REPLACED="TRANSACTION_REPLACED",L.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(Z){Object.defineProperty(this,"version",{enumerable:!0,value:Z,writable:!1})}_log(Z,X){const te=Z.toLowerCase();LogLevels[te]==null&&this.throwArgumentError("invalid log level name","logLevel",Z),!(_logLevel>LogLevels[te])&&console.log.apply(console,X)}debug(...Z){this._log(Logger.levels.DEBUG,Z)}info(...Z){this._log(Logger.levels.INFO,Z)}warn(...Z){this._log(Logger.levels.WARNING,Z)}makeError(Z,X,te){if(_censorErrors)return this.makeError("censored error",X,{});X||(X=Logger.errors.UNKNOWN_ERROR),te||(te={});const ie=[];Object.keys(te).forEach(ce=>{const le=te[ce];try{if(le instanceof Uint8Array){let de="";for(let he=0;he<le.length;he++)de+=HEX[le[he]>>4],de+=HEX[le[he]&15];ie.push(ce+"=Uint8Array(0x"+de+")")}else ie.push(ce+"="+JSON.stringify(le))}catch{ie.push(ce+"="+JSON.stringify(te[ce].toString()))}}),ie.push(`code=${X}`),ie.push(`version=${this.version}`);const oe=Z;let se="";switch(X){case ErrorCode.NUMERIC_FAULT:{se="NUMERIC_FAULT";const ce=Z;switch(ce){case"overflow":case"underflow":case"division-by-zero":se+="-"+ce;break;case"negative-power":case"negative-width":se+="-unsupported";break;case"unbound-bitwise-result":se+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:se=X;break}se&&(Z+=" [ See: https://links.ethers.org/v5-errors-"+se+" ]"),ie.length&&(Z+=" ("+ie.join(", ")+")");const ue=new Error(Z);return ue.reason=oe,ue.code=X,Object.keys(te).forEach(function(ce){ue[ce]=te[ce]}),ue}throwError(Z,X,te){throw this.makeError(Z,X,te)}throwArgumentError(Z,X,te){return this.throwError(Z,Logger.errors.INVALID_ARGUMENT,{argument:X,value:te})}assert(Z,X,te,ie){Z||this.throwError(X,te,ie)}assertArgument(Z,X,te,ie){Z||this.throwArgumentError(X,te,ie)}checkNormalize(Z){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(Z,X){typeof Z=="number"&&(X==null&&(X="value not safe"),(Z<0||Z>=9007199254740991)&&this.throwError(X,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:Z}),Z%1&&this.throwError(X,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:Z}))}checkArgumentCount(Z,X,te){te?te=": "+te:te="",Z<X&&this.throwError("missing argument"+te,Logger.errors.MISSING_ARGUMENT,{count:Z,expectedCount:X}),Z>X&&this.throwError("too many arguments"+te,Logger.errors.UNEXPECTED_ARGUMENT,{count:Z,expectedCount:X})}checkNew(Z,X){(Z===Object||Z==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:X.name})}checkAbstract(Z,X){Z===X?this.throwError("cannot instantiate abstract class "+JSON.stringify(X.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:Z.name,operation:"new"}):(Z===Object||Z==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:X.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$d)),_globalLogger}static setCensorship(Z,X){if(!Z&&X&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!Z)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!Z,_permanentCensorErrors=!!X}static setLogLevel(Z){const X=LogLevels[Z.toLowerCase()];if(X==null){Logger.globalLogger().warn("invalid log level - "+Z);return}_logLevel=X}static from(Z){return new Logger(Z)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const version$c="bytes/5.7.0",logger$e=new Logger(version$c);function isHexable(L){return!!L.toHexString}function addSlice(L){return L.slice||(L.slice=function(){const Z=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(L,Z)))}),L}function isBytesLike(L){return isHexString(L)&&!(L.length%2)||isBytes(L)}function isInteger(L){return typeof L=="number"&&L==L&&L%1===0}function isBytes(L){if(L==null)return!1;if(L.constructor===Uint8Array)return!0;if(typeof L=="string"||!isInteger(L.length)||L.length<0)return!1;for(let Z=0;Z<L.length;Z++){const X=L[Z];if(!isInteger(X)||X<0||X>=256)return!1}return!0}function arrayify(L,Z){if(Z||(Z={}),typeof L=="number"){logger$e.checkSafeUint53(L,"invalid arrayify value");const X=[];for(;L;)X.unshift(L&255),L=parseInt(String(L/256));return X.length===0&&X.push(0),addSlice(new Uint8Array(X))}if(Z.allowMissingPrefix&&typeof L=="string"&&L.substring(0,2)!=="0x"&&(L="0x"+L),isHexable(L)&&(L=L.toHexString()),isHexString(L)){let X=L.substring(2);X.length%2&&(Z.hexPad==="left"?X="0"+X:Z.hexPad==="right"?X+="0":logger$e.throwArgumentError("hex data is odd-length","value",L));const te=[];for(let ie=0;ie<X.length;ie+=2)te.push(parseInt(X.substring(ie,ie+2),16));return addSlice(new Uint8Array(te))}return isBytes(L)?addSlice(new Uint8Array(L)):logger$e.throwArgumentError("invalid arrayify value","value",L)}function concat$1(L){const Z=L.map(ie=>arrayify(ie)),X=Z.reduce((ie,oe)=>ie+oe.length,0),te=new Uint8Array(X);return Z.reduce((ie,oe)=>(te.set(oe,ie),ie+oe.length),0),addSlice(te)}function stripZeros(L){let Z=arrayify(L);if(Z.length===0)return Z;let X=0;for(;X<Z.length&&Z[X]===0;)X++;return X&&(Z=Z.slice(X)),Z}function isHexString(L,Z){return!(typeof L!="string"||!L.match(/^0x[0-9A-Fa-f]*$/)||Z&&L.length!==2+2*Z)}const HexCharacters="0123456789abcdef";function hexlify(L,Z){if(Z||(Z={}),typeof L=="number"){logger$e.checkSafeUint53(L,"invalid hexlify value");let X="";for(;L;)X=HexCharacters[L&15]+X,L=Math.floor(L/16);return X.length?(X.length%2&&(X="0"+X),"0x"+X):"0x00"}if(typeof L=="bigint")return L=L.toString(16),L.length%2?"0x0"+L:"0x"+L;if(Z.allowMissingPrefix&&typeof L=="string"&&L.substring(0,2)!=="0x"&&(L="0x"+L),isHexable(L))return L.toHexString();if(isHexString(L))return L.length%2&&(Z.hexPad==="left"?L="0x0"+L.substring(2):Z.hexPad==="right"?L+="0":logger$e.throwArgumentError("hex data is odd-length","value",L)),L.toLowerCase();if(isBytes(L)){let X="0x";for(let te=0;te<L.length;te++){let ie=L[te];X+=HexCharacters[(ie&240)>>4]+HexCharacters[ie&15]}return X}return logger$e.throwArgumentError("invalid hexlify value","value",L)}function hexDataLength(L){if(typeof L!="string")L=hexlify(L);else if(!isHexString(L)||L.length%2)return null;return(L.length-2)/2}function hexDataSlice(L,Z,X){return typeof L!="string"?L=hexlify(L):(!isHexString(L)||L.length%2)&&logger$e.throwArgumentError("invalid hexData","value",L),Z=2+2*Z,X!=null?"0x"+L.substring(Z,2+2*X):"0x"+L.substring(Z)}function hexConcat(L){let Z="0x";return L.forEach(X=>{Z+=hexlify(X).substring(2)}),Z}function hexZeroPad(L,Z){for(typeof L!="string"?L=hexlify(L):isHexString(L)||logger$e.throwArgumentError("invalid hex string","value",L),L.length>2*Z+2&&logger$e.throwArgumentError("value out of range","value",arguments[1]);L.length<2*Z+2;)L="0x0"+L.substring(2);return L}const version$b="bignumber/5.7.0";var BN=BN$1.BN;const logger$d=new Logger(version$b),_constructorGuard$1={},MAX_SAFE=9007199254740991;let _warnedToStringRadix=!1;class BigNumber{constructor(Z,X){Z!==_constructorGuard$1&&logger$d.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=X,this._isBigNumber=!0,Object.freeze(this)}fromTwos(Z){return toBigNumber(toBN(this).fromTwos(Z))}toTwos(Z){return toBigNumber(toBN(this).toTwos(Z))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(Z){return toBigNumber(toBN(this).add(toBN(Z)))}sub(Z){return toBigNumber(toBN(this).sub(toBN(Z)))}div(Z){return BigNumber.from(Z).isZero()&&throwFault("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(Z)))}mul(Z){return toBigNumber(toBN(this).mul(toBN(Z)))}mod(Z){const X=toBN(Z);return X.isNeg()&&throwFault("division-by-zero","mod"),toBigNumber(toBN(this).umod(X))}pow(Z){const X=toBN(Z);return X.isNeg()&&throwFault("negative-power","pow"),toBigNumber(toBN(this).pow(X))}and(Z){const X=toBN(Z);return(this.isNegative()||X.isNeg())&&throwFault("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(X))}or(Z){const X=toBN(Z);return(this.isNegative()||X.isNeg())&&throwFault("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(X))}xor(Z){const X=toBN(Z);return(this.isNegative()||X.isNeg())&&throwFault("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(X))}mask(Z){return(this.isNegative()||Z<0)&&throwFault("negative-width","mask"),toBigNumber(toBN(this).maskn(Z))}shl(Z){return(this.isNegative()||Z<0)&&throwFault("negative-width","shl"),toBigNumber(toBN(this).shln(Z))}shr(Z){return(this.isNegative()||Z<0)&&throwFault("negative-width","shr"),toBigNumber(toBN(this).shrn(Z))}eq(Z){return toBN(this).eq(toBN(Z))}lt(Z){return toBN(this).lt(toBN(Z))}lte(Z){return toBN(this).lte(toBN(Z))}gt(Z){return toBN(this).gt(toBN(Z))}gte(Z){return toBN(this).gte(toBN(Z))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$d.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$d.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$d.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$d.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(Z){return{type:"BigNumber",hex:this.toHexString()}}static from(Z){if(Z instanceof BigNumber)return Z;if(typeof Z=="string")return Z.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$1,toHex$1(Z)):Z.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$1,toHex$1(new BN(Z))):logger$d.throwArgumentError("invalid BigNumber string","value",Z);if(typeof Z=="number")return Z%1&&throwFault("underflow","BigNumber.from",Z),(Z>=MAX_SAFE||Z<=-MAX_SAFE)&&throwFault("overflow","BigNumber.from",Z),BigNumber.from(String(Z));const X=Z;if(typeof X=="bigint")return BigNumber.from(X.toString());if(isBytes(X))return BigNumber.from(hexlify(X));if(X)if(X.toHexString){const te=X.toHexString();if(typeof te=="string")return BigNumber.from(te)}else{let te=X._hex;if(te==null&&X.type==="BigNumber"&&(te=X.hex),typeof te=="string"&&(isHexString(te)||te[0]==="-"&&isHexString(te.substring(1))))return BigNumber.from(te)}return logger$d.throwArgumentError("invalid BigNumber value","value",Z)}static isBigNumber(Z){return!!(Z&&Z._isBigNumber)}}function toHex$1(L){if(typeof L!="string")return toHex$1(L.toString(16));if(L[0]==="-")return L=L.substring(1),L[0]==="-"&&logger$d.throwArgumentError("invalid hex","value",L),L=toHex$1(L),L==="0x00"?L:"-"+L;if(L.substring(0,2)!=="0x"&&(L="0x"+L),L==="0x")return"0x00";for(L.length%2&&(L="0x0"+L.substring(2));L.length>4&&L.substring(0,4)==="0x00";)L="0x"+L.substring(4);return L}function toBigNumber(L){return BigNumber.from(toHex$1(L))}function toBN(L){const Z=BigNumber.from(L).toHexString();return Z[0]==="-"?new BN("-"+Z.substring(3),16):new BN(Z.substring(2),16)}function throwFault(L,Z,X){const te={fault:L,operation:Z};return X!=null&&(te.value=X),logger$d.throwError(L,Logger.errors.NUMERIC_FAULT,te)}function _base36To16(L){return new BN(L,36).toString(16)}const version$a="properties/5.7.0";var __awaiter$3=globalThis&&globalThis.__awaiter||function(L,Z,X,te){function ie(oe){return oe instanceof X?oe:new X(function(se){se(oe)})}return new(X||(X=Promise))(function(oe,se){function ue(de){try{le(te.next(de))}catch(he){se(he)}}function ce(de){try{le(te.throw(de))}catch(he){se(he)}}function le(de){de.done?oe(de.value):ie(de.value).then(ue,ce)}le((te=te.apply(L,Z||[])).next())})};const logger$c=new Logger(version$a);function defineReadOnly(L,Z,X){Object.defineProperty(L,Z,{enumerable:!0,value:X,writable:!1})}function getStatic(L,Z){for(let X=0;X<32;X++){if(L[Z])return L[Z];if(!L.prototype||typeof L.prototype!="object")break;L=Object.getPrototypeOf(L.prototype).constructor}return null}function resolveProperties(L){return __awaiter$3(this,void 0,void 0,function*(){const Z=Object.keys(L).map(te=>{const ie=L[te];return Promise.resolve(ie).then(oe=>({key:te,value:oe}))});return(yield Promise.all(Z)).reduce((te,ie)=>(te[ie.key]=ie.value,te),{})})}function shallowCopy(L){const Z={};for(const X in L)Z[X]=L[X];return Z}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(L){if(L==null||opaque[typeof L])return!0;if(Array.isArray(L)||typeof L=="object"){if(!Object.isFrozen(L))return!1;const Z=Object.keys(L);for(let X=0;X<Z.length;X++){let te=null;try{te=L[Z[X]]}catch{continue}if(!_isFrozen(te))return!1}return!0}return logger$c.throwArgumentError(`Cannot deepCopy ${typeof L}`,"object",L)}function _deepCopy(L){if(_isFrozen(L))return L;if(Array.isArray(L))return Object.freeze(L.map(Z=>deepCopy(Z)));if(typeof L=="object"){const Z={};for(const X in L){const te=L[X];te!==void 0&&defineReadOnly(Z,X,deepCopy(te))}return Z}return logger$c.throwArgumentError(`Cannot deepCopy ${typeof L}`,"object",L)}function deepCopy(L){return _deepCopy(L)}class Description{constructor(Z){for(const X in Z)this[X]=deepCopy(Z[X])}}const version$9="abi/5.7.0",logger$b=new Logger(version$9),_constructorGuard={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(L,Z){if(L==="bytes"||L==="string"){if(ModifiersBytes[Z])return!0}else if(L==="address"){if(Z==="payable")return!0}else if((L.indexOf("[")>=0||L==="tuple")&&ModifiersNest[Z])return!0;return(ModifiersBytes[Z]||Z==="payable")&&logger$b.throwArgumentError("invalid modifier","name",Z),!1}function parseParamType(L,Z){let X=L;function te(ue){logger$b.throwArgumentError(`unexpected character at position ${ue}`,"param",L)}L=L.replace(/\s/g," ");function ie(ue){let ce={type:"",name:"",parent:ue,state:{allowType:!0}};return Z&&(ce.indexed=!1),ce}let oe={type:"",name:"",state:{allowType:!0}},se=oe;for(let ue=0;ue<L.length;ue++){let ce=L[ue];switch(ce){case"(":se.state.allowType&&se.type===""?se.type="tuple":se.state.allowParams||te(ue),se.state.allowType=!1,se.type=verifyType(se.type),se.components=[ie(se)],se=se.components[0];break;case")":delete se.state,se.name==="indexed"&&(Z||te(ue),se.indexed=!0,se.name=""),checkModifier(se.type,se.name)&&(se.name=""),se.type=verifyType(se.type);let le=se;se=se.parent,se||te(ue),delete le.parent,se.state.allowParams=!1,se.state.allowName=!0,se.state.allowArray=!0;break;case",":delete se.state,se.name==="indexed"&&(Z||te(ue),se.indexed=!0,se.name=""),checkModifier(se.type,se.name)&&(se.name=""),se.type=verifyType(se.type);let de=ie(se.parent);se.parent.components.push(de),delete se.parent,se=de;break;case" ":se.state.allowType&&se.type!==""&&(se.type=verifyType(se.type),delete se.state.allowType,se.state.allowName=!0,se.state.allowParams=!0),se.state.allowName&&se.name!==""&&(se.name==="indexed"?(Z||te(ue),se.indexed&&te(ue),se.indexed=!0,se.name=""):checkModifier(se.type,se.name)?se.name="":se.state.allowName=!1);break;case"[":se.state.allowArray||te(ue),se.type+=ce,se.state.allowArray=!1,se.state.allowName=!1,se.state.readArray=!0;break;case"]":se.state.readArray||te(ue),se.type+=ce,se.state.readArray=!1,se.state.allowArray=!0,se.state.allowName=!0;break;default:se.state.allowType?(se.type+=ce,se.state.allowParams=!0,se.state.allowArray=!0):se.state.allowName?(se.name+=ce,delete se.state.allowArray):se.state.readArray?se.type+=ce:te(ue)}}return se.parent&&logger$b.throwArgumentError("unexpected eof","param",L),delete oe.state,se.name==="indexed"?(Z||te(X.length-7),se.indexed&&te(X.length-7),se.indexed=!0,se.name=""):checkModifier(se.type,se.name)&&(se.name=""),oe.type=verifyType(oe.type),oe}function populate(L,Z){for(let X in Z)defineReadOnly(L,X,Z[X])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(Z,X){Z!==_constructorGuard&&logger$b.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,X);let te=this.type.match(paramTypeArray);te?populate(this,{arrayLength:parseInt(te[2]||"-1"),arrayChildren:ParamType.fromObject({type:te[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(Z){if(Z||(Z=FormatTypes.sighash),FormatTypes[Z]||logger$b.throwArgumentError("invalid format type","format",Z),Z===FormatTypes.json){let te={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(te.indexed=this.indexed),this.components&&(te.components=this.components.map(ie=>JSON.parse(ie.format(Z)))),JSON.stringify(te)}let X="";return this.baseType==="array"?(X+=this.arrayChildren.format(Z),X+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(Z!==FormatTypes.sighash&&(X+=this.type),X+="("+this.components.map(te=>te.format(Z)).join(Z===FormatTypes.full?", ":",")+")"):X+=this.type,Z!==FormatTypes.sighash&&(this.indexed===!0&&(X+=" indexed"),Z===FormatTypes.full&&this.name&&(X+=" "+this.name)),X}static from(Z,X){return typeof Z=="string"?ParamType.fromString(Z,X):ParamType.fromObject(Z)}static fromObject(Z){return ParamType.isParamType(Z)?Z:new ParamType(_constructorGuard,{name:Z.name||null,type:verifyType(Z.type),indexed:Z.indexed==null?null:!!Z.indexed,components:Z.components?Z.components.map(ParamType.fromObject):null})}static fromString(Z,X){function te(ie){return ParamType.fromObject({name:ie.name,type:ie.type,indexed:ie.indexed,components:ie.components})}return te(parseParamType(Z,!!X))}static isParamType(Z){return!!(Z!=null&&Z._isParamType)}}function parseParams(L,Z){return splitNesting(L).map(X=>ParamType.fromString(X,Z))}class Fragment{constructor(Z,X){Z!==_constructorGuard&&logger$b.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,X),this._isFragment=!0,Object.freeze(this)}static from(Z){return Fragment.isFragment(Z)?Z:typeof Z=="string"?Fragment.fromString(Z):Fragment.fromObject(Z)}static fromObject(Z){if(Fragment.isFragment(Z))return Z;switch(Z.type){case"function":return FunctionFragment.fromObject(Z);case"event":return EventFragment.fromObject(Z);case"constructor":return ConstructorFragment.fromObject(Z);case"error":return ErrorFragment.fromObject(Z);case"fallback":case"receive":return null}return logger$b.throwArgumentError("invalid fragment object","value",Z)}static fromString(Z){return Z=Z.replace(/\s/g," "),Z=Z.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),Z=Z.trim(),Z.split(" ")[0]==="event"?EventFragment.fromString(Z.substring(5).trim()):Z.split(" ")[0]==="function"?FunctionFragment.fromString(Z.substring(8).trim()):Z.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(Z.trim()):Z.split(" ")[0]==="error"?ErrorFragment.fromString(Z.substring(5).trim()):logger$b.throwArgumentError("unsupported fragment","value",Z)}static isFragment(Z){return!!(Z&&Z._isFragment)}}class EventFragment extends Fragment{format(Z){if(Z||(Z=FormatTypes.sighash),FormatTypes[Z]||logger$b.throwArgumentError("invalid format type","format",Z),Z===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(te=>JSON.parse(te.format(Z)))});let X="";return Z!==FormatTypes.sighash&&(X+="event "),X+=this.name+"("+this.inputs.map(te=>te.format(Z)).join(Z===FormatTypes.full?", ":",")+") ",Z!==FormatTypes.sighash&&this.anonymous&&(X+="anonymous "),X.trim()}static from(Z){return typeof Z=="string"?EventFragment.fromString(Z):EventFragment.fromObject(Z)}static fromObject(Z){if(EventFragment.isEventFragment(Z))return Z;Z.type!=="event"&&logger$b.throwArgumentError("invalid event object","value",Z);const X={name:verifyIdentifier(Z.name),anonymous:Z.anonymous,inputs:Z.inputs?Z.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard,X)}static fromString(Z){let X=Z.match(regexParen);X||logger$b.throwArgumentError("invalid event string","value",Z);let te=!1;return X[3].split(" ").forEach(ie=>{switch(ie.trim()){case"anonymous":te=!0;break;case"":break;default:logger$b.warn("unknown modifier: "+ie)}}),EventFragment.fromObject({name:X[1].trim(),anonymous:te,inputs:parseParams(X[2],!0),type:"event"})}static isEventFragment(Z){return Z&&Z._isFragment&&Z.type==="event"}}function parseGas(L,Z){Z.gas=null;let X=L.split("@");return X.length!==1?(X.length>2&&logger$b.throwArgumentError("invalid human-readable ABI signature","value",L),X[1].match(/^[0-9]+$/)||logger$b.throwArgumentError("invalid human-readable ABI signature gas","value",L),Z.gas=BigNumber.from(X[1]),X[0]):L}function parseModifiers(L,Z){Z.constant=!1,Z.payable=!1,Z.stateMutability="nonpayable",L.split(" ").forEach(X=>{switch(X.trim()){case"constant":Z.constant=!0;break;case"payable":Z.payable=!0,Z.stateMutability="payable";break;case"nonpayable":Z.payable=!1,Z.stateMutability="nonpayable";break;case"pure":Z.constant=!0,Z.stateMutability="pure";break;case"view":Z.constant=!0,Z.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+X)}})}function verifyState(L){let Z={constant:!1,payable:!0,stateMutability:"payable"};return L.stateMutability!=null?(Z.stateMutability=L.stateMutability,Z.constant=Z.stateMutability==="view"||Z.stateMutability==="pure",L.constant!=null&&!!L.constant!==Z.constant&&logger$b.throwArgumentError("cannot have constant function with mutability "+Z.stateMutability,"value",L),Z.payable=Z.stateMutability==="payable",L.payable!=null&&!!L.payable!==Z.payable&&logger$b.throwArgumentError("cannot have payable function with mutability "+Z.stateMutability,"value",L)):L.payable!=null?(Z.payable=!!L.payable,L.constant==null&&!Z.payable&&L.type!=="constructor"&&logger$b.throwArgumentError("unable to determine stateMutability","value",L),Z.constant=!!L.constant,Z.constant?Z.stateMutability="view":Z.stateMutability=Z.payable?"payable":"nonpayable",Z.payable&&Z.constant&&logger$b.throwArgumentError("cannot have constant payable function","value",L)):L.constant!=null?(Z.constant=!!L.constant,Z.payable=!Z.constant,Z.stateMutability=Z.constant?"view":"payable"):L.type!=="constructor"&&logger$b.throwArgumentError("unable to determine stateMutability","value",L),Z}class ConstructorFragment extends Fragment{format(Z){if(Z||(Z=FormatTypes.sighash),FormatTypes[Z]||logger$b.throwArgumentError("invalid format type","format",Z),Z===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(te=>JSON.parse(te.format(Z)))});Z===FormatTypes.sighash&&logger$b.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let X="constructor("+this.inputs.map(te=>te.format(Z)).join(Z===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(X+=this.stateMutability+" "),X.trim()}static from(Z){return typeof Z=="string"?ConstructorFragment.fromString(Z):ConstructorFragment.fromObject(Z)}static fromObject(Z){if(ConstructorFragment.isConstructorFragment(Z))return Z;Z.type!=="constructor"&&logger$b.throwArgumentError("invalid constructor object","value",Z);let X=verifyState(Z);X.constant&&logger$b.throwArgumentError("constructor cannot be constant","value",Z);const te={name:null,type:Z.type,inputs:Z.inputs?Z.inputs.map(ParamType.fromObject):[],payable:X.payable,stateMutability:X.stateMutability,gas:Z.gas?BigNumber.from(Z.gas):null};return new ConstructorFragment(_constructorGuard,te)}static fromString(Z){let X={type:"constructor"};Z=parseGas(Z,X);let te=Z.match(regexParen);return(!te||te[1].trim()!=="constructor")&&logger$b.throwArgumentError("invalid constructor string","value",Z),X.inputs=parseParams(te[2].trim(),!1),parseModifiers(te[3].trim(),X),ConstructorFragment.fromObject(X)}static isConstructorFragment(Z){return Z&&Z._isFragment&&Z.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(Z){if(Z||(Z=FormatTypes.sighash),FormatTypes[Z]||logger$b.throwArgumentError("invalid format type","format",Z),Z===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(te=>JSON.parse(te.format(Z))),outputs:this.outputs.map(te=>JSON.parse(te.format(Z)))});let X="";return Z!==FormatTypes.sighash&&(X+="function "),X+=this.name+"("+this.inputs.map(te=>te.format(Z)).join(Z===FormatTypes.full?", ":",")+") ",Z!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(X+=this.stateMutability+" "):this.constant&&(X+="view "),this.outputs&&this.outputs.length&&(X+="returns ("+this.outputs.map(te=>te.format(Z)).join(", ")+") "),this.gas!=null&&(X+="@"+this.gas.toString()+" ")),X.trim()}static from(Z){return typeof Z=="string"?FunctionFragment.fromString(Z):FunctionFragment.fromObject(Z)}static fromObject(Z){if(FunctionFragment.isFunctionFragment(Z))return Z;Z.type!=="function"&&logger$b.throwArgumentError("invalid function object","value",Z);let X=verifyState(Z);const te={type:Z.type,name:verifyIdentifier(Z.name),constant:X.constant,inputs:Z.inputs?Z.inputs.map(ParamType.fromObject):[],outputs:Z.outputs?Z.outputs.map(ParamType.fromObject):[],payable:X.payable,stateMutability:X.stateMutability,gas:Z.gas?BigNumber.from(Z.gas):null};return new FunctionFragment(_constructorGuard,te)}static fromString(Z){let X={type:"function"};Z=parseGas(Z,X);let te=Z.split(" returns ");te.length>2&&logger$b.throwArgumentError("invalid function string","value",Z);let ie=te[0].match(regexParen);if(ie||logger$b.throwArgumentError("invalid function signature","value",Z),X.name=ie[1].trim(),X.name&&verifyIdentifier(X.name),X.inputs=parseParams(ie[2],!1),parseModifiers(ie[3].trim(),X),te.length>1){let oe=te[1].match(regexParen);(oe[1].trim()!=""||oe[3].trim()!="")&&logger$b.throwArgumentError("unexpected tokens","value",Z),X.outputs=parseParams(oe[2],!1)}else X.outputs=[];return FunctionFragment.fromObject(X)}static isFunctionFragment(Z){return Z&&Z._isFragment&&Z.type==="function"}}function checkForbidden(L){const Z=L.format();return(Z==="Error(string)"||Z==="Panic(uint256)")&&logger$b.throwArgumentError(`cannot specify user defined ${Z} error`,"fragment",L),L}class ErrorFragment extends Fragment{format(Z){if(Z||(Z=FormatTypes.sighash),FormatTypes[Z]||logger$b.throwArgumentError("invalid format type","format",Z),Z===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(te=>JSON.parse(te.format(Z)))});let X="";return Z!==FormatTypes.sighash&&(X+="error "),X+=this.name+"("+this.inputs.map(te=>te.format(Z)).join(Z===FormatTypes.full?", ":",")+") ",X.trim()}static from(Z){return typeof Z=="string"?ErrorFragment.fromString(Z):ErrorFragment.fromObject(Z)}static fromObject(Z){if(ErrorFragment.isErrorFragment(Z))return Z;Z.type!=="error"&&logger$b.throwArgumentError("invalid error object","value",Z);const X={type:Z.type,name:verifyIdentifier(Z.name),inputs:Z.inputs?Z.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard,X))}static fromString(Z){let X={type:"error"},te=Z.match(regexParen);return te||logger$b.throwArgumentError("invalid error signature","value",Z),X.name=te[1].trim(),X.name&&verifyIdentifier(X.name),X.inputs=parseParams(te[2],!1),checkForbidden(ErrorFragment.fromObject(X))}static isErrorFragment(Z){return Z&&Z._isFragment&&Z.type==="error"}}function verifyType(L){return L.match(/^uint($|[^1-9])/)?L="uint256"+L.substring(4):L.match(/^int($|[^1-9])/)&&(L="int256"+L.substring(3)),L}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(L){return(!L||!L.match(regexIdentifier))&&logger$b.throwArgumentError(`invalid identifier "${L}"`,"value",L),L}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(L){L=L.trim();let Z=[],X="",te=0;for(let ie=0;ie<L.length;ie++){let oe=L[ie];oe===","&&te===0?(Z.push(X),X=""):(X+=oe,oe==="("?te++:oe===")"&&(te--,te===-1&&logger$b.throwArgumentError("unbalanced parenthesis","value",L)))}return X&&Z.push(X),Z}const logger$a=new Logger(version$9);function checkResultErrors(L){const Z=[],X=function(te,ie){if(Array.isArray(ie))for(let oe in ie){const se=te.slice();se.push(oe);try{X(se,ie[oe])}catch(ue){Z.push({path:se,error:ue})}}};return X([],L),Z}class Coder{constructor(Z,X,te,ie){this.name=Z,this.type=X,this.localName=te,this.dynamic=ie}_throwError(Z,X){logger$a.throwArgumentError(Z,this.localName,X)}}let Writer$2=class{constructor(Z){defineReadOnly(this,"wordSize",Z||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(Z)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(Z){return this._data.push(Z),this._dataLength+=Z.length,Z.length}appendWriter(Z){return this._writeData(concat$1(Z._data))}writeBytes(Z){let X=arrayify(Z);const te=X.length%this.wordSize;return te&&(X=concat$1([X,this._padding.slice(te)])),this._writeData(X)}_getValue(Z){let X=arrayify(BigNumber.from(Z));return X.length>this.wordSize&&logger$a.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:X.length}),X.length%this.wordSize&&(X=concat$1([this._padding.slice(X.length%this.wordSize),X])),X}writeValue(Z){return this._writeData(this._getValue(Z))}writeUpdatableValue(){const Z=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,X=>{this._data[Z]=this._getValue(X)}}},Reader$2=class Br{constructor(Z,X,te,ie){defineReadOnly(this,"_data",arrayify(Z)),defineReadOnly(this,"wordSize",X||32),defineReadOnly(this,"_coerceFunc",te),defineReadOnly(this,"allowLoose",ie),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(Z,X){let te=Z.match("^u?int([0-9]+)$");return te&&parseInt(te[1])<=48&&(X=X.toNumber()),X}coerce(Z,X){return this._coerceFunc?this._coerceFunc(Z,X):Br.coerce(Z,X)}_peekBytes(Z,X,te){let ie=Math.ceil(X/this.wordSize)*this.wordSize;return this._offset+ie>this._data.length&&(this.allowLoose&&te&&this._offset+X<=this._data.length?ie=X:logger$a.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+ie})),this._data.slice(this._offset,this._offset+ie)}subReader(Z){return new Br(this._data.slice(this._offset+Z),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(Z,X){let te=this._peekBytes(0,Z,!!X);return this._offset+=te.length,te.slice(0,Z)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}};var sha3Exports={},sha3$1={get exports(){return sha3Exports},set exports(L){sha3Exports=L}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(L){(function(){var Z="input is invalid type",X="finalize already called",te=typeof window=="object",ie=te?window:{};ie.JS_SHA3_NO_WINDOW&&(te=!1);var oe=!te&&typeof self=="object",se=!ie.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;se?ie=commonjsGlobal:oe&&(ie=self);var ue=!ie.JS_SHA3_NO_COMMON_JS&&!0&&L.exports,ce=!ie.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",le="0123456789abcdef".split(""),de=[31,7936,2031616,520093696],he=[4,1024,262144,67108864],ge=[1,256,65536,16777216],_e=[6,1536,393216,100663296],Ae=[0,8,16,24],xe=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Ie=[224,256,384,512],Pe=[128,256],Ce=["hex","buffer","arrayBuffer","array","digest"],Be={128:168,256:136};(ie.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Te){return Object.prototype.toString.call(Te)==="[object Array]"}),ce&&(ie.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Te){return typeof Te=="object"&&Te.buffer&&Te.buffer.constructor===ArrayBuffer});for(var Ve=function(Te,Ye,Ue){return function(qe){return new ve(Te,Ye,Te).update(qe)[Ue]()}},Ge=function(Te,Ye,Ue){return function(qe,Xe){return new ve(Te,Ye,Xe).update(qe)[Ue]()}},Ke=function(Te,Ye,Ue){return function(qe,Xe,nt,tt){return pe["cshake"+Te].update(qe,Xe,nt,tt)[Ue]()}},Je=function(Te,Ye,Ue){return function(qe,Xe,nt,tt){return pe["kmac"+Te].update(qe,Xe,nt,tt)[Ue]()}},et=function(Te,Ye,Ue,qe){for(var Xe=0;Xe<Ce.length;++Xe){var nt=Ce[Xe];Te[nt]=Ye(Ue,qe,nt)}return Te},at=function(Te,Ye){var Ue=Ve(Te,Ye,"hex");return Ue.create=function(){return new ve(Te,Ye,Te)},Ue.update=function(qe){return Ue.create().update(qe)},et(Ue,Ve,Te,Ye)},dt=function(Te,Ye){var Ue=Ge(Te,Ye,"hex");return Ue.create=function(qe){return new ve(Te,Ye,qe)},Ue.update=function(qe,Xe){return Ue.create(Xe).update(qe)},et(Ue,Ge,Te,Ye)},st=function(Te,Ye){var Ue=Be[Te],qe=Ke(Te,Ye,"hex");return qe.create=function(Xe,nt,tt){return!nt&&!tt?pe["shake"+Te].create(Xe):new ve(Te,Ye,Xe).bytepad([nt,tt],Ue)},qe.update=function(Xe,nt,tt,Qe){return qe.create(nt,tt,Qe).update(Xe)},et(qe,Ke,Te,Ye)},ht=function(Te,Ye){var Ue=Be[Te],qe=Je(Te,Ye,"hex");return qe.create=function(Xe,nt,tt){return new Le(Te,Ye,nt).bytepad(["KMAC",tt],Ue).bytepad([Xe],Ue)},qe.update=function(Xe,nt,tt,Qe){return qe.create(Xe,tt,Qe).update(nt)},et(qe,Je,Te,Ye)},Fe=[{name:"keccak",padding:ge,bits:Ie,createMethod:at},{name:"sha3",padding:_e,bits:Ie,createMethod:at},{name:"shake",padding:de,bits:Pe,createMethod:dt},{name:"cshake",padding:he,bits:Pe,createMethod:st},{name:"kmac",padding:he,bits:Pe,createMethod:ht}],pe={},we=[],$e=0;$e<Fe.length;++$e)for(var Oe=Fe[$e],Me=Oe.bits,Ze=0;Ze<Me.length;++Ze){var We=Oe.name+"_"+Me[Ze];if(we.push(We),pe[We]=Oe.createMethod(Me[Ze],Oe.padding),Oe.name!=="sha3"){var Ne=Oe.name+Me[Ze];we.push(Ne),pe[Ne]=pe[We]}}function ve(Te,Ye,Ue){this.blocks=[],this.s=[],this.padding=Ye,this.outputBits=Ue,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Te<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Ue>>5,this.extraBytes=(Ue&31)>>3;for(var qe=0;qe<50;++qe)this.s[qe]=0}ve.prototype.update=function(Te){if(this.finalized)throw new Error(X);var Ye,Ue=typeof Te;if(Ue!=="string"){if(Ue==="object"){if(Te===null)throw new Error(Z);if(ce&&Te.constructor===ArrayBuffer)Te=new Uint8Array(Te);else if(!Array.isArray(Te)&&(!ce||!ArrayBuffer.isView(Te)))throw new Error(Z)}else throw new Error(Z);Ye=!0}for(var qe=this.blocks,Xe=this.byteCount,nt=Te.length,tt=this.blockCount,Qe=0,ft=this.s,rt,lt;Qe<nt;){if(this.reset)for(this.reset=!1,qe[0]=this.block,rt=1;rt<tt+1;++rt)qe[rt]=0;if(Ye)for(rt=this.start;Qe<nt&&rt<Xe;++Qe)qe[rt>>2]|=Te[Qe]<<Ae[rt++&3];else for(rt=this.start;Qe<nt&&rt<Xe;++Qe)lt=Te.charCodeAt(Qe),lt<128?qe[rt>>2]|=lt<<Ae[rt++&3]:lt<2048?(qe[rt>>2]|=(192|lt>>6)<<Ae[rt++&3],qe[rt>>2]|=(128|lt&63)<<Ae[rt++&3]):lt<55296||lt>=57344?(qe[rt>>2]|=(224|lt>>12)<<Ae[rt++&3],qe[rt>>2]|=(128|lt>>6&63)<<Ae[rt++&3],qe[rt>>2]|=(128|lt&63)<<Ae[rt++&3]):(lt=65536+((lt&1023)<<10|Te.charCodeAt(++Qe)&1023),qe[rt>>2]|=(240|lt>>18)<<Ae[rt++&3],qe[rt>>2]|=(128|lt>>12&63)<<Ae[rt++&3],qe[rt>>2]|=(128|lt>>6&63)<<Ae[rt++&3],qe[rt>>2]|=(128|lt&63)<<Ae[rt++&3]);if(this.lastByteIndex=rt,rt>=Xe){for(this.start=rt-Xe,this.block=qe[tt],rt=0;rt<tt;++rt)ft[rt]^=qe[rt];it(ft),this.reset=!0}else this.start=rt}return this},ve.prototype.encode=function(Te,Ye){var Ue=Te&255,qe=1,Xe=[Ue];for(Te=Te>>8,Ue=Te&255;Ue>0;)Xe.unshift(Ue),Te=Te>>8,Ue=Te&255,++qe;return Ye?Xe.push(qe):Xe.unshift(qe),this.update(Xe),Xe.length},ve.prototype.encodeString=function(Te){var Ye,Ue=typeof Te;if(Ue!=="string"){if(Ue==="object"){if(Te===null)throw new Error(Z);if(ce&&Te.constructor===ArrayBuffer)Te=new Uint8Array(Te);else if(!Array.isArray(Te)&&(!ce||!ArrayBuffer.isView(Te)))throw new Error(Z)}else throw new Error(Z);Ye=!0}var qe=0,Xe=Te.length;if(Ye)qe=Xe;else for(var nt=0;nt<Te.length;++nt){var tt=Te.charCodeAt(nt);tt<128?qe+=1:tt<2048?qe+=2:tt<55296||tt>=57344?qe+=3:(tt=65536+((tt&1023)<<10|Te.charCodeAt(++nt)&1023),qe+=4)}return qe+=this.encode(qe*8),this.update(Te),qe},ve.prototype.bytepad=function(Te,Ye){for(var Ue=this.encode(Ye),qe=0;qe<Te.length;++qe)Ue+=this.encodeString(Te[qe]);var Xe=Ye-Ue%Ye,nt=[];return nt.length=Xe,this.update(nt),this},ve.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Te=this.blocks,Ye=this.lastByteIndex,Ue=this.blockCount,qe=this.s;if(Te[Ye>>2]|=this.padding[Ye&3],this.lastByteIndex===this.byteCount)for(Te[0]=Te[Ue],Ye=1;Ye<Ue+1;++Ye)Te[Ye]=0;for(Te[Ue-1]|=2147483648,Ye=0;Ye<Ue;++Ye)qe[Ye]^=Te[Ye];it(qe)}},ve.prototype.toString=ve.prototype.hex=function(){this.finalize();for(var Te=this.blockCount,Ye=this.s,Ue=this.outputBlocks,qe=this.extraBytes,Xe=0,nt=0,tt="",Qe;nt<Ue;){for(Xe=0;Xe<Te&&nt<Ue;++Xe,++nt)Qe=Ye[Xe],tt+=le[Qe>>4&15]+le[Qe&15]+le[Qe>>12&15]+le[Qe>>8&15]+le[Qe>>20&15]+le[Qe>>16&15]+le[Qe>>28&15]+le[Qe>>24&15];nt%Te===0&&(it(Ye),Xe=0)}return qe&&(Qe=Ye[Xe],tt+=le[Qe>>4&15]+le[Qe&15],qe>1&&(tt+=le[Qe>>12&15]+le[Qe>>8&15]),qe>2&&(tt+=le[Qe>>20&15]+le[Qe>>16&15])),tt},ve.prototype.arrayBuffer=function(){this.finalize();var Te=this.blockCount,Ye=this.s,Ue=this.outputBlocks,qe=this.extraBytes,Xe=0,nt=0,tt=this.outputBits>>3,Qe;qe?Qe=new ArrayBuffer(Ue+1<<2):Qe=new ArrayBuffer(tt);for(var ft=new Uint32Array(Qe);nt<Ue;){for(Xe=0;Xe<Te&&nt<Ue;++Xe,++nt)ft[nt]=Ye[Xe];nt%Te===0&&it(Ye)}return qe&&(ft[Xe]=Ye[Xe],Qe=Qe.slice(0,tt)),Qe},ve.prototype.buffer=ve.prototype.arrayBuffer,ve.prototype.digest=ve.prototype.array=function(){this.finalize();for(var Te=this.blockCount,Ye=this.s,Ue=this.outputBlocks,qe=this.extraBytes,Xe=0,nt=0,tt=[],Qe,ft;nt<Ue;){for(Xe=0;Xe<Te&&nt<Ue;++Xe,++nt)Qe=nt<<2,ft=Ye[Xe],tt[Qe]=ft&255,tt[Qe+1]=ft>>8&255,tt[Qe+2]=ft>>16&255,tt[Qe+3]=ft>>24&255;nt%Te===0&&it(Ye)}return qe&&(Qe=nt<<2,ft=Ye[Xe],tt[Qe]=ft&255,qe>1&&(tt[Qe+1]=ft>>8&255),qe>2&&(tt[Qe+2]=ft>>16&255)),tt};function Le(Te,Ye,Ue){ve.call(this,Te,Ye,Ue)}Le.prototype=new ve,Le.prototype.finalize=function(){return this.encode(this.outputBits,!0),ve.prototype.finalize.call(this)};var it=function(Te){var Ye,Ue,qe,Xe,nt,tt,Qe,ft,rt,lt,qt,pt,yt,tr,mt,gt,rr,bt,vt,nr,wt,_t,ir,Et,At,or,xt,Tt,sr,St,It,ar,$t,Rt,ur,Pt,Ot,cr,Ct,Nt,dr,Bt,Mt,hr,kt,Lt,pr,Dt,Ut,yr,jt,Zt,gr,zt,Ht,br,Wt,Vt,Gt,Kt,Xt,Jt,er;for(qe=0;qe<48;qe+=2)Xe=Te[0]^Te[10]^Te[20]^Te[30]^Te[40],nt=Te[1]^Te[11]^Te[21]^Te[31]^Te[41],tt=Te[2]^Te[12]^Te[22]^Te[32]^Te[42],Qe=Te[3]^Te[13]^Te[23]^Te[33]^Te[43],ft=Te[4]^Te[14]^Te[24]^Te[34]^Te[44],rt=Te[5]^Te[15]^Te[25]^Te[35]^Te[45],lt=Te[6]^Te[16]^Te[26]^Te[36]^Te[46],qt=Te[7]^Te[17]^Te[27]^Te[37]^Te[47],pt=Te[8]^Te[18]^Te[28]^Te[38]^Te[48],yt=Te[9]^Te[19]^Te[29]^Te[39]^Te[49],Ye=pt^(tt<<1|Qe>>>31),Ue=yt^(Qe<<1|tt>>>31),Te[0]^=Ye,Te[1]^=Ue,Te[10]^=Ye,Te[11]^=Ue,Te[20]^=Ye,Te[21]^=Ue,Te[30]^=Ye,Te[31]^=Ue,Te[40]^=Ye,Te[41]^=Ue,Ye=Xe^(ft<<1|rt>>>31),Ue=nt^(rt<<1|ft>>>31),Te[2]^=Ye,Te[3]^=Ue,Te[12]^=Ye,Te[13]^=Ue,Te[22]^=Ye,Te[23]^=Ue,Te[32]^=Ye,Te[33]^=Ue,Te[42]^=Ye,Te[43]^=Ue,Ye=tt^(lt<<1|qt>>>31),Ue=Qe^(qt<<1|lt>>>31),Te[4]^=Ye,Te[5]^=Ue,Te[14]^=Ye,Te[15]^=Ue,Te[24]^=Ye,Te[25]^=Ue,Te[34]^=Ye,Te[35]^=Ue,Te[44]^=Ye,Te[45]^=Ue,Ye=ft^(pt<<1|yt>>>31),Ue=rt^(yt<<1|pt>>>31),Te[6]^=Ye,Te[7]^=Ue,Te[16]^=Ye,Te[17]^=Ue,Te[26]^=Ye,Te[27]^=Ue,Te[36]^=Ye,Te[37]^=Ue,Te[46]^=Ye,Te[47]^=Ue,Ye=lt^(Xe<<1|nt>>>31),Ue=qt^(nt<<1|Xe>>>31),Te[8]^=Ye,Te[9]^=Ue,Te[18]^=Ye,Te[19]^=Ue,Te[28]^=Ye,Te[29]^=Ue,Te[38]^=Ye,Te[39]^=Ue,Te[48]^=Ye,Te[49]^=Ue,tr=Te[0],mt=Te[1],Lt=Te[11]<<4|Te[10]>>>28,pr=Te[10]<<4|Te[11]>>>28,Tt=Te[20]<<3|Te[21]>>>29,sr=Te[21]<<3|Te[20]>>>29,Kt=Te[31]<<9|Te[30]>>>23,Xt=Te[30]<<9|Te[31]>>>23,Bt=Te[40]<<18|Te[41]>>>14,Mt=Te[41]<<18|Te[40]>>>14,Rt=Te[2]<<1|Te[3]>>>31,ur=Te[3]<<1|Te[2]>>>31,gt=Te[13]<<12|Te[12]>>>20,rr=Te[12]<<12|Te[13]>>>20,Dt=Te[22]<<10|Te[23]>>>22,Ut=Te[23]<<10|Te[22]>>>22,St=Te[33]<<13|Te[32]>>>19,It=Te[32]<<13|Te[33]>>>19,Jt=Te[42]<<2|Te[43]>>>30,er=Te[43]<<2|Te[42]>>>30,zt=Te[5]<<30|Te[4]>>>2,Ht=Te[4]<<30|Te[5]>>>2,Pt=Te[14]<<6|Te[15]>>>26,Ot=Te[15]<<6|Te[14]>>>26,bt=Te[25]<<11|Te[24]>>>21,vt=Te[24]<<11|Te[25]>>>21,yr=Te[34]<<15|Te[35]>>>17,jt=Te[35]<<15|Te[34]>>>17,ar=Te[45]<<29|Te[44]>>>3,$t=Te[44]<<29|Te[45]>>>3,Et=Te[6]<<28|Te[7]>>>4,At=Te[7]<<28|Te[6]>>>4,br=Te[17]<<23|Te[16]>>>9,Wt=Te[16]<<23|Te[17]>>>9,cr=Te[26]<<25|Te[27]>>>7,Ct=Te[27]<<25|Te[26]>>>7,nr=Te[36]<<21|Te[37]>>>11,wt=Te[37]<<21|Te[36]>>>11,Zt=Te[47]<<24|Te[46]>>>8,gr=Te[46]<<24|Te[47]>>>8,hr=Te[8]<<27|Te[9]>>>5,kt=Te[9]<<27|Te[8]>>>5,or=Te[18]<<20|Te[19]>>>12,xt=Te[19]<<20|Te[18]>>>12,Vt=Te[29]<<7|Te[28]>>>25,Gt=Te[28]<<7|Te[29]>>>25,Nt=Te[38]<<8|Te[39]>>>24,dr=Te[39]<<8|Te[38]>>>24,_t=Te[48]<<14|Te[49]>>>18,ir=Te[49]<<14|Te[48]>>>18,Te[0]=tr^~gt&bt,Te[1]=mt^~rr&vt,Te[10]=Et^~or&Tt,Te[11]=At^~xt&sr,Te[20]=Rt^~Pt&cr,Te[21]=ur^~Ot&Ct,Te[30]=hr^~Lt&Dt,Te[31]=kt^~pr&Ut,Te[40]=zt^~br&Vt,Te[41]=Ht^~Wt&Gt,Te[2]=gt^~bt&nr,Te[3]=rr^~vt&wt,Te[12]=or^~Tt&St,Te[13]=xt^~sr&It,Te[22]=Pt^~cr&Nt,Te[23]=Ot^~Ct&dr,Te[32]=Lt^~Dt&yr,Te[33]=pr^~Ut&jt,Te[42]=br^~Vt&Kt,Te[43]=Wt^~Gt&Xt,Te[4]=bt^~nr&_t,Te[5]=vt^~wt&ir,Te[14]=Tt^~St&ar,Te[15]=sr^~It&$t,Te[24]=cr^~Nt&Bt,Te[25]=Ct^~dr&Mt,Te[34]=Dt^~yr&Zt,Te[35]=Ut^~jt&gr,Te[44]=Vt^~Kt&Jt,Te[45]=Gt^~Xt&er,Te[6]=nr^~_t&tr,Te[7]=wt^~ir&mt,Te[16]=St^~ar&Et,Te[17]=It^~$t&At,Te[26]=Nt^~Bt&Rt,Te[27]=dr^~Mt&ur,Te[36]=yr^~Zt&hr,Te[37]=jt^~gr&kt,Te[46]=Kt^~Jt&zt,Te[47]=Xt^~er&Ht,Te[8]=_t^~tr&gt,Te[9]=ir^~mt&rr,Te[18]=ar^~Et&or,Te[19]=$t^~At&xt,Te[28]=Bt^~Rt&Pt,Te[29]=Mt^~ur&Ot,Te[38]=Zt^~hr&Lt,Te[39]=gr^~kt&pr,Te[48]=Jt^~zt&br,Te[49]=er^~Ht&Wt,Te[0]^=xe[qe],Te[1]^=xe[qe+1]};if(ue)L.exports=pe;else for($e=0;$e<we.length;++$e)ie[we[$e]]=pe[we[$e]]})()})(sha3$1);const sha3=sha3Exports;function keccak256$1(L){return"0x"+sha3.keccak_256(arrayify(L))}const version$8="rlp/5.7.0",logger$9=new Logger(version$8);function arrayifyInteger(L){const Z=[];for(;L;)Z.unshift(L&255),L>>=8;return Z}function _encode(L){if(Array.isArray(L)){let te=[];if(L.forEach(function(oe){te=te.concat(_encode(oe))}),te.length<=55)return te.unshift(192+te.length),te;const ie=arrayifyInteger(te.length);return ie.unshift(247+ie.length),ie.concat(te)}isBytesLike(L)||logger$9.throwArgumentError("RLP object must be BytesLike","object",L);const Z=Array.prototype.slice.call(arrayify(L));if(Z.length===1&&Z[0]<=127)return Z;if(Z.length<=55)return Z.unshift(128+Z.length),Z;const X=arrayifyInteger(Z.length);return X.unshift(183+X.length),X.concat(Z)}function encode(L){return hexlify(_encode(L))}const version$7="address/5.7.0",logger$8=new Logger(version$7);function getChecksumAddress(L){isHexString(L,20)||logger$8.throwArgumentError("invalid address","address",L),L=L.toLowerCase();const Z=L.substring(2).split(""),X=new Uint8Array(40);for(let ie=0;ie<40;ie++)X[ie]=Z[ie].charCodeAt(0);const te=arrayify(keccak256$1(X));for(let ie=0;ie<40;ie+=2)te[ie>>1]>>4>=8&&(Z[ie]=Z[ie].toUpperCase()),(te[ie>>1]&15)>=8&&(Z[ie+1]=Z[ie+1].toUpperCase());return"0x"+Z.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(L){return Math.log10?Math.log10(L):Math.log(L)/Math.LN10}const ibanLookup={};for(let L=0;L<10;L++)ibanLookup[String(L)]=String(L);for(let L=0;L<26;L++)ibanLookup[String.fromCharCode(65+L)]=String(10+L);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(L){L=L.toUpperCase(),L=L.substring(4)+L.substring(0,2)+"00";let Z=L.split("").map(te=>ibanLookup[te]).join("");for(;Z.length>=safeDigits;){let te=Z.substring(0,safeDigits);Z=parseInt(te,10)%97+Z.substring(te.length)}let X=String(98-parseInt(Z,10)%97);for(;X.length<2;)X="0"+X;return X}function getAddress$1(L){let Z=null;if(typeof L!="string"&&logger$8.throwArgumentError("invalid address","address",L),L.match(/^(0x)?[0-9a-fA-F]{40}$/))L.substring(0,2)!=="0x"&&(L="0x"+L),Z=getChecksumAddress(L),L.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&Z!==L&&logger$8.throwArgumentError("bad address checksum","address",L);else if(L.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(L.substring(2,4)!==ibanChecksum(L)&&logger$8.throwArgumentError("bad icap checksum","address",L),Z=_base36To16(L.substring(4));Z.length<40;)Z="0"+Z;Z=getChecksumAddress("0x"+Z)}else logger$8.throwArgumentError("invalid address","address",L);return Z}function isAddress$1(L){try{return getAddress$1(L),!0}catch{}return!1}function getContractAddress$1(L){let Z=null;try{Z=getAddress$1(L.from)}catch{logger$8.throwArgumentError("missing from address","transaction",L)}const X=stripZeros(arrayify(BigNumber.from(L.nonce).toHexString()));return getAddress$1(hexDataSlice(keccak256$1(encode([Z,X])),12))}class AddressCoder extends Coder{constructor(Z){super("address","address",Z,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(Z,X){try{X=getAddress$1(X)}catch(te){this._throwError(te.message,X)}return Z.writeValue(X)}decode(Z){return getAddress$1(hexZeroPad(Z.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(Z){super(Z.name,Z.type,void 0,Z.dynamic),this.coder=Z}defaultValue(){return this.coder.defaultValue()}encode(Z,X){return this.coder.encode(Z,X)}decode(Z){return this.coder.decode(Z)}}const logger$7=new Logger(version$9);function pack(L,Z,X){let te=null;if(Array.isArray(X))te=X;else if(X&&typeof X=="object"){let ce={};te=Z.map(le=>{const de=le.localName;return de||logger$7.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:le,value:X}),ce[de]&&logger$7.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:le,value:X}),ce[de]=!0,X[de]})}else logger$7.throwArgumentError("invalid tuple value","tuple",X);Z.length!==te.length&&logger$7.throwArgumentError("types/value length mismatch","tuple",X);let ie=new Writer$2(L.wordSize),oe=new Writer$2(L.wordSize),se=[];Z.forEach((ce,le)=>{let de=te[le];if(ce.dynamic){let he=oe.length;ce.encode(oe,de);let ge=ie.writeUpdatableValue();se.push(_e=>{ge(_e+he)})}else ce.encode(ie,de)}),se.forEach(ce=>{ce(ie.length)});let ue=L.appendWriter(ie);return ue+=L.appendWriter(oe),ue}function unpack(L,Z){let X=[],te=L.subReader(0);Z.forEach(oe=>{let se=null;if(oe.dynamic){let ue=L.readValue(),ce=te.subReader(ue.toNumber());try{se=oe.decode(ce)}catch(le){if(le.code===Logger.errors.BUFFER_OVERRUN)throw le;se=le,se.baseType=oe.name,se.name=oe.localName,se.type=oe.type}}else try{se=oe.decode(L)}catch(ue){if(ue.code===Logger.errors.BUFFER_OVERRUN)throw ue;se=ue,se.baseType=oe.name,se.name=oe.localName,se.type=oe.type}se!=null&&X.push(se)});const ie=Z.reduce((oe,se)=>{const ue=se.localName;return ue&&(oe[ue]||(oe[ue]=0),oe[ue]++),oe},{});Z.forEach((oe,se)=>{let ue=oe.localName;if(!ue||ie[ue]!==1||(ue==="length"&&(ue="_length"),X[ue]!=null))return;const ce=X[se];ce instanceof Error?Object.defineProperty(X,ue,{enumerable:!0,get:()=>{throw ce}}):X[ue]=ce});for(let oe=0;oe<X.length;oe++){const se=X[oe];se instanceof Error&&Object.defineProperty(X,oe,{enumerable:!0,get:()=>{throw se}})}return Object.freeze(X)}class ArrayCoder extends Coder{constructor(Z,X,te){const ie=Z.type+"["+(X>=0?X:"")+"]",oe=X===-1||Z.dynamic;super("array",ie,te,oe),this.coder=Z,this.length=X}defaultValue(){const Z=this.coder.defaultValue(),X=[];for(let te=0;te<this.length;te++)X.push(Z);return X}encode(Z,X){Array.isArray(X)||this._throwError("expected array value",X);let te=this.length;te===-1&&(te=X.length,Z.writeValue(X.length)),logger$7.checkArgumentCount(X.length,te,"coder array"+(this.localName?" "+this.localName:""));let ie=[];for(let oe=0;oe<X.length;oe++)ie.push(this.coder);return pack(Z,ie,X)}decode(Z){let X=this.length;X===-1&&(X=Z.readValue().toNumber(),X*32>Z._data.length&&logger$7.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:Z._data.length,count:X}));let te=[];for(let ie=0;ie<X;ie++)te.push(new AnonymousCoder(this.coder));return Z.coerce(this.name,unpack(Z,te))}}class BooleanCoder extends Coder{constructor(Z){super("bool","bool",Z,!1)}defaultValue(){return!1}encode(Z,X){return Z.writeValue(X?1:0)}decode(Z){return Z.coerce(this.type,!Z.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(Z,X){super(Z,Z,X,!0)}defaultValue(){return"0x"}encode(Z,X){X=arrayify(X);let te=Z.writeValue(X.length);return te+=Z.writeBytes(X),te}decode(Z){return Z.readBytes(Z.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(Z){super("bytes",Z)}decode(Z){return Z.coerce(this.name,hexlify(super.decode(Z)))}}class FixedBytesCoder extends Coder{constructor(Z,X){let te="bytes"+String(Z);super(te,te,X,!1),this.size=Z}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(Z,X){let te=arrayify(X);return te.length!==this.size&&this._throwError("incorrect data length",X),Z.writeBytes(te)}decode(Z){return Z.coerce(this.name,hexlify(Z.readBytes(this.size)))}}class NullCoder extends Coder{constructor(Z){super("null","",Z,!1)}defaultValue(){return null}encode(Z,X){return X!=null&&this._throwError("not null",X),Z.writeBytes([])}decode(Z){return Z.readBytes(0),Z.coerce(this.name,null)}}const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends Coder{constructor(Z,X,te){const ie=(X?"int":"uint")+Z*8;super(ie,ie,te,!1),this.size=Z,this.signed=X}defaultValue(){return 0}encode(Z,X){let te=BigNumber.from(X),ie=MaxUint256.mask(Z.wordSize*8);if(this.signed){let oe=ie.mask(this.size*8-1);(te.gt(oe)||te.lt(oe.add(One).mul(NegativeOne)))&&this._throwError("value out-of-bounds",X)}else(te.lt(Zero)||te.gt(ie.mask(this.size*8)))&&this._throwError("value out-of-bounds",X);return te=te.toTwos(this.size*8).mask(this.size*8),this.signed&&(te=te.fromTwos(this.size*8).toTwos(8*Z.wordSize)),Z.writeValue(te)}decode(Z){let X=Z.readValue().mask(this.size*8);return this.signed&&(X=X.fromTwos(this.size*8)),Z.coerce(this.name,X)}}const version$6="strings/5.7.0",logger$6=new Logger(version$6);var UnicodeNormalizationForm;(function(L){L.current="",L.NFC="NFC",L.NFD="NFD",L.NFKC="NFKC",L.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(L){L.UNEXPECTED_CONTINUE="unexpected continuation byte",L.BAD_PREFIX="bad codepoint prefix",L.OVERRUN="string overrun",L.MISSING_CONTINUE="missing continuation byte",L.OUT_OF_RANGE="out of UTF-8 range",L.UTF16_SURROGATE="UTF-16 surrogate",L.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(L,Z,X,te,ie){return logger$6.throwArgumentError(`invalid codepoint at offset ${Z}; ${L}`,"bytes",X)}function ignoreFunc(L,Z,X,te,ie){if(L===Utf8ErrorReason.BAD_PREFIX||L===Utf8ErrorReason.UNEXPECTED_CONTINUE){let oe=0;for(let se=Z+1;se<X.length&&X[se]>>6===2;se++)oe++;return oe}return L===Utf8ErrorReason.OVERRUN?X.length-Z-1:0}function replaceFunc(L,Z,X,te,ie){return L===Utf8ErrorReason.OVERLONG?(te.push(ie),0):(te.push(65533),ignoreFunc(L,Z,X))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(L,Z){Z==null&&(Z=Utf8ErrorFuncs.error),L=arrayify(L);const X=[];let te=0;for(;te<L.length;){const ie=L[te++];if(!(ie>>7)){X.push(ie);continue}let oe=null,se=null;if((ie&224)===192)oe=1,se=127;else if((ie&240)===224)oe=2,se=2047;else if((ie&248)===240)oe=3,se=65535;else{(ie&192)===128?te+=Z(Utf8ErrorReason.UNEXPECTED_CONTINUE,te-1,L,X):te+=Z(Utf8ErrorReason.BAD_PREFIX,te-1,L,X);continue}if(te-1+oe>=L.length){te+=Z(Utf8ErrorReason.OVERRUN,te-1,L,X);continue}let ue=ie&(1<<8-oe-1)-1;for(let ce=0;ce<oe;ce++){let le=L[te];if((le&192)!=128){te+=Z(Utf8ErrorReason.MISSING_CONTINUE,te,L,X),ue=null;break}ue=ue<<6|le&63,te++}if(ue!==null){if(ue>1114111){te+=Z(Utf8ErrorReason.OUT_OF_RANGE,te-1-oe,L,X,ue);continue}if(ue>=55296&&ue<=57343){te+=Z(Utf8ErrorReason.UTF16_SURROGATE,te-1-oe,L,X,ue);continue}if(ue<=se){te+=Z(Utf8ErrorReason.OVERLONG,te-1-oe,L,X,ue);continue}X.push(ue)}}return X}function toUtf8Bytes(L,Z=UnicodeNormalizationForm.current){Z!=UnicodeNormalizationForm.current&&(logger$6.checkNormalize(),L=L.normalize(Z));let X=[];for(let te=0;te<L.length;te++){const ie=L.charCodeAt(te);if(ie<128)X.push(ie);else if(ie<2048)X.push(ie>>6|192),X.push(ie&63|128);else if((ie&64512)==55296){te++;const oe=L.charCodeAt(te);if(te>=L.length||(oe&64512)!==56320)throw new Error("invalid utf-8 string");const se=65536+((ie&1023)<<10)+(oe&1023);X.push(se>>18|240),X.push(se>>12&63|128),X.push(se>>6&63|128),X.push(se&63|128)}else X.push(ie>>12|224),X.push(ie>>6&63|128),X.push(ie&63|128)}return arrayify(X)}function _toUtf8String(L){return L.map(Z=>Z<=65535?String.fromCharCode(Z):(Z-=65536,String.fromCharCode((Z>>10&1023)+55296,(Z&1023)+56320))).join("")}function toUtf8String(L,Z){return _toUtf8String(getUtf8CodePoints(L,Z))}class StringCoder extends DynamicBytesCoder{constructor(Z){super("string",Z)}defaultValue(){return""}encode(Z,X){return super.encode(Z,toUtf8Bytes(X))}decode(Z){return toUtf8String(super.decode(Z))}}class TupleCoder extends Coder{constructor(Z,X){let te=!1;const ie=[];Z.forEach(se=>{se.dynamic&&(te=!0),ie.push(se.type)});const oe="tuple("+ie.join(",")+")";super("tuple",oe,X,te),this.coders=Z}defaultValue(){const Z=[];this.coders.forEach(te=>{Z.push(te.defaultValue())});const X=this.coders.reduce((te,ie)=>{const oe=ie.localName;return oe&&(te[oe]||(te[oe]=0),te[oe]++),te},{});return this.coders.forEach((te,ie)=>{let oe=te.localName;!oe||X[oe]!==1||(oe==="length"&&(oe="_length"),Z[oe]==null&&(Z[oe]=Z[ie]))}),Object.freeze(Z)}encode(Z,X){return pack(Z,this.coders,X)}decode(Z){return Z.coerce(this.name,unpack(Z,this.coders))}}const logger$5=new Logger(version$9),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(Z){defineReadOnly(this,"coerceFunc",Z||null)}_getCoder(Z){switch(Z.baseType){case"address":return new AddressCoder(Z.name);case"bool":return new BooleanCoder(Z.name);case"string":return new StringCoder(Z.name);case"bytes":return new BytesCoder(Z.name);case"array":return new ArrayCoder(this._getCoder(Z.arrayChildren),Z.arrayLength,Z.name);case"tuple":return new TupleCoder((Z.components||[]).map(te=>this._getCoder(te)),Z.name);case"":return new NullCoder(Z.name)}let X=Z.type.match(paramTypeNumber);if(X){let te=parseInt(X[2]||"256");return(te===0||te>256||te%8!==0)&&logger$5.throwArgumentError("invalid "+X[1]+" bit length","param",Z),new NumberCoder(te/8,X[1]==="int",Z.name)}if(X=Z.type.match(paramTypeBytes),X){let te=parseInt(X[1]);return(te===0||te>32)&&logger$5.throwArgumentError("invalid bytes length","param",Z),new FixedBytesCoder(te,Z.name)}return logger$5.throwArgumentError("invalid type","type",Z.type)}_getWordSize(){return 32}_getReader(Z,X){return new Reader$2(Z,this._getWordSize(),this.coerceFunc,X)}_getWriter(){return new Writer$2(this._getWordSize())}getDefaultValue(Z){const X=Z.map(ie=>this._getCoder(ParamType.from(ie)));return new TupleCoder(X,"_").defaultValue()}encode(Z,X){Z.length!==X.length&&logger$5.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:Z.length,values:X.length},value:{types:Z,values:X}});const te=Z.map(se=>this._getCoder(ParamType.from(se))),ie=new TupleCoder(te,"_"),oe=this._getWriter();return ie.encode(oe,X),oe.data}decode(Z,X,te){const ie=Z.map(se=>this._getCoder(ParamType.from(se)));return new TupleCoder(ie,"_").decode(this._getReader(arrayify(X),te))}}const defaultAbiCoder=new AbiCoder;function id$1(L){return keccak256$1(toUtf8Bytes(L))}const logger$4=new Logger(version$9);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(Z){return!!(Z&&Z._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(L,Z){const X=new Error(`deferred error during ABI decoding triggered accessing ${L}`);return X.error=Z,X}class Interface{constructor(Z){let X=[];typeof Z=="string"?X=JSON.parse(Z):X=Z,defineReadOnly(this,"fragments",X.map(te=>Fragment.from(te)).filter(te=>te!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(te=>{let ie=null;switch(te.type){case"constructor":if(this.deploy){logger$4.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",te);return;case"function":ie=this.functions;break;case"event":ie=this.events;break;case"error":ie=this.errors;break;default:return}let oe=te.format();if(ie[oe]){logger$4.warn("duplicate definition - "+oe);return}ie[oe]=te}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(Z){Z||(Z=FormatTypes.full),Z===FormatTypes.sighash&&logger$4.throwArgumentError("interface does not support formatting sighash","format",Z);const X=this.fragments.map(te=>te.format(Z));return Z===FormatTypes.json?JSON.stringify(X.map(te=>JSON.parse(te))):X}static getAbiCoder(){return defaultAbiCoder}static getAddress(Z){return getAddress$1(Z)}static getSighash(Z){return hexDataSlice(id$1(Z.format()),0,4)}static getEventTopic(Z){return id$1(Z.format())}getFunction(Z){if(isHexString(Z)){for(const te in this.functions)if(Z===this.getSighash(te))return this.functions[te];logger$4.throwArgumentError("no matching function","sighash",Z)}if(Z.indexOf("(")===-1){const te=Z.trim(),ie=Object.keys(this.functions).filter(oe=>oe.split("(")[0]===te);return ie.length===0?logger$4.throwArgumentError("no matching function","name",te):ie.length>1&&logger$4.throwArgumentError("multiple matching functions","name",te),this.functions[ie[0]]}const X=this.functions[FunctionFragment.fromString(Z).format()];return X||logger$4.throwArgumentError("no matching function","signature",Z),X}getEvent(Z){if(isHexString(Z)){const te=Z.toLowerCase();for(const ie in this.events)if(te===this.getEventTopic(ie))return this.events[ie];logger$4.throwArgumentError("no matching event","topichash",te)}if(Z.indexOf("(")===-1){const te=Z.trim(),ie=Object.keys(this.events).filter(oe=>oe.split("(")[0]===te);return ie.length===0?logger$4.throwArgumentError("no matching event","name",te):ie.length>1&&logger$4.throwArgumentError("multiple matching events","name",te),this.events[ie[0]]}const X=this.events[EventFragment.fromString(Z).format()];return X||logger$4.throwArgumentError("no matching event","signature",Z),X}getError(Z){if(isHexString(Z)){const te=getStatic(this.constructor,"getSighash");for(const ie in this.errors){const oe=this.errors[ie];if(Z===te(oe))return this.errors[ie]}logger$4.throwArgumentError("no matching error","sighash",Z)}if(Z.indexOf("(")===-1){const te=Z.trim(),ie=Object.keys(this.errors).filter(oe=>oe.split("(")[0]===te);return ie.length===0?logger$4.throwArgumentError("no matching error","name",te):ie.length>1&&logger$4.throwArgumentError("multiple matching errors","name",te),this.errors[ie[0]]}const X=this.errors[FunctionFragment.fromString(Z).format()];return X||logger$4.throwArgumentError("no matching error","signature",Z),X}getSighash(Z){if(typeof Z=="string")try{Z=this.getFunction(Z)}catch(X){try{Z=this.getError(Z)}catch{throw X}}return getStatic(this.constructor,"getSighash")(Z)}getEventTopic(Z){return typeof Z=="string"&&(Z=this.getEvent(Z)),getStatic(this.constructor,"getEventTopic")(Z)}_decodeParams(Z,X){return this._abiCoder.decode(Z,X)}_encodeParams(Z,X){return this._abiCoder.encode(Z,X)}encodeDeploy(Z){return this._encodeParams(this.deploy.inputs,Z||[])}decodeErrorResult(Z,X){typeof Z=="string"&&(Z=this.getError(Z));const te=arrayify(X);return hexlify(te.slice(0,4))!==this.getSighash(Z)&&logger$4.throwArgumentError(`data signature does not match error ${Z.name}.`,"data",hexlify(te)),this._decodeParams(Z.inputs,te.slice(4))}encodeErrorResult(Z,X){return typeof Z=="string"&&(Z=this.getError(Z)),hexlify(concat$1([this.getSighash(Z),this._encodeParams(Z.inputs,X||[])]))}decodeFunctionData(Z,X){typeof Z=="string"&&(Z=this.getFunction(Z));const te=arrayify(X);return hexlify(te.slice(0,4))!==this.getSighash(Z)&&logger$4.throwArgumentError(`data signature does not match function ${Z.name}.`,"data",hexlify(te)),this._decodeParams(Z.inputs,te.slice(4))}encodeFunctionData(Z,X){return typeof Z=="string"&&(Z=this.getFunction(Z)),hexlify(concat$1([this.getSighash(Z),this._encodeParams(Z.inputs,X||[])]))}decodeFunctionResult(Z,X){typeof Z=="string"&&(Z=this.getFunction(Z));let te=arrayify(X),ie=null,oe="",se=null,ue=null,ce=null;switch(te.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(Z.outputs,te)}catch{}break;case 4:{const le=hexlify(te.slice(0,4)),de=BuiltinErrors[le];if(de)se=this._abiCoder.decode(de.inputs,te.slice(4)),ue=de.name,ce=de.signature,de.reason&&(ie=se[0]),ue==="Error"?oe=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(se[0])}`:ue==="Panic"&&(oe=`; VM Exception while processing transaction: reverted with panic code ${se[0]}`);else try{const he=this.getError(le);se=this._abiCoder.decode(he.inputs,te.slice(4)),ue=he.name,ce=he.format()}catch{}break}}return logger$4.throwError("call revert exception"+oe,Logger.errors.CALL_EXCEPTION,{method:Z.format(),data:hexlify(X),errorArgs:se,errorName:ue,errorSignature:ce,reason:ie})}encodeFunctionResult(Z,X){return typeof Z=="string"&&(Z=this.getFunction(Z)),hexlify(this._abiCoder.encode(Z.outputs,X||[]))}encodeFilterTopics(Z,X){typeof Z=="string"&&(Z=this.getEvent(Z)),X.length>Z.inputs.length&&logger$4.throwError("too many arguments for "+Z.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:X});let te=[];Z.anonymous||te.push(this.getEventTopic(Z));const ie=(oe,se)=>oe.type==="string"?id$1(se):oe.type==="bytes"?keccak256$1(hexlify(se)):(oe.type==="bool"&&typeof se=="boolean"&&(se=se?"0x01":"0x00"),oe.type.match(/^u?int/)&&(se=BigNumber.from(se).toHexString()),oe.type==="address"&&this._abiCoder.encode(["address"],[se]),hexZeroPad(hexlify(se),32));for(X.forEach((oe,se)=>{let ue=Z.inputs[se];if(!ue.indexed){oe!=null&&logger$4.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+ue.name,oe);return}oe==null?te.push(null):ue.baseType==="array"||ue.baseType==="tuple"?logger$4.throwArgumentError("filtering with tuples or arrays not supported","contract."+ue.name,oe):Array.isArray(oe)?te.push(oe.map(ce=>ie(ue,ce))):te.push(ie(ue,oe))});te.length&&te[te.length-1]===null;)te.pop();return te}encodeEventLog(Z,X){typeof Z=="string"&&(Z=this.getEvent(Z));const te=[],ie=[],oe=[];return Z.anonymous||te.push(this.getEventTopic(Z)),X.length!==Z.inputs.length&&logger$4.throwArgumentError("event arguments/values mismatch","values",X),Z.inputs.forEach((se,ue)=>{const ce=X[ue];if(se.indexed)if(se.type==="string")te.push(id$1(ce));else if(se.type==="bytes")te.push(keccak256$1(ce));else{if(se.baseType==="tuple"||se.baseType==="array")throw new Error("not implemented");te.push(this._abiCoder.encode([se.type],[ce]))}else ie.push(se),oe.push(ce)}),{data:this._abiCoder.encode(ie,oe),topics:te}}decodeEventLog(Z,X,te){if(typeof Z=="string"&&(Z=this.getEvent(Z)),te!=null&&!Z.anonymous){let ge=this.getEventTopic(Z);(!isHexString(te[0],32)||te[0].toLowerCase()!==ge)&&logger$4.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:ge,value:te[0]}),te=te.slice(1)}let ie=[],oe=[],se=[];Z.inputs.forEach((ge,_e)=>{ge.indexed?ge.type==="string"||ge.type==="bytes"||ge.baseType==="tuple"||ge.baseType==="array"?(ie.push(ParamType.fromObject({type:"bytes32",name:ge.name})),se.push(!0)):(ie.push(ge),se.push(!1)):(oe.push(ge),se.push(!1))});let ue=te!=null?this._abiCoder.decode(ie,concat$1(te)):null,ce=this._abiCoder.decode(oe,X,!0),le=[],de=0,he=0;Z.inputs.forEach((ge,_e)=>{if(ge.indexed)if(ue==null)le[_e]=new Indexed({_isIndexed:!0,hash:null});else if(se[_e])le[_e]=new Indexed({_isIndexed:!0,hash:ue[he++]});else try{le[_e]=ue[he++]}catch(Ae){le[_e]=Ae}else try{le[_e]=ce[de++]}catch(Ae){le[_e]=Ae}if(ge.name&&le[ge.name]==null){const Ae=le[_e];Ae instanceof Error?Object.defineProperty(le,ge.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(ge.name)}`,Ae)}}):le[ge.name]=Ae}});for(let ge=0;ge<le.length;ge++){const _e=le[ge];_e instanceof Error&&Object.defineProperty(le,ge,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${ge}`,_e)}})}return Object.freeze(le)}parseTransaction(Z){let X=this.getFunction(Z.data.substring(0,10).toLowerCase());return X?new TransactionDescription({args:this._abiCoder.decode(X.inputs,"0x"+Z.data.substring(10)),functionFragment:X,name:X.name,signature:X.format(),sighash:this.getSighash(X),value:BigNumber.from(Z.value||"0")}):null}parseLog(Z){let X=this.getEvent(Z.topics[0]);return!X||X.anonymous?null:new LogDescription({eventFragment:X,name:X.name,signature:X.format(),topic:this.getEventTopic(X),args:this.decodeEventLog(X,Z.data,Z.topics)})}parseError(Z){const X=hexlify(Z);let te=this.getError(X.substring(0,10).toLowerCase());return te?new ErrorDescription({args:this._abiCoder.decode(te.inputs,"0x"+X.substring(10)),errorFragment:te,name:te.name,signature:te.format(),sighash:this.getSighash(te)}):null}static isInterface(Z){return!!(Z&&Z._isInterface)}}const version$5="abstract-provider/5.7.0";var __awaiter$2=globalThis&&globalThis.__awaiter||function(L,Z,X,te){function ie(oe){return oe instanceof X?oe:new X(function(se){se(oe)})}return new(X||(X=Promise))(function(oe,se){function ue(de){try{le(te.next(de))}catch(he){se(he)}}function ce(de){try{le(te.throw(de))}catch(he){se(he)}}function le(de){de.done?oe(de.value):ie(de.value).then(ue,ce)}le((te=te.apply(L,Z||[])).next())})};const logger$3=new Logger(version$5);class Provider{constructor(){logger$3.checkAbstract(new.target,Provider),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$2(this,void 0,void 0,function*(){const{block:Z,gasPrice:X}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(se=>null)});let te=null,ie=null,oe=null;return Z&&Z.baseFeePerGas&&(te=Z.baseFeePerGas,oe=BigNumber.from("1500000000"),ie=Z.baseFeePerGas.mul(2).add(oe)),{lastBaseFeePerGas:te,maxFeePerGas:ie,maxPriorityFeePerGas:oe,gasPrice:X}})}addListener(Z,X){return this.on(Z,X)}removeListener(Z,X){return this.off(Z,X)}static isProvider(Z){return!!(Z&&Z._isProvider)}}const version$4="abstract-signer/5.7.0";var __awaiter$1=globalThis&&globalThis.__awaiter||function(L,Z,X,te){function ie(oe){return oe instanceof X?oe:new X(function(se){se(oe)})}return new(X||(X=Promise))(function(oe,se){function ue(de){try{le(te.next(de))}catch(he){se(he)}}function ce(de){try{le(te.throw(de))}catch(he){se(he)}}function le(de){de.done?oe(de.value):ie(de.value).then(ue,ce)}le((te=te.apply(L,Z||[])).next())})};const logger$2=new Logger(version$4),allowedTransactionKeys=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$2.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(Z){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),Z)})}getTransactionCount(Z){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),Z)})}estimateGas(Z){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const X=yield resolveProperties(this.checkTransaction(Z));return yield this.provider.estimateGas(X)})}call(Z,X){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("call");const te=yield resolveProperties(this.checkTransaction(Z));return yield this.provider.call(te,X)})}sendTransaction(Z){return __awaiter$1(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const X=yield this.populateTransaction(Z),te=yield this.signTransaction(X);return yield this.provider.sendTransaction(te)})}getChainId(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(Z){return __awaiter$1(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(Z)})}checkTransaction(Z){for(const te in Z)allowedTransactionKeys.indexOf(te)===-1&&logger$2.throwArgumentError("invalid transaction key: "+te,"transaction",Z);const X=shallowCopy(Z);return X.from==null?X.from=this.getAddress():X.from=Promise.all([Promise.resolve(X.from),this.getAddress()]).then(te=>(te[0].toLowerCase()!==te[1].toLowerCase()&&logger$2.throwArgumentError("from address mismatch","transaction",Z),te[0])),X}populateTransaction(Z){return __awaiter$1(this,void 0,void 0,function*(){const X=yield resolveProperties(this.checkTransaction(Z));X.to!=null&&(X.to=Promise.resolve(X.to).then(ie=>__awaiter$1(this,void 0,void 0,function*(){if(ie==null)return null;const oe=yield this.resolveName(ie);return oe==null&&logger$2.throwArgumentError("provided ENS name resolves to null","tx.to",ie),oe})),X.to.catch(ie=>{}));const te=X.maxFeePerGas!=null||X.maxPriorityFeePerGas!=null;if(X.gasPrice!=null&&(X.type===2||te)?logger$2.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",Z):(X.type===0||X.type===1)&&te&&logger$2.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",Z),(X.type===2||X.type==null)&&X.maxFeePerGas!=null&&X.maxPriorityFeePerGas!=null)X.type=2;else if(X.type===0||X.type===1)X.gasPrice==null&&(X.gasPrice=this.getGasPrice());else{const ie=yield this.getFeeData();if(X.type==null)if(ie.maxFeePerGas!=null&&ie.maxPriorityFeePerGas!=null)if(X.type=2,X.gasPrice!=null){const oe=X.gasPrice;delete X.gasPrice,X.maxFeePerGas=oe,X.maxPriorityFeePerGas=oe}else X.maxFeePerGas==null&&(X.maxFeePerGas=ie.maxFeePerGas),X.maxPriorityFeePerGas==null&&(X.maxPriorityFeePerGas=ie.maxPriorityFeePerGas);else ie.gasPrice!=null?(te&&logger$2.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),X.gasPrice==null&&(X.gasPrice=ie.gasPrice),X.type=0):logger$2.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else X.type===2&&(X.maxFeePerGas==null&&(X.maxFeePerGas=ie.maxFeePerGas),X.maxPriorityFeePerGas==null&&(X.maxPriorityFeePerGas=ie.maxPriorityFeePerGas))}return X.nonce==null&&(X.nonce=this.getTransactionCount("pending")),X.gasLimit==null&&(X.gasLimit=this.estimateGas(X).catch(ie=>{if(forwardErrors.indexOf(ie.code)>=0)throw ie;return logger$2.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:ie,tx:X})})),X.chainId==null?X.chainId=this.getChainId():X.chainId=Promise.all([Promise.resolve(X.chainId),this.getChainId()]).then(ie=>(ie[1]!==0&&ie[0]!==ie[1]&&logger$2.throwArgumentError("chainId address mismatch","transaction",Z),ie[0])),yield resolveProperties(X)})}_checkProvider(Z){this.provider||logger$2.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:Z||"_checkProvider"})}static isSigner(Z){return!!(Z&&Z._isSigner)}}class VoidSigner extends Signer{constructor(Z,X){super(),defineReadOnly(this,"address",Z),defineReadOnly(this,"provider",X||null)}getAddress(){return Promise.resolve(this.address)}_fail(Z,X){return Promise.resolve().then(()=>{logger$2.throwError(Z,Logger.errors.UNSUPPORTED_OPERATION,{operation:X})})}signMessage(Z){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(Z){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(Z,X,te){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(Z){return new VoidSigner(this.address,Z)}}const version$3="transactions/5.7.0",logger$1=new Logger(version$3);var TransactionTypes;(function(L){L[L.legacy=0]="legacy",L[L.eip2930=1]="eip2930",L[L.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function accessSetify(L,Z){return{address:getAddress$1(L),storageKeys:(Z||[]).map((X,te)=>(hexDataLength(X)!==32&&logger$1.throwArgumentError("invalid access list storageKey",`accessList[${L}:${te}]`,X),X.toLowerCase()))}}function accessListify(L){if(Array.isArray(L))return L.map((X,te)=>Array.isArray(X)?(X.length>2&&logger$1.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${te}]`,X),accessSetify(X[0],X[1])):accessSetify(X.address,X.storageKeys));const Z=Object.keys(L).map(X=>{const te=L[X].reduce((ie,oe)=>(ie[oe]=!0,ie),{});return accessSetify(X,Object.keys(te).sort())});return Z.sort((X,te)=>X.address.localeCompare(te.address)),Z}const version$2="contracts/5.7.0";var __awaiter=globalThis&&globalThis.__awaiter||function(L,Z,X,te){function ie(oe){return oe instanceof X?oe:new X(function(se){se(oe)})}return new(X||(X=Promise))(function(oe,se){function ue(de){try{le(te.next(de))}catch(he){se(he)}}function ce(de){try{le(te.throw(de))}catch(he){se(he)}}function le(de){de.done?oe(de.value):ie(de.value).then(ue,ce)}le((te=te.apply(L,Z||[])).next())})};const logger=new Logger(version$2);function resolveName(L,Z){return __awaiter(this,void 0,void 0,function*(){const X=yield Z;typeof X!="string"&&logger.throwArgumentError("invalid address or ENS name","name",X);try{return getAddress$1(X)}catch{}L||logger.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const te=yield L.resolveName(X);return te==null&&logger.throwArgumentError("resolver or addr is not configured for ENS name","name",X),te})}function resolveAddresses(L,Z,X){return __awaiter(this,void 0,void 0,function*(){return Array.isArray(X)?yield Promise.all(X.map((te,ie)=>resolveAddresses(L,Array.isArray(Z)?Z[ie]:Z[te.name],te))):X.type==="address"?yield resolveName(L,Z):X.type==="tuple"?yield resolveAddresses(L,Z,X.components):X.baseType==="array"?Array.isArray(Z)?yield Promise.all(Z.map(te=>resolveAddresses(L,te,X.arrayChildren))):Promise.reject(logger.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:Z})):Z})}function populateTransaction(L,Z,X){return __awaiter(this,void 0,void 0,function*(){let te={};X.length===Z.inputs.length+1&&typeof X[X.length-1]=="object"&&(te=shallowCopy(X.pop())),logger.checkArgumentCount(X.length,Z.inputs.length,"passed to contract"),L.signer?te.from?te.from=resolveProperties({override:resolveName(L.signer,te.from),signer:L.signer.getAddress()}).then(le=>__awaiter(this,void 0,void 0,function*(){return getAddress$1(le.signer)!==le.override&&logger.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),le.override})):te.from=L.signer.getAddress():te.from&&(te.from=resolveName(L.provider,te.from));const ie=yield resolveProperties({args:resolveAddresses(L.signer||L.provider,X,Z.inputs),address:L.resolvedAddress,overrides:resolveProperties(te)||{}}),oe=L.interface.encodeFunctionData(Z,ie.args),se={data:oe,to:ie.address},ue=ie.overrides;if(ue.nonce!=null&&(se.nonce=BigNumber.from(ue.nonce).toNumber()),ue.gasLimit!=null&&(se.gasLimit=BigNumber.from(ue.gasLimit)),ue.gasPrice!=null&&(se.gasPrice=BigNumber.from(ue.gasPrice)),ue.maxFeePerGas!=null&&(se.maxFeePerGas=BigNumber.from(ue.maxFeePerGas)),ue.maxPriorityFeePerGas!=null&&(se.maxPriorityFeePerGas=BigNumber.from(ue.maxPriorityFeePerGas)),ue.from!=null&&(se.from=ue.from),ue.type!=null&&(se.type=ue.type),ue.accessList!=null&&(se.accessList=accessListify(ue.accessList)),se.gasLimit==null&&Z.gas!=null){let le=21e3;const de=arrayify(oe);for(let he=0;he<de.length;he++)le+=4,de[he]&&(le+=64);se.gasLimit=BigNumber.from(Z.gas).add(le)}if(ue.value){const le=BigNumber.from(ue.value);!le.isZero()&&!Z.payable&&logger.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:te.value}),se.value=le}ue.customData&&(se.customData=shallowCopy(ue.customData)),ue.ccipReadEnabled&&(se.ccipReadEnabled=!!ue.ccipReadEnabled),delete te.nonce,delete te.gasLimit,delete te.gasPrice,delete te.from,delete te.value,delete te.type,delete te.accessList,delete te.maxFeePerGas,delete te.maxPriorityFeePerGas,delete te.customData,delete te.ccipReadEnabled;const ce=Object.keys(te).filter(le=>te[le]!=null);return ce.length&&logger.throwError(`cannot override ${ce.map(le=>JSON.stringify(le)).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:ce}),se})}function buildPopulate(L,Z){return function(...X){return populateTransaction(L,Z,X)}}function buildEstimate(L,Z){const X=L.signer||L.provider;return function(...te){return __awaiter(this,void 0,void 0,function*(){X||logger.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const ie=yield populateTransaction(L,Z,te);return yield X.estimateGas(ie)})}}function addContractWait(L,Z){const X=Z.wait.bind(Z);Z.wait=te=>X(te).then(ie=>(ie.events=ie.logs.map(oe=>{let se=deepCopy(oe),ue=null;try{ue=L.interface.parseLog(oe)}catch{}return ue&&(se.args=ue.args,se.decode=(ce,le)=>L.interface.decodeEventLog(ue.eventFragment,ce,le),se.event=ue.name,se.eventSignature=ue.signature),se.removeListener=()=>L.provider,se.getBlock=()=>L.provider.getBlock(ie.blockHash),se.getTransaction=()=>L.provider.getTransaction(ie.transactionHash),se.getTransactionReceipt=()=>Promise.resolve(ie),se}),ie))}function buildCall(L,Z,X){const te=L.signer||L.provider;return function(...ie){return __awaiter(this,void 0,void 0,function*(){let oe;if(ie.length===Z.inputs.length+1&&typeof ie[ie.length-1]=="object"){const ce=shallowCopy(ie.pop());ce.blockTag!=null&&(oe=yield ce.blockTag),delete ce.blockTag,ie.push(ce)}L.deployTransaction!=null&&(yield L._deployed(oe));const se=yield populateTransaction(L,Z,ie),ue=yield te.call(se,oe);try{let ce=L.interface.decodeFunctionResult(Z,ue);return X&&Z.outputs.length===1&&(ce=ce[0]),ce}catch(ce){throw ce.code===Logger.errors.CALL_EXCEPTION&&(ce.address=L.address,ce.args=ie,ce.transaction=se),ce}})}}function buildSend(L,Z){return function(...X){return __awaiter(this,void 0,void 0,function*(){L.signer||logger.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),L.deployTransaction!=null&&(yield L._deployed());const te=yield populateTransaction(L,Z,X),ie=yield L.signer.sendTransaction(te);return addContractWait(L,ie),ie})}}function buildDefault(L,Z,X){return Z.constant?buildCall(L,Z,X):buildSend(L,Z)}function getEventTag(L){return L.address&&(L.topics==null||L.topics.length===0)?"*":(L.address||"*")+"@"+(L.topics?L.topics.map(Z=>Array.isArray(Z)?Z.join("|"):Z).join(":"):"")}class RunningEvent{constructor(Z,X){defineReadOnly(this,"tag",Z),defineReadOnly(this,"filter",X),this._listeners=[]}addListener(Z,X){this._listeners.push({listener:Z,once:X})}removeListener(Z){let X=!1;this._listeners=this._listeners.filter(te=>X||te.listener!==Z?!0:(X=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(Z=>Z.listener)}listenerCount(){return this._listeners.length}run(Z){const X=this.listenerCount();return this._listeners=this._listeners.filter(te=>{const ie=Z.slice();return setTimeout(()=>{te.listener.apply(this,ie)},0),!te.once}),X}prepareEvent(Z){}getEmit(Z){return[Z]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(Z,X,te,ie){const oe={address:Z};let se=X.getEventTopic(te);ie?(se!==ie[0]&&logger.throwArgumentError("topic mismatch","topics",ie),oe.topics=ie.slice()):oe.topics=[se],super(getEventTag(oe),oe),defineReadOnly(this,"address",Z),defineReadOnly(this,"interface",X),defineReadOnly(this,"fragment",te)}prepareEvent(Z){super.prepareEvent(Z),Z.event=this.fragment.name,Z.eventSignature=this.fragment.format(),Z.decode=(X,te)=>this.interface.decodeEventLog(this.fragment,X,te);try{Z.args=this.interface.decodeEventLog(this.fragment,Z.data,Z.topics)}catch(X){Z.args=null,Z.decodeError=X}}getEmit(Z){const X=checkResultErrors(Z.args);if(X.length)throw X[0].error;const te=(Z.args||[]).slice();return te.push(Z),te}}class WildcardRunningEvent extends RunningEvent{constructor(Z,X){super("*",{address:Z}),defineReadOnly(this,"address",Z),defineReadOnly(this,"interface",X)}prepareEvent(Z){super.prepareEvent(Z);try{const X=this.interface.parseLog(Z);Z.event=X.name,Z.eventSignature=X.signature,Z.decode=(te,ie)=>this.interface.decodeEventLog(X.eventFragment,te,ie),Z.args=X.args}catch{}}}class BaseContract{constructor(Z,X,te){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(X)),te==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(te)?(defineReadOnly(this,"provider",te.provider||null),defineReadOnly(this,"signer",te)):Provider.isProvider(te)?(defineReadOnly(this,"provider",te),defineReadOnly(this,"signer",null)):logger.throwArgumentError("invalid signer or provider","signerOrProvider",te),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const se={};Object.keys(this.interface.events).forEach(ue=>{const ce=this.interface.events[ue];defineReadOnly(this.filters,ue,(...le)=>({address:this.address,topics:this.interface.encodeFilterTopics(ce,le)})),se[ce.name]||(se[ce.name]=[]),se[ce.name].push(ue)}),Object.keys(se).forEach(ue=>{const ce=se[ue];ce.length===1?defineReadOnly(this.filters,ue,this.filters[ce[0]]):logger.warn(`Duplicate definition of ${ue} (${ce.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),Z==null&&logger.throwArgumentError("invalid contract address or ENS name","addressOrName",Z),defineReadOnly(this,"address",Z),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,Z));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress$1(Z)))}catch{logger.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(se=>{});const ie={},oe={};Object.keys(this.interface.functions).forEach(se=>{const ue=this.interface.functions[se];if(oe[se]){logger.warn(`Duplicate ABI entry for ${JSON.stringify(se)}`);return}oe[se]=!0;{const ce=ue.name;ie[`%${ce}`]||(ie[`%${ce}`]=[]),ie[`%${ce}`].push(se)}this[se]==null&&defineReadOnly(this,se,buildDefault(this,ue,!0)),this.functions[se]==null&&defineReadOnly(this.functions,se,buildDefault(this,ue,!1)),this.callStatic[se]==null&&defineReadOnly(this.callStatic,se,buildCall(this,ue,!0)),this.populateTransaction[se]==null&&defineReadOnly(this.populateTransaction,se,buildPopulate(this,ue)),this.estimateGas[se]==null&&defineReadOnly(this.estimateGas,se,buildEstimate(this,ue))}),Object.keys(ie).forEach(se=>{const ue=ie[se];if(ue.length>1)return;se=se.substring(1);const ce=ue[0];try{this[se]==null&&defineReadOnly(this,se,this[ce])}catch{}this.functions[se]==null&&defineReadOnly(this.functions,se,this.functions[ce]),this.callStatic[se]==null&&defineReadOnly(this.callStatic,se,this.callStatic[ce]),this.populateTransaction[se]==null&&defineReadOnly(this.populateTransaction,se,this.populateTransaction[ce]),this.estimateGas[se]==null&&defineReadOnly(this.estimateGas,se,this.estimateGas[ce])})}static getContractAddress(Z){return getContractAddress$1(Z)}static getInterface(Z){return Interface.isInterface(Z)?Z:new Interface(Z)}deployed(){return this._deployed()}_deployed(Z){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,Z).then(X=>(X==="0x"&&logger.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(Z){this.signer||logger.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const X=shallowCopy(Z||{});return["from","to"].forEach(function(te){X[te]!=null&&logger.throwError("cannot override "+te,Logger.errors.UNSUPPORTED_OPERATION,{operation:te})}),X.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(X))}connect(Z){typeof Z=="string"&&(Z=new VoidSigner(Z,this.provider));const X=new this.constructor(this.address,this.interface,Z);return this.deployTransaction&&defineReadOnly(X,"deployTransaction",this.deployTransaction),X}attach(Z){return new this.constructor(Z,this.interface,this.signer||this.provider)}static isIndexed(Z){return Indexed.isIndexed(Z)}_normalizeRunningEvent(Z){return this._runningEvents[Z.tag]?this._runningEvents[Z.tag]:Z}_getRunningEvent(Z){if(typeof Z=="string"){if(Z==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(Z==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(Z==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const X=this.interface.getEvent(Z);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,X))}if(Z.topics&&Z.topics.length>0){try{const te=Z.topics[0];if(typeof te!="string")throw new Error("invalid topic");const ie=this.interface.getEvent(te);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,ie,Z.topics))}catch{}const X={address:this.address,topics:Z.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag(X),X))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(Z){if(Z.listenerCount()===0){delete this._runningEvents[Z.tag];const X=this._wrappedEmits[Z.tag];X&&Z.filter&&(this.provider.off(Z.filter,X),delete this._wrappedEmits[Z.tag])}}_wrapEvent(Z,X,te){const ie=deepCopy(X);return ie.removeListener=()=>{te&&(Z.removeListener(te),this._checkRunningEvents(Z))},ie.getBlock=()=>this.provider.getBlock(X.blockHash),ie.getTransaction=()=>this.provider.getTransaction(X.transactionHash),ie.getTransactionReceipt=()=>this.provider.getTransactionReceipt(X.transactionHash),Z.prepareEvent(ie),ie}_addEventListener(Z,X,te){if(this.provider||logger.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),Z.addListener(X,te),this._runningEvents[Z.tag]=Z,!this._wrappedEmits[Z.tag]){const ie=oe=>{let se=this._wrapEvent(Z,oe,X);if(se.decodeError==null)try{const ue=Z.getEmit(se);this.emit(Z.filter,...ue)}catch(ue){se.decodeError=ue.error}Z.filter!=null&&this.emit("event",se),se.decodeError!=null&&this.emit("error",se.decodeError,se)};this._wrappedEmits[Z.tag]=ie,Z.filter!=null&&this.provider.on(Z.filter,ie)}}queryFilter(Z,X,te){const ie=this._getRunningEvent(Z),oe=shallowCopy(ie.filter);return typeof X=="string"&&isHexString(X,32)?(te!=null&&logger.throwArgumentError("cannot specify toBlock with blockhash","toBlock",te),oe.blockHash=X):(oe.fromBlock=X??0,oe.toBlock=te??"latest"),this.provider.getLogs(oe).then(se=>se.map(ue=>this._wrapEvent(ie,ue,null)))}on(Z,X){return this._addEventListener(this._getRunningEvent(Z),X,!1),this}once(Z,X){return this._addEventListener(this._getRunningEvent(Z),X,!0),this}emit(Z,...X){if(!this.provider)return!1;const te=this._getRunningEvent(Z),ie=te.run(X)>0;return this._checkRunningEvents(te),ie}listenerCount(Z){return this.provider?Z==null?Object.keys(this._runningEvents).reduce((X,te)=>X+this._runningEvents[te].listenerCount(),0):this._getRunningEvent(Z).listenerCount():0}listeners(Z){if(!this.provider)return[];if(Z==null){const X=[];for(let te in this._runningEvents)this._runningEvents[te].listeners().forEach(ie=>{X.push(ie)});return X}return this._getRunningEvent(Z).listeners()}removeAllListeners(Z){if(!this.provider)return this;if(Z==null){for(const te in this._runningEvents){const ie=this._runningEvents[te];ie.removeAllListeners(),this._checkRunningEvents(ie)}return this}const X=this._getRunningEvent(Z);return X.removeAllListeners(),this._checkRunningEvents(X),this}off(Z,X){if(!this.provider)return this;const te=this._getRunningEvent(Z);return te.removeListener(X),this._checkRunningEvents(te),this}removeListener(Z,X){return this.off(Z,X)}}class Contract extends BaseContract{}function Jr(L,Z){let X={};for(let te in L)X[te]=Z(L[te],te);return X}function lr(){return pipe(filter(L=>L!=null))}var fe$1=function(){let L=mr,Z=fr;return Z(L(32),8)+"-"+Z(L(16),4)+"-"+Z(16384|L(12),4)+"-"+Z(32768|L(14),4)+"-"+Z(L(48),12)},mr=function(L){if(L<0||L>53)return NaN;let Z=0|Math.random()*1073741824;return L>30?Z+(0|Math.random()*(1<<L-30))*1073741824:Z>>>30-L},fr=function(L,Z){let X=L.toString(16),te=Z-X.length,ie="0";for(;te>0;te>>>=1,ie+=ie)te&1&&(X=ie+X);return X};function y$3(L){return{...L,[Symbol.iterator](){return this}}}function I$4(L,Z){return y$3({next(){let{done:X,value:te}=L.next();return{done:X,value:X?te:Z(te)}}})}function z$4(L){return/^(0x)?([\da-f]{2})*$/i.test(L)}var K$2=L=>{if(!z$4(L))throw console.error("Invalid hex string",L),new Error("Invalid hex string");let Z=L.match(/[\da-f]{2}/gi);return Z?new Uint8Array(Z.map(X=>parseInt(X,16))):new Uint8Array([])};function Cr(L){if(L<2)throw new Error("Minimum size is 2");if(L>64)throw new Error("Maximum size is 64");let Z=2**(L-1)-1,X=-Z-1;return te=>{if(te=te<<0,te>Z||te<X)throw console.log("value",te,Z,X,te>Z,te<X),new Error(`Int${L} overflow`);return te<0?2**L+te:te}}Cr(32);/**
* UUID.core.js - UUID.js for Minimalists
*
* @file
* @author  LiosK
* @version v4.2.0
* @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
* @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
*/var W=(L=>(L[L.Boolean=0]="Boolean",L[L.Number=1]="Number",L[L.OptionalNumber=2]="OptionalNumber",L[L.BigInt=3]="BigInt",L[L.OptionalBigInt=4]="OptionalBigInt",L[L.String=5]="String",L[L.OptionalString=6]="OptionalString",L[L.NumberArray=7]="NumberArray",L[L.OptionalNumberArray=8]="OptionalNumberArray",L[L.BigIntArray=9]="BigIntArray",L[L.OptionalBigIntArray=10]="OptionalBigIntArray",L[L.StringArray=11]="StringArray",L[L.OptionalStringArray=12]="OptionalStringArray",L[L.Entity=13]="Entity",L[L.OptionalEntity=14]="OptionalEntity",L[L.EntityArray=15]="EntityArray",L[L.OptionalEntityArray=16]="OptionalEntityArray",L[L.T=17]="T",L[L.OptionalT=18]="OptionalT",L))(W||{}),Q=(L=>(L[L.Enter=0]="Enter",L[L.Exit=1]="Exit",L[L.Update=2]="Update",L[L.Noop=3]="Noop",L))(Q||{}),H$1=[14,16,2,8,4,10,6,12,18];function S$2(L){return Symbol.for(L)}function C$2(L){return Symbol.keyFor(L)}function $$2(L){let Z=new Map;function X(ue){let ce=Z.get(te(ue));return ce?new Set([...ce].map(C$2)):new Set}function te(ue){return Object.values(ue).join("/")}function ie(ue,ce){if(!ce)return;let le=te(ce),de=Z.get(le);de||(de=new Set,Z.set(le,de)),de.add(ue)}function oe(ue,ce){if(!ce)return;let le=te(ce),de=Z.get(le);de&&de.delete(ue)}for(let ue of b$4(L)){let ce=x$6(L,ue);ie(S$2(ue),ce)}let se=L.update$.subscribe(({entity:ue,value:ce})=>{oe(S$2(ue),ce[1]),ie(S$2(ue),ce[0])});return L.world.registerDisposer(()=>se?.unsubscribe()),{...L,getEntitiesWithValue:X}}function ne$1(L,Z){let X=x$6(Z,L);return{entity:L,component:Z,value:[X,void 0],type:X==null?3:0}}function I$3(L){return pipe(map(Z=>ne$1(Z,L)))}function B$3(L){return"getEntitiesWithValue"in L}function R$2(L,Z){return Object.keys(L.schema).every(X=>X in Z)}function h$4(L){return L.metadata?.componentName??L.metadata?.tableName??L.metadata?.tableId??L.metadata?.contractId??L.id}function Re(L,Z,X){if(Object.keys(Z).length===0)throw new Error("Component schema must have at least one key");let te=X?.id??fe$1(),ie=Jr(Z,()=>new Map),oe=new Subject,se=X?.metadata,ue={values:ie,schema:Z,id:te,update$:oe,metadata:se,entities:()=>I$4(Object.values(ie)[0].keys(),C$2),world:L};return X?.indexed&&(ue=$$2(ue)),L.registerComponent(ue),ue}function T$3(L,Z,X){let te=S$2(Z),ie=x$6(L,Z);for(let[oe,se]of Object.entries(X))L.values[oe]?L.values[oe].set(te,se):L.metadata?.tableId&&/^\d+$/.test(oe)||console.warn("Component definition for",h$4(L),"is missing key",oe,", ignoring value",se,"for entity",Z,". Existing keys: ",Object.keys(L.values));L.update$.next({entity:Z,value:[X,ie],component:L})}function je(L,Z,X,te){let ie=x$6(L,Z);if(ie===void 0){if(te===void 0)throw new Error(`Can't update component ${h$4(L)} without a current value or initial value`);T$3(L,Z,{...te,...X})}else T$3(L,Z,{...ie,...X})}function w$2(L,Z){let X=S$2(Z),te=x$6(L,Z);for(let ie of Object.keys(L.values))L.values[ie].delete(X);L.update$.next({entity:Z,value:[void 0,te],component:L})}function v$4(L,Z){let X=S$2(Z);return Object.values(L.values)[0].has(X)}function x$6(L,Z){let X={},te=S$2(Z),ie=Object.keys(L.schema);for(let oe of ie){let se=L.values[oe].get(te);if(se===void 0&&!H$1.includes(L.schema[oe]))return;X[oe]=se}return X}function De(L,Z){let X=x$6(L,Z);if(!X)throw new Error(`No value for component ${h$4(L)} on entity ${Z}`);return X}function k$2(L,Z){if(!L&&!Z)return!0;if(!L||!Z)return!1;let X=!0;for(let te of Object.keys(L))if(X=L[te]===Z[te],!X)return!1;return X}function A$3(L,Z){if(B$3(L)&&R$2(L,Z))return L.getEntitiesWithValue(Z);let X=new Set;for(let te of b$4(L)){let ie=x$6(L,te);k$2(Z,ie)&&X.add(te)}return X}function b$4(L){return L.entities()}var K$1=(L=>(L[L.Has=0]="Has",L[L.HasValue=1]="HasValue",L[L.Not=2]="Not",L[L.NotValue=3]="NotValue",L[L.ProxyRead=4]="ProxyRead",L[L.ProxyExpand=5]="ProxyExpand",L))(K$1||{});function Ft(L){return{type:0,component:L}}function Qt(L){return{type:2,component:L}}function O$3(L,Z){if(Z.type===0)return v$4(Z.component,L);if(Z.type===1)return k$2(Z.value,x$6(Z.component,L));if(Z.type===2)return!v$4(Z.component,L);if(Z.type===3)return!k$2(Z.value,x$6(Z.component,L));throw new Error("Unknown query fragment")}function fe(L){return L.type===0||L.type==1}function Y$2(L){return L.type===2||L.type==3}function Se(L){return L.type===5||L.type==4}function G$3(L,Z){return L&&fe(Z)||!L&&Y$2(Z)}function J$1(L,Z,X){let te=L,ie=!1;for(let oe=0;oe<X.depth;oe++){let se=x$6(X.component,te);if(!se)return null;let ue=se.value;if(!ue)return null;if(te=ue,ie=O$3(te,Z),G$3(ie,Z))return ie}return ie}function P$7(L,Z,X){if(X===0)return new Set;let te=A$3(Z,{value:L});if(X===1)return te;let ie=[...te].map(oe=>[...P$7(oe,Z,X-1)]).flat();return new Set([...te,...ie])}function z$3(L,Z){let X=Z?new Set([...Z]):void 0,te,ie;for(let oe=0;oe<L.length;oe++){let se=L[oe];if(Se(se))se.type===4&&(te=se),se.type===5&&(ie=se);else if(X)for(let ue of[...X]){let ce=O$3(ue,se);if(te&&te.depth>0&&!G$3(ce,se)&&(ce=J$1(ue,se,te)??ce),ce||X.delete(ue),ie&&ie.depth>0){let le=P$7(ue,ie.component,ie.depth);for(let de of le)(O$3(de,se)||te&&te.depth>0&&J$1(de,se,te))&&X.add(de)}}else{if(Y$2(se))throw new Error("First EntityQueryFragment must be Has or HasValue");if(X=se.type===0?new Set([...b$4(se.component)]):A$3(se.component,se.value),ie&&ie.depth>0)for(let ue of[...X])for(let ce of P$7(ue,ie.component,ie.depth))X.add(ce)}}return X??new Set}function V$1(L,Z){let X=Z?.runOnInit||Z?.initialSet?z$3(L,Z.initialSet):new Set,te=observable$2(X),ie=from(te).pipe(I$3(L[0].component)),oe=L.findIndex(ue=>[5,4].includes(ue.type))!==-1,se=merge(...L.map(ue=>ue.component.update$)).pipe(oe?concatMap(ue=>{let ce=z$3(L,Z?.initialSet),le=[];for(let de of te)ce.has(de)||(te.delete(de),le.push({entity:de,type:1,component:ue.component,value:[void 0,void 0]}));for(let de of ce)te.has(de)?le.push({entity:de,type:2,component:ue.component,value:[x$6(ue.component,de),void 0]}):(te.add(de),le.push({entity:de,type:0,component:ue.component,value:[x$6(ue.component,de),void 0]}));return of(...le)}):map(ue=>{if(te.has(ue.entity))return L.filter(ce=>ce.component.id===ue.component.id).every(ce=>O$3(ue.entity,ce))?{...ue,type:2}:(te.delete(ue.entity),{...ue,type:1});if(L.every(ce=>O$3(ue.entity,ce)))return te.add(ue.entity),{...ue,type:0}}),lr());return{matching:te,update$:concat$2(ie,se).pipe(share$1())}}function Yt(){let L=new Set,Z=[],X=[];function te({id:de,idSuffix:he}={}){let ge=de||L.size+(he?"-"+he:""),_e=S$2(ge);return L.add(_e),ge}function ie(){return I$4(L.values(),C$2)}function oe(de){Z.push(de)}function se(de){for(let[,he]of X.filter(ge=>!de||ge[0]===de))he();X=X.filter(he=>de&&he[0]!==de)}function ue(de,he=""){X.push([he,de])}function ce(de){let he=S$2(de);return L.has(he)}function le(de){for(let he of Z)v$4(he,de)&&w$2(he,de);L.delete(S$2(de))}return{registerEntity:te,components:Z,registerComponent:oe,dispose:se,registerDisposer:ue,hasEntity:ce,getEntities:ie,entitySymbols:L,deleteEntity:le}}var i$1=/\[\]$/;function r$3(L){return L.replace(i$1,"")}var n$1=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","address","uint8[]","uint16[]","uint24[]","uint32[]","uint40[]","uint48[]","uint56[]","uint64[]","uint72[]","uint80[]","uint88[]","uint96[]","uint104[]","uint112[]","uint120[]","uint128[]","uint136[]","uint144[]","uint152[]","uint160[]","uint168[]","uint176[]","uint184[]","uint192[]","uint200[]","uint208[]","uint216[]","uint224[]","uint232[]","uint240[]","uint248[]","uint256[]","int8[]","int16[]","int24[]","int32[]","int40[]","int48[]","int56[]","int64[]","int72[]","int80[]","int88[]","int96[]","int104[]","int112[]","int120[]","int128[]","int136[]","int144[]","int152[]","int160[]","int168[]","int176[]","int184[]","int192[]","int200[]","int208[]","int216[]","int224[]","int232[]","int240[]","int248[]","int256[]","bytes1[]","bytes2[]","bytes3[]","bytes4[]","bytes5[]","bytes6[]","bytes7[]","bytes8[]","bytes9[]","bytes10[]","bytes11[]","bytes12[]","bytes13[]","bytes14[]","bytes15[]","bytes16[]","bytes17[]","bytes18[]","bytes19[]","bytes20[]","bytes21[]","bytes22[]","bytes23[]","bytes24[]","bytes25[]","bytes26[]","bytes27[]","bytes28[]","bytes29[]","bytes30[]","bytes31[]","bytes32[]","bool[]","address[]","bytes","string"],y$2=n$1.slice(98),s$3={"uint8[]":[],"uint16[]":[],"uint24[]":[],"uint32[]":[],"uint40[]":[],"uint48[]":[],"uint56[]":[],"uint64[]":[],"uint72[]":[],"uint80[]":[],"uint88[]":[],"uint96[]":[],"uint104[]":[],"uint112[]":[],"uint120[]":[],"uint128[]":[],"uint136[]":[],"uint144[]":[],"uint152[]":[],"uint160[]":[],"uint168[]":[],"uint176[]":[],"uint184[]":[],"uint192[]":[],"uint200[]":[],"uint208[]":[],"uint216[]":[],"uint224[]":[],"uint232[]":[],"uint240[]":[],"uint248[]":[],"uint256[]":[],"int8[]":[],"int16[]":[],"int24[]":[],"int32[]":[],"int40[]":[],"int48[]":[],"int56[]":[],"int64[]":[],"int72[]":[],"int80[]":[],"int88[]":[],"int96[]":[],"int104[]":[],"int112[]":[],"int120[]":[],"int128[]":[],"int136[]":[],"int144[]":[],"int152[]":[],"int160[]":[],"int168[]":[],"int176[]":[],"int184[]":[],"int192[]":[],"int200[]":[],"int208[]":[],"int216[]":[],"int224[]":[],"int232[]":[],"int240[]":[],"int248[]":[],"int256[]":[],"bytes1[]":[],"bytes2[]":[],"bytes3[]":[],"bytes4[]":[],"bytes5[]":[],"bytes6[]":[],"bytes7[]":[],"bytes8[]":[],"bytes9[]":[],"bytes10[]":[],"bytes11[]":[],"bytes12[]":[],"bytes13[]":[],"bytes14[]":[],"bytes15[]":[],"bytes16[]":[],"bytes17[]":[],"bytes18[]":[],"bytes19[]":[],"bytes20[]":[],"bytes21[]":[],"bytes22[]":[],"bytes23[]":[],"bytes24[]":[],"bytes25[]":[],"bytes26[]":[],"bytes27[]":[],"bytes28[]":[],"bytes29[]":[],"bytes30[]":[],"bytes31[]":[],"bytes32[]":[],"bool[]":[],"address[]":[],bytes:"0x",string:""};function T$2(L){return y$2.includes(L)}var a$3={uint8:0,uint16:0,uint24:0,uint32:0,uint40:0,uint48:0,uint56:0n,uint64:0n,uint72:0n,uint80:0n,uint88:0n,uint96:0n,uint104:0n,uint112:0n,uint120:0n,uint128:0n,uint136:0n,uint144:0n,uint152:0n,uint160:0n,uint168:0n,uint176:0n,uint184:0n,uint192:0n,uint200:0n,uint208:0n,uint216:0n,uint224:0n,uint232:0n,uint240:0n,uint248:0n,uint256:0n,int8:0,int16:0,int24:0,int32:0,int40:0,int48:0,int56:0n,int64:0n,int72:0n,int80:0n,int88:0n,int96:0n,int104:0n,int112:0n,int120:0n,int128:0n,int136:0n,int144:0n,int152:0n,int160:0n,int168:0n,int176:0n,int184:0n,int192:0n,int200:0n,int208:0n,int216:0n,int224:0n,int232:0n,int240:0n,int248:0n,int256:0n,bytes1:"0x00",bytes2:"0x0000",bytes3:"0x000000",bytes4:"0x00000000",bytes5:"0x0000000000",bytes6:"0x000000000000",bytes7:"0x00000000000000",bytes8:"0x0000000000000000",bytes9:"0x000000000000000000",bytes10:"0x00000000000000000000",bytes11:"0x0000000000000000000000",bytes12:"0x000000000000000000000000",bytes13:"0x00000000000000000000000000",bytes14:"0x0000000000000000000000000000",bytes15:"0x000000000000000000000000000000",bytes16:"0x00000000000000000000000000000000",bytes17:"0x0000000000000000000000000000000000",bytes18:"0x000000000000000000000000000000000000",bytes19:"0x00000000000000000000000000000000000000",bytes20:"0x0000000000000000000000000000000000000000",bytes21:"0x000000000000000000000000000000000000000000",bytes22:"0x00000000000000000000000000000000000000000000",bytes23:"0x0000000000000000000000000000000000000000000000",bytes24:"0x000000000000000000000000000000000000000000000000",bytes25:"0x00000000000000000000000000000000000000000000000000",bytes26:"0x0000000000000000000000000000000000000000000000000000",bytes27:"0x000000000000000000000000000000000000000000000000000000",bytes28:"0x00000000000000000000000000000000000000000000000000000000",bytes29:"0x0000000000000000000000000000000000000000000000000000000000",bytes30:"0x000000000000000000000000000000000000000000000000000000000000",bytes31:"0x00000000000000000000000000000000000000000000000000000000000000",bytes32:"0x0000000000000000000000000000000000000000000000000000000000000000",bool:!1,address:"0x0000000000000000000000000000000000000000"},A$2={uint8:1,uint16:2,uint24:3,uint32:4,uint40:5,uint48:6,uint56:7,uint64:8,uint72:9,uint80:10,uint88:11,uint96:12,uint104:13,uint112:14,uint120:15,uint128:16,uint136:17,uint144:18,uint152:19,uint160:20,uint168:21,uint176:22,uint184:23,uint192:24,uint200:25,uint208:26,uint216:27,uint224:28,uint232:29,uint240:30,uint248:31,uint256:32,int8:1,int16:2,int24:3,int32:4,int40:5,int48:6,int56:7,int64:8,int72:9,int80:10,int88:11,int96:12,int104:13,int112:14,int120:15,int128:16,int136:17,int144:18,int152:19,int160:20,int168:21,int176:22,int184:23,int192:24,int200:25,int208:26,int216:27,int224:28,int232:29,int240:30,int248:31,int256:32,bytes1:1,bytes2:2,bytes3:3,bytes4:4,bytes5:5,bytes6:6,bytes7:7,bytes8:8,bytes9:9,bytes10:10,bytes11:11,bytes12:12,bytes13:13,bytes14:14,bytes15:15,bytes16:16,bytes17:17,bytes18:18,bytes19:19,bytes20:20,bytes21:21,bytes22:22,bytes23:23,bytes24:24,bytes25:25,bytes26:26,bytes27:27,bytes28:28,bytes29:29,bytes30:30,bytes31:31,bytes32:32,bool:1,address:20},P$6={...a$3,...s$3};const version$1="0.9.3";let BaseError$1=class Mr extends Error{constructor(Z,X={}){const te=X.cause instanceof Mr?X.cause.details:X.cause?.message?X.cause.message:X.details,ie=X.cause instanceof Mr&&X.cause.docsPath||X.docsPath,oe=[Z||"An error occurred.","",...X.metaMessages?[...X.metaMessages,""]:[],...ie?[`Docs: https://abitype.dev${ie}`]:[],...te?[`Details: ${te}`]:[],`Version: abitype@${version$1}`].join(`
`);super(oe),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),X.cause&&(this.cause=X.cause),this.details=te,this.docsPath=ie,this.metaMessages=X.metaMessages,this.shortMessage=Z}};function execTyped(L,Z){return L.exec(Z)?.groups}const bytesRegex$1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex$1=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,isTupleRegex=/^\(.+?\).*?$/,errorSignatureRegex=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isErrorSignature(L){return errorSignatureRegex.test(L)}function execErrorSignature(L){return execTyped(errorSignatureRegex,L)}const eventSignatureRegex=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isEventSignature(L){return eventSignatureRegex.test(L)}function execEventSignature(L){return execTyped(eventSignatureRegex,L)}const functionSignatureRegex=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function isFunctionSignature(L){return functionSignatureRegex.test(L)}function execFunctionSignature(L){return execTyped(functionSignatureRegex,L)}const structSignatureRegex=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function isStructSignature(L){return structSignatureRegex.test(L)}function execStructSignature(L){return execTyped(structSignatureRegex,L)}const constructorSignatureRegex=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function isConstructorSignature(L){return constructorSignatureRegex.test(L)}function execConstructorSignature(L){return execTyped(constructorSignatureRegex,L)}const fallbackSignatureRegex=/^fallback\(\)$/;function isFallbackSignature(L){return fallbackSignatureRegex.test(L)}const receiveSignatureRegex=/^receive\(\) external payable$/;function isReceiveSignature(L){return receiveSignatureRegex.test(L)}const modifiers=new Set(["memory","indexed","storage","calldata"]),eventModifiers=new Set(["indexed"]),functionModifiers=new Set(["calldata","memory","storage"]);class UnknownTypeError extends BaseError$1{constructor({type:Z}){super("Unknown type.",{metaMessages:[`Type "${Z}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UnknownSolidityTypeError extends BaseError$1{constructor({type:Z}){super("Unknown type.",{metaMessages:[`Type "${Z}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class InvalidAbiParametersError extends BaseError$1{constructor({params:Z}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(Z,null,2)})`,docsPath:"/api/human.html#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class InvalidParameterError extends BaseError$1{constructor({param:Z}){super("Invalid ABI parameter.",{details:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class SolidityProtectedKeywordError extends BaseError$1{constructor({param:Z,name:X}){super("Invalid ABI parameter.",{details:Z,metaMessages:[`"${X}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class InvalidModifierError extends BaseError$1{constructor({param:Z,type:X,modifier:te}){super("Invalid ABI parameter.",{details:Z,metaMessages:[`Modifier "${te}" not allowed${X?` in "${X}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class InvalidFunctionModifierError extends BaseError$1{constructor({param:Z,type:X,modifier:te}){super("Invalid ABI parameter.",{details:Z,metaMessages:[`Modifier "${te}" not allowed${X?` in "${X}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${te}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class InvalidAbiTypeParameterError extends BaseError$1{constructor({abiParameter:Z}){super("Invalid ABI parameter.",{details:JSON.stringify(Z,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class InvalidSignatureError extends BaseError$1{constructor({signature:Z,type:X}){super(`Invalid ${X} signature.`,{details:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class UnknownSignatureError extends BaseError$1{constructor({signature:Z}){super("Unknown signature.",{details:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class InvalidStructSignatureError extends BaseError$1{constructor({signature:Z}){super("Invalid struct signature.",{details:Z,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class CircularReferenceError extends BaseError$1{constructor({type:Z}){super("Circular reference detected.",{metaMessages:[`Struct "${Z}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class InvalidParenthesisError extends BaseError$1{constructor({current:Z,depth:X}){super("Unbalanced parentheses.",{metaMessages:[`"${Z.trim()}" has too many ${X>0?"opening":"closing"} parentheses.`],details:`Depth "${X}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function getParameterCacheKey(L,Z){return Z?`${Z}:${L}`:L}const parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function parseSignature(L,Z={}){if(isFunctionSignature(L)){const X=execFunctionSignature(L);if(!X)throw new InvalidSignatureError({signature:L,type:"function"});const te=splitParameters(X.parameters),ie=[],oe=te.length;for(let ue=0;ue<oe;ue++)ie.push(parseAbiParameter(te[ue],{modifiers:functionModifiers,structs:Z,type:"function"}));const se=[];if(X.returns){const ue=splitParameters(X.returns),ce=ue.length;for(let le=0;le<ce;le++)se.push(parseAbiParameter(ue[le],{modifiers:functionModifiers,structs:Z,type:"function"}))}return{name:X.name,type:"function",stateMutability:X.stateMutability??"nonpayable",inputs:ie,outputs:se}}if(isEventSignature(L)){const X=execEventSignature(L);if(!X)throw new InvalidSignatureError({signature:L,type:"event"});const te=splitParameters(X.parameters),ie=[],oe=te.length;for(let se=0;se<oe;se++)ie.push(parseAbiParameter(te[se],{modifiers:eventModifiers,structs:Z,type:"event"}));return{name:X.name,type:"event",inputs:ie}}if(isErrorSignature(L)){const X=execErrorSignature(L);if(!X)throw new InvalidSignatureError({signature:L,type:"error"});const te=splitParameters(X.parameters),ie=[],oe=te.length;for(let se=0;se<oe;se++)ie.push(parseAbiParameter(te[se],{structs:Z,type:"error"}));return{name:X.name,type:"error",inputs:ie}}if(isConstructorSignature(L)){const X=execConstructorSignature(L);if(!X)throw new InvalidSignatureError({signature:L,type:"constructor"});const te=splitParameters(X.parameters),ie=[],oe=te.length;for(let se=0;se<oe;se++)ie.push(parseAbiParameter(te[se],{structs:Z,type:"constructor"}));return{type:"constructor",stateMutability:X.stateMutability??"nonpayable",inputs:ie}}if(isFallbackSignature(L))return{type:"fallback"};if(isReceiveSignature(L))return{type:"receive",stateMutability:"payable"};throw new UnknownSignatureError({signature:L})}const abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(L,Z){const X=getParameterCacheKey(L,Z?.type);if(parameterCache.has(X))return parameterCache.get(X);const te=isTupleRegex.test(L),ie=execTyped(te?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,L);if(!ie)throw new InvalidParameterError({param:L});if(ie.name&&isSolidityKeyword(ie.name))throw new SolidityProtectedKeywordError({param:L,name:ie.name});const oe=ie.name?{name:ie.name}:{},se=ie.modifier==="indexed"?{indexed:!0}:{},ue=Z?.structs??{};let ce,le={};if(te){ce="tuple";const he=splitParameters(ie.type),ge=[],_e=he.length;for(let Ae=0;Ae<_e;Ae++)ge.push(parseAbiParameter(he[Ae],{structs:ue}));le={components:ge}}else if(ie.type in ue)ce="tuple",le={components:ue[ie.type]};else if(dynamicIntegerRegex.test(ie.type))ce=`${ie.type}256`;else if(ce=ie.type,Z?.type!=="struct"&&!isSolidityType(ce))throw new UnknownSolidityTypeError({type:ce});if(ie.modifier){if(!Z?.modifiers?.has?.(ie.modifier))throw new InvalidModifierError({param:L,type:Z?.type,modifier:ie.modifier});if(functionModifiers.has(ie.modifier)&&!isValidDataLocation(ce,!!ie.array))throw new InvalidFunctionModifierError({param:L,type:Z?.type,modifier:ie.modifier})}const de={type:`${ce}${ie.array??""}`,...oe,...se,...le};return parameterCache.set(X,de),de}function splitParameters(L,Z=[],X="",te=0){if(L===""){if(X==="")return Z;if(te!==0)throw new InvalidParenthesisError({current:X,depth:te});return Z.push(X.trim()),Z}const ie=L.length;for(let oe=0;oe<ie;oe++){const se=L[oe],ue=L.slice(oe+1);switch(se){case",":return te===0?splitParameters(ue,[...Z,X.trim()]):splitParameters(ue,Z,`${X}${se}`,te);case"(":return splitParameters(ue,Z,`${X}${se}`,te+1);case")":return splitParameters(ue,Z,`${X}${se}`,te-1);default:return splitParameters(ue,Z,`${X}${se}`,te)}}return[]}function isSolidityType(L){return L==="address"||L==="bool"||L==="function"||L==="string"||bytesRegex$1.test(L)||integerRegex$1.test(L)}const protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(L){return L==="address"||L==="bool"||L==="function"||L==="string"||L==="tuple"||bytesRegex$1.test(L)||integerRegex$1.test(L)||protectedKeywordsRegex.test(L)}function isValidDataLocation(L,Z){return Z||L==="bytes"||L==="string"||L==="tuple"}function parseStructs(L){const Z={},X=L.length;for(let se=0;se<X;se++){const ue=L[se];if(!isStructSignature(ue))continue;const ce=execStructSignature(ue);if(!ce)throw new InvalidSignatureError({signature:ue,type:"struct"});const le=ce.properties.split(";"),de=[],he=le.length;for(let ge=0;ge<he;ge++){const Ae=le[ge].trim();if(!Ae)continue;const xe=parseAbiParameter(Ae,{type:"struct"});de.push(xe)}if(!de.length)throw new InvalidStructSignatureError({signature:ue});Z[ce.name]=de}const te={},ie=Object.entries(Z),oe=ie.length;for(let se=0;se<oe;se++){const[ue,ce]=ie[se];te[ue]=resolveStructs(ce,Z)}return te}const typeWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function resolveStructs(L,Z,X=new Set){const te=[],ie=L.length;for(let oe=0;oe<ie;oe++){const se=L[oe];if(isTupleRegex.test(se.type))te.push(se);else{const ce=execTyped(typeWithoutTupleRegex,se.type);if(!ce?.type)throw new InvalidAbiTypeParameterError({abiParameter:se});const{array:le,type:de}=ce;if(de in Z){if(X.has(de))throw new CircularReferenceError({type:de});te.push({...se,type:`tuple${le??""}`,components:resolveStructs(Z[de]??[],Z,new Set([...X,de]))})}else if(isSolidityType(de))te.push(se);else throw new UnknownTypeError({type:de})}}return te}function parseAbi(L){const Z=parseStructs(L),X=[],te=L.length;for(let ie=0;ie<te;ie++){const oe=L[ie];isStructSignature(oe)||X.push(parseSignature(oe,Z))}return X}function parseAbiParameters(L){const Z=[];if(typeof L=="string"){const X=splitParameters(L),te=X.length;for(let ie=0;ie<te;ie++)Z.push(parseAbiParameter(X[ie],{modifiers}))}else{const X=parseStructs(L),te=L.length;for(let ie=0;ie<te;ie++){const oe=L[ie];if(isStructSignature(oe))continue;const se=splitParameters(oe),ue=se.length;for(let ce=0;ce<ue;ce++)Z.push(parseAbiParameter(se[ce],{modifiers,structs:X}))}}if(Z.length===0)throw new InvalidAbiParametersError({params:L});return Z}function formatAbiItem(L,{includeName:Z=!1}={}){if(L.type!=="function"&&L.type!=="event"&&L.type!=="error")throw new InvalidDefinitionTypeError(L.type);return`${L.name}(${formatAbiParams(L.inputs,{includeName:Z})})`}function formatAbiParams(L,{includeName:Z=!1}={}){return L?L.map(X=>formatAbiParam(X,{includeName:Z})).join(Z?", ":","):""}function formatAbiParam(L,{includeName:Z}){return L.type.startsWith("tuple")?`(${formatAbiParams(L.components,{includeName:Z})})${L.type.slice(5)}`:L.type+(Z&&L.name?` ${L.name}`:"")}function isHex(L,{strict:Z=!0}={}){return!L||typeof L!="string"?!1:Z?/^0x[0-9a-fA-F]*$/.test(L):L.startsWith("0x")}function size$1(L){return isHex(L,{strict:!1})?Math.ceil((L.length-2)/2):L.length}const version="1.5.4",getContractAddress=L=>L,getUrl$1=L=>L,getVersion=()=>`viem@${version}`;class BaseError extends Error{constructor(Z,X={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion()});const te=X.cause instanceof BaseError?X.cause.details:X.cause?.message?X.cause.message:X.details,ie=X.cause instanceof BaseError&&X.cause.docsPath||X.docsPath;this.message=[Z||"An error occurred.","",...X.metaMessages?[...X.metaMessages,""]:[],...ie?[`Docs: https://viem.sh${ie}.html${X.docsSlug?`#${X.docsSlug}`:""}`]:[],...te?[`Details: ${te}`]:[],`Version: ${this.version}`].join(`
`),X.cause&&(this.cause=X.cause),this.details=te,this.docsPath=ie,this.metaMessages=X.metaMessages,this.shortMessage=Z}walk(Z){return walk(this,Z)}}function walk(L,Z){return Z?.(L)?L:L&&typeof L=="object"&&"cause"in L?walk(L.cause,Z):Z?null:L}class AbiConstructorNotFoundError extends BaseError{constructor({docsPath:Z}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError{constructor({docsPath:Z}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError{constructor({data:Z,params:X,size:te}){super([`Data size of ${te} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(X,{includeName:!0})})`,`Data:   ${Z} (${te} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=Z,this.params=X,this.size=te}}class AbiDecodingZeroDataError extends BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError{constructor({expectedLength:Z,givenLength:X,type:te}){super([`ABI encoding array length mismatch for type ${te}.`,`Expected length: ${Z}`,`Given length: ${X}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError{constructor({expectedSize:Z,value:X}){super(`Size of bytes "${X}" (bytes${size$1(X)}) does not match expected size (bytes${Z}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError{constructor({expectedLength:Z,givenLength:X}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${Z}`,`Given length (values): ${X}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError{constructor(Z,{docsPath:X}){super([`Encoded error signature "${Z}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${Z}.`].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=Z}}class AbiEventSignatureEmptyTopicsError extends BaseError{constructor({docsPath:Z}){super("Cannot extract event signature from empty topics.",{docsPath:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError{constructor(Z,{docsPath:X}){super([`Encoded event signature "${Z}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${Z}.`].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError{constructor(Z,{docsPath:X}={}){super([`Event ${Z?`"${Z}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError{constructor(Z,{docsPath:X}={}){super([`Function ${Z?`"${Z}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError{constructor(Z,{docsPath:X}){super([`Function "${Z}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class BytesSizeMismatchError extends BaseError{constructor({expectedSize:Z,givenSize:X}){super(`Expected bytes${Z}, got bytes${X}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError{constructor({abiItem:Z,data:X,params:te,size:ie}){super([`Data size of ${ie} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(te,{includeName:!0})})`,`Data:   ${X} (${ie} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=Z,this.data=X,this.params=te,this.size=ie}}class DecodeLogTopicsMismatch extends BaseError{constructor({abiItem:Z,param:X}){super([`Expected a topic for indexed event parameter${X.name?` "${X.name}"`:""} on event "${formatAbiItem(Z,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=Z}}class InvalidAbiEncodingTypeError extends BaseError{constructor(Z,{docsPath:X}){super([`Type "${Z}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError{constructor(Z,{docsPath:X}){super([`Type "${Z}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:X}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError{constructor(Z){super([`Value "${Z}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError{constructor(Z){super([`"${Z}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class FilterTypeNotSupportedError extends BaseError{constructor(Z){super(`Filter type "${Z}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class SliceOffsetOutOfBoundsError extends BaseError{constructor({offset:Z,position:X,size:te}){super(`Slice ${X==="start"?"starting":"ending"} at offset "${Z}" is out-of-bounds (size: ${te}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:Z,targetSize:X,type:te}){super(`${te.charAt(0).toUpperCase()}${te.slice(1).toLowerCase()} size (${Z}) exceeds padding size (${X}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function pad(L,{dir:Z,size:X=32}={}){return typeof L=="string"?padHex(L,{dir:Z,size:X}):padBytes(L,{dir:Z,size:X})}function padHex(L,{dir:Z,size:X=32}={}){if(X===null)return L;const te=L.replace("0x","");if(te.length>X*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(te.length/2),targetSize:X,type:"hex"});return`0x${te[Z==="right"?"padEnd":"padStart"](X*2,"0")}`}function padBytes(L,{dir:Z,size:X=32}={}){if(X===null)return L;if(L.length>X)throw new SizeExceedsPaddingSizeError({size:L.length,targetSize:X,type:"bytes"});const te=new Uint8Array(X);for(let ie=0;ie<X;ie++){const oe=Z==="right";te[oe?ie:X-ie-1]=L[oe?ie:L.length-ie-1]}return te}class IntegerOutOfRangeError extends BaseError{constructor({max:Z,min:X,signed:te,size:ie,value:oe}){super(`Number "${oe}" is not in safe ${ie?`${ie*8}-bit ${te?"signed":"unsigned"} `:""}integer range ${Z?`(${X} to ${Z})`:`(above ${X})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class InvalidHexBooleanError extends BaseError{constructor(Z){super(`Hex value "${Z}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:Z,maxSize:X}){super(`Size cannot exceed ${X} bytes. Given size: ${Z} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function trim(L,{dir:Z="left"}={}){let X=typeof L=="string"?L.replace("0x",""):L,te=0;for(let ie=0;ie<X.length-1&&X[Z==="left"?ie:X.length-ie-1].toString()==="0";ie++)te++;return X=Z==="left"?X.slice(te):X.slice(0,X.length-te),typeof L=="string"?(X.length===1&&Z==="right"&&(X=`${X}0`),`0x${X.length%2===1?`0${X}`:X}`):X}function assertSize(L,{size:Z}){if(size$1(L)>Z)throw new SizeOverflowError({givenSize:size$1(L),maxSize:Z})}function hexToBigInt(L,Z={}){const{signed:X}=Z;Z.size&&assertSize(L,{size:Z.size});const te=BigInt(L);if(!X)return te;const ie=(L.length-2)/2,oe=(1n<<BigInt(ie)*8n-1n)-1n;return te<=oe?te:te-BigInt(`0x${"f".padStart(ie*2,"f")}`)-1n}function hexToBool(L,Z={}){let X=L;if(Z.size&&(assertSize(X,{size:Z.size}),X=trim(X)),trim(X)==="0x00")return!1;if(trim(X)==="0x01")return!0;throw new InvalidHexBooleanError(X)}function hexToNumber$1(L,Z={}){return Number(hexToBigInt(L,Z))}function hexToString(L,Z={}){let X=hexToBytes$1(L);return Z.size&&(assertSize(X,{size:Z.size}),X=trim(X,{dir:"right"})),new TextDecoder().decode(X)}const hexes$1=Array.from({length:256},(L,Z)=>Z.toString(16).padStart(2,"0"));function toHex(L,Z={}){return typeof L=="number"||typeof L=="bigint"?numberToHex(L,Z):typeof L=="string"?stringToHex(L,Z):typeof L=="boolean"?boolToHex(L,Z):bytesToHex$1(L,Z)}function boolToHex(L,Z={}){const X=`0x${Number(L)}`;return typeof Z.size=="number"?(assertSize(X,{size:Z.size}),pad(X,{size:Z.size})):X}function bytesToHex$1(L,Z={}){let X="";for(let ie=0;ie<L.length;ie++)X+=hexes$1[L[ie]];const te=`0x${X}`;return typeof Z.size=="number"?(assertSize(te,{size:Z.size}),pad(te,{dir:"right",size:Z.size})):te}function numberToHex(L,Z={}){const{signed:X,size:te}=Z,ie=BigInt(L);let oe;te?X?oe=(1n<<BigInt(te)*8n-1n)-1n:oe=2n**(BigInt(te)*8n)-1n:typeof L=="number"&&(oe=BigInt(Number.MAX_SAFE_INTEGER));const se=typeof oe=="bigint"&&X?-oe-1n:0;if(oe&&ie>oe||ie<se){const ce=typeof L=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:oe?`${oe}${ce}`:void 0,min:`${se}${ce}`,signed:X,size:te,value:`${L}${ce}`})}const ue=`0x${(X&&ie<0?(1n<<BigInt(te*8))+BigInt(ie):ie).toString(16)}`;return te?pad(ue,{size:te}):ue}const encoder$1=new TextEncoder;function stringToHex(L,Z={}){const X=encoder$1.encode(L);return bytesToHex$1(X,Z)}const encoder=new TextEncoder;function toBytes$2(L,Z={}){return typeof L=="number"||typeof L=="bigint"?numberToBytes(L,Z):typeof L=="boolean"?boolToBytes(L,Z):isHex(L)?hexToBytes$1(L,Z):stringToBytes(L,Z)}function boolToBytes(L,Z={}){const X=new Uint8Array(1);return X[0]=Number(L),typeof Z.size=="number"?(assertSize(X,{size:Z.size}),pad(X,{size:Z.size})):X}function hexToBytes$1(L,Z={}){let X=L;Z.size&&(assertSize(X,{size:Z.size}),X=pad(X,{dir:"right",size:Z.size}));let te=X.slice(2);te.length%2&&(te=`0${te}`);const ie=new Uint8Array(te.length/2);for(let oe=0;oe<ie.length;oe++){const se=oe*2,ue=te.slice(se,se+2),ce=Number.parseInt(ue,16);if(Number.isNaN(ce)||ce<0)throw new BaseError(`Invalid byte sequence ("${ue}" in "${te}").`);ie[oe]=ce}return ie}function numberToBytes(L,Z){const X=numberToHex(L,Z);return hexToBytes$1(X)}function stringToBytes(L,Z={}){const X=encoder.encode(L);return typeof Z.size=="number"?(assertSize(X,{size:Z.size}),pad(X,{dir:"right",size:Z.size})):X}const paramsRegex=/((function|event)\s)?(.*)(\((.*)\))/;function extractFunctionParts(L){const Z=L.match(paramsRegex),X=Z?.[2]||void 0,te=Z?.[3],ie=Z?.[5]||void 0;return{type:X,name:te,params:ie}}function extractFunctionName(L){return extractFunctionParts(L).name}function extractFunctionParams(L){return extractFunctionParts(L).params?.split(",").map(te=>te.trim().split(" "))?.map(te=>({type:te[0],name:te[1]==="indexed"?te[2]:te[1],...te[1]==="indexed"?{indexed:!0}:{}}))}function number$1(L){if(!Number.isSafeInteger(L)||L<0)throw new Error(`Wrong positive integer: ${L}`)}function bool$1(L){if(typeof L!="boolean")throw new Error(`Expected boolean, not ${L}`)}function bytes$1(L,...Z){if(!(L instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Z.length>0&&!Z.includes(L.length))throw new TypeError(`Expected Uint8Array of length ${Z}, not of length=${L.length}`)}function hash$2(L){if(typeof L!="function"||typeof L.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(L.outputLen),number$1(L.blockLen)}function exists$1(L,Z=!0){if(L.destroyed)throw new Error("Hash instance has been destroyed");if(Z&&L.finished)throw new Error("Hash#digest() has already been called")}function output$1(L,Z){bytes$1(L);const X=Z.outputLen;if(L.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}const assert$1={number:number$1,bool:bool$1,bytes:bytes$1,hash:hash$2,exists:exists$1,output:output$1},U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(L,Z=!1){return Z?{h:Number(L&U32_MASK64),l:Number(L>>_32n&U32_MASK64)}:{h:Number(L>>_32n&U32_MASK64)|0,l:Number(L&U32_MASK64)|0}}function split(L,Z=!1){let X=new Uint32Array(L.length),te=new Uint32Array(L.length);for(let ie=0;ie<L.length;ie++){const{h:oe,l:se}=fromBig(L[ie],Z);[X[ie],te[ie]]=[oe,se]}return[X,te]}const toBig=(L,Z)=>BigInt(L>>>0)<<_32n|BigInt(Z>>>0),shrSH=(L,Z,X)=>L>>>X,shrSL=(L,Z,X)=>L<<32-X|Z>>>X,rotrSH=(L,Z,X)=>L>>>X|Z<<32-X,rotrSL=(L,Z,X)=>L<<32-X|Z>>>X,rotrBH=(L,Z,X)=>L<<64-X|Z>>>X-32,rotrBL=(L,Z,X)=>L>>>X-32|Z<<64-X,rotr32H=(L,Z)=>Z,rotr32L=(L,Z)=>L,rotlSH=(L,Z,X)=>L<<X|Z>>>32-X,rotlSL=(L,Z,X)=>Z<<X|L>>>32-X,rotlBH=(L,Z,X)=>Z<<X-32|L>>>64-X,rotlBL=(L,Z,X)=>L<<X-32|Z>>>64-X;function add(L,Z,X,te){const ie=(Z>>>0)+(te>>>0);return{h:L+X+(ie/2**32|0)|0,l:ie|0}}const add3L=(L,Z,X)=>(L>>>0)+(Z>>>0)+(X>>>0),add3H=(L,Z,X,te)=>Z+X+te+(L/2**32|0)|0,add4L=(L,Z,X,te)=>(L>>>0)+(Z>>>0)+(X>>>0)+(te>>>0),add4H=(L,Z,X,te,ie)=>Z+X+te+ie+(L/2**32|0)|0,add5L=(L,Z,X,te,ie)=>(L>>>0)+(Z>>>0)+(X>>>0)+(te>>>0)+(ie>>>0),add5H=(L,Z,X,te,ie,oe)=>Z+X+te+ie+oe+(L/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32=L=>new Uint32Array(L.buffer,L.byteOffset,Math.floor(L.byteLength/4)),isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$1)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(L,Z)=>Z.toString(16).padStart(2,"0"));function utf8ToBytes$2(L){if(typeof L!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof L}`);return new TextEncoder().encode(L)}function toBytes$1(L){if(typeof L=="string"&&(L=utf8ToBytes$2(L)),!(L instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof L})`);return L}let Hash$1=class{clone(){return this._cloneInto()}};function wrapConstructor$1(L){const Z=te=>L().update(toBytes$1(te)).digest(),X=L();return Z.outputLen=X.outputLen,Z.blockLen=X.blockLen,Z.create=()=>L(),Z}function wrapConstructorWithOpts(L){const Z=(te,ie)=>L(ie).update(toBytes$1(te)).digest(),X=L({});return Z.outputLen=X.outputLen,Z.blockLen=X.blockLen,Z.create=te=>L(te),Z}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let L=0,Z=_1n$5,X=1,te=0;L<24;L++){[X,te]=[te,(2*X+3*te)%5],SHA3_PI.push(2*(5*te+X)),SHA3_ROTL.push((L+1)*(L+2)/2%64);let ie=_0n$4;for(let oe=0;oe<7;oe++)Z=(Z<<_1n$5^(Z>>_7n)*_0x71n)%_256n,Z&_2n$3&&(ie^=_1n$5<<(_1n$5<<BigInt(oe))-_1n$5);_SHA3_IOTA.push(ie)}const[SHA3_IOTA_H,SHA3_IOTA_L]=u64.split(_SHA3_IOTA,!0),rotlH=(L,Z,X)=>X>32?u64.rotlBH(L,Z,X):u64.rotlSH(L,Z,X),rotlL=(L,Z,X)=>X>32?u64.rotlBL(L,Z,X):u64.rotlSL(L,Z,X);function keccakP(L,Z=24){const X=new Uint32Array(10);for(let te=24-Z;te<24;te++){for(let se=0;se<10;se++)X[se]=L[se]^L[se+10]^L[se+20]^L[se+30]^L[se+40];for(let se=0;se<10;se+=2){const ue=(se+8)%10,ce=(se+2)%10,le=X[ce],de=X[ce+1],he=rotlH(le,de,1)^X[ue],ge=rotlL(le,de,1)^X[ue+1];for(let _e=0;_e<50;_e+=10)L[se+_e]^=he,L[se+_e+1]^=ge}let ie=L[2],oe=L[3];for(let se=0;se<24;se++){const ue=SHA3_ROTL[se],ce=rotlH(ie,oe,ue),le=rotlL(ie,oe,ue),de=SHA3_PI[se];ie=L[de],oe=L[de+1],L[de]=ce,L[de+1]=le}for(let se=0;se<50;se+=10){for(let ue=0;ue<10;ue++)X[ue]=L[se+ue];for(let ue=0;ue<10;ue++)L[se+ue]^=~X[(ue+2)%10]&X[(ue+4)%10]}L[0]^=SHA3_IOTA_H[te],L[1]^=SHA3_IOTA_L[te]}X.fill(0)}class Keccak extends Hash$1{constructor(Z,X,te,ie=!1,oe=24){if(super(),this.blockLen=Z,this.suffix=X,this.outputLen=te,this.enableXOF=ie,this.rounds=oe,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,assert$1.number(te),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(Z){assert$1.exists(this);const{blockLen:X,state:te}=this;Z=toBytes$1(Z);const ie=Z.length;for(let oe=0;oe<ie;){const se=Math.min(X-this.pos,ie-oe);for(let ue=0;ue<se;ue++)te[this.pos++]^=Z[oe++];this.pos===X&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:Z,suffix:X,pos:te,blockLen:ie}=this;Z[te]^=X,X&128&&te===ie-1&&this.keccak(),Z[ie-1]^=128,this.keccak()}writeInto(Z){assert$1.exists(this,!1),assert$1.bytes(Z),this.finish();const X=this.state,{blockLen:te}=this;for(let ie=0,oe=Z.length;ie<oe;){this.posOut>=te&&this.keccak();const se=Math.min(te-this.posOut,oe-ie);Z.set(X.subarray(this.posOut,this.posOut+se),ie),this.posOut+=se,ie+=se}return Z}xofInto(Z){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(Z)}xof(Z){return assert$1.number(Z),this.xofInto(new Uint8Array(Z))}digestInto(Z){if(assert$1.output(Z,this),this.finished)throw new Error("digest() was already called");return this.writeInto(Z),this.destroy(),Z}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(Z){const{blockLen:X,suffix:te,outputLen:ie,rounds:oe,enableXOF:se}=this;return Z||(Z=new Keccak(X,te,ie,se,oe)),Z.state32.set(this.state32),Z.pos=this.pos,Z.posOut=this.posOut,Z.finished=this.finished,Z.rounds=oe,Z.suffix=te,Z.outputLen=ie,Z.enableXOF=se,Z.destroyed=this.destroyed,Z}}const gen=(L,Z,X)=>wrapConstructor$1(()=>new Keccak(Z,L,X));gen(6,144,224/8);gen(6,136,256/8);gen(6,104,384/8);gen(6,72,512/8);gen(1,144,224/8);const keccak_256=gen(1,136,256/8);gen(1,104,384/8);gen(1,72,512/8);const genShake=(L,Z,X)=>wrapConstructorWithOpts((te={})=>new Keccak(Z,L,te.dkLen===void 0?X:te.dkLen,!0));genShake(31,168,128/8);genShake(31,136,256/8);function keccak256(L,Z){const X=Z||"hex",te=keccak_256(isHex(L,{strict:!1})?toBytes$2(L):L);return X==="bytes"?te:toHex(te)}const hash$1=L=>keccak256(toBytes$2(L));function hashFunction(L){const Z=extractFunctionName(L),X=extractFunctionParams(L)||[];return hash$1(`${Z}(${X.map(({type:te})=>te).join(",")})`)}function hashAbiItem(L){return hash$1(formatAbiItem(L))}const getEventSelector=L=>typeof L=="string"?hashFunction(L):hashAbiItem(L);class InvalidAddressError extends BaseError{constructor({address:Z}){super(`Address "${Z}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const addressRegex=/^0x[a-fA-F0-9]{40}$/;function isAddress(L){return addressRegex.test(L)}function concat(L){return typeof L[0]=="string"?concatHex(L):concatBytes$2(L)}function concatBytes$2(L){let Z=0;for(const ie of L)Z+=ie.length;const X=new Uint8Array(Z);let te=0;for(const ie of L)X.set(ie,te),te+=ie.length;return X}function concatHex(L){return`0x${L.reduce((Z,X)=>Z+X.replace("0x",""),"")}`}function slice(L,Z,X,{strict:te}={}){return isHex(L,{strict:!1})?sliceHex(L,Z,X,{strict:te}):sliceBytes(L,Z,X,{strict:te})}function assertStartOffset(L,Z){if(typeof Z=="number"&&Z>0&&Z>size$1(L)-1)throw new SliceOffsetOutOfBoundsError({offset:Z,position:"start",size:size$1(L)})}function assertEndOffset(L,Z,X){if(typeof Z=="number"&&typeof X=="number"&&size$1(L)!==X-Z)throw new SliceOffsetOutOfBoundsError({offset:X,position:"end",size:size$1(L)})}function sliceBytes(L,Z,X,{strict:te}={}){assertStartOffset(L,Z);const ie=L.slice(Z,X);return te&&assertEndOffset(ie,Z,X),ie}function sliceHex(L,Z,X,{strict:te}={}){assertStartOffset(L,Z);const ie=`0x${L.replace("0x","").slice((Z??0)*2,(X??L.length)*2)}`;return te&&assertEndOffset(ie,Z,X),ie}function encodeAbiParameters(L,Z){if(L.length!==Z.length)throw new AbiEncodingLengthMismatchError({expectedLength:L.length,givenLength:Z.length});const X=prepareParams({params:L,values:Z}),te=encodeParams(X);return te.length===0?"0x":te}function prepareParams({params:L,values:Z}){const X=[];for(let te=0;te<L.length;te++)X.push(prepareParam({param:L[te],value:Z[te]}));return X}function prepareParam({param:L,value:Z}){const X=getArrayComponents(L.type);if(X){const[te,ie]=X;return encodeArray(Z,{length:te,param:{...L,type:ie}})}if(L.type==="tuple")return encodeTuple(Z,{param:L});if(L.type==="address")return encodeAddress(Z);if(L.type==="bool")return encodeBool(Z);if(L.type.startsWith("uint")||L.type.startsWith("int")){const te=L.type.startsWith("int");return encodeNumber(Z,{signed:te})}if(L.type.startsWith("bytes"))return encodeBytes(Z,{param:L});if(L.type==="string")return encodeString(Z);throw new InvalidAbiEncodingTypeError(L.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(L){let Z=0;for(let oe=0;oe<L.length;oe++){const{dynamic:se,encoded:ue}=L[oe];se?Z+=32:Z+=size$1(ue)}const X=[],te=[];let ie=0;for(let oe=0;oe<L.length;oe++){const{dynamic:se,encoded:ue}=L[oe];se?(X.push(numberToHex(Z+ie,{size:32})),te.push(ue),ie+=size$1(ue)):X.push(ue)}return concat([...X,...te])}function encodeAddress(L){if(!isAddress(L))throw new InvalidAddressError({address:L});return{dynamic:!1,encoded:padHex(L.toLowerCase())}}function encodeArray(L,{length:Z,param:X}){const te=Z===null;if(!Array.isArray(L))throw new InvalidArrayError(L);if(!te&&L.length!==Z)throw new AbiEncodingArrayLengthMismatchError({expectedLength:Z,givenLength:L.length,type:`${X.type}[${Z}]`});let ie=!1;const oe=[];for(let se=0;se<L.length;se++){const ue=prepareParam({param:X,value:L[se]});ue.dynamic&&(ie=!0),oe.push(ue)}if(te||ie){const se=encodeParams(oe);if(te){const ue=numberToHex(oe.length,{size:32});return{dynamic:!0,encoded:oe.length>0?concat([ue,se]):ue}}if(ie)return{dynamic:!0,encoded:se}}return{dynamic:!1,encoded:concat(oe.map(({encoded:se})=>se))}}function encodeBytes(L,{param:Z}){const[,X]=Z.type.split("bytes"),te=size$1(L);if(!X){let ie=L;return te%32!==0&&(ie=padHex(ie,{dir:"right",size:Math.ceil((L.length-2)/2/32)*32})),{dynamic:!0,encoded:concat([padHex(numberToHex(te,{size:32})),ie])}}if(te!==parseInt(X))throw new AbiEncodingBytesSizeMismatchError({expectedSize:parseInt(X),value:L});return{dynamic:!1,encoded:padHex(L,{dir:"right"})}}function encodeBool(L){return{dynamic:!1,encoded:padHex(boolToHex(L))}}function encodeNumber(L,{signed:Z}){return{dynamic:!1,encoded:numberToHex(L,{size:32,signed:Z})}}function encodeString(L){const Z=stringToHex(L),X=Math.ceil(size$1(Z)/32),te=[];for(let ie=0;ie<X;ie++)te.push(padHex(slice(Z,ie*32,(ie+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat([padHex(numberToHex(size$1(Z),{size:32})),...te])}}function encodeTuple(L,{param:Z}){let X=!1;const te=[];for(let ie=0;ie<Z.components.length;ie++){const oe=Z.components[ie],se=Array.isArray(L)?ie:oe.name,ue=prepareParam({param:oe,value:L[se]});te.push(ue),ue.dynamic&&(X=!0)}return{dynamic:X,encoded:X?encodeParams(te):concat(te.map(({encoded:ie})=>ie))}}function getArrayComponents(L){const Z=L.match(/^(.*)\[(\d+)?\]$/);return Z?[Z[2]?Number(Z[2]):null,Z[1]]:void 0}function getAbiItem({abi:L,args:Z=[],name:X}){const te=L.filter(ie=>"name"in ie&&ie.name===X);if(te.length!==0){if(te.length===1)return te[0];for(const ie of te){if(!("inputs"in ie))continue;if(!Z||Z.length===0){if(!ie.inputs||ie.inputs.length===0)return ie;continue}if(!ie.inputs||ie.inputs.length===0||ie.inputs.length!==Z.length)continue;if(Z.every((se,ue)=>{const ce="inputs"in ie&&ie.inputs[ue];return ce?isArgOfType(se,ce):!1}))return ie}return te[0]}}function isArgOfType(L,Z){const X=typeof L,te=Z.type;switch(te){case"address":return isAddress(L);case"bool":return X==="boolean";case"function":return X==="string";case"string":return X==="string";default:return te==="tuple"&&"components"in Z?Object.values(Z.components).every((ie,oe)=>isArgOfType(Object.values(L)[oe],ie)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(te)?X==="number"||X==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(te)?X==="string"||L instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(te)?Array.isArray(L)&&L.every(ie=>isArgOfType(ie,{...Z,type:te.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function encodeEventTopics({abi:L,eventName:Z,args:X}){let te=L[0];if(Z&&(te=getAbiItem({abi:L,args:X,name:Z}),!te))throw new AbiEventNotFoundError(Z,{docsPath:"/docs/contract/encodeEventTopics"});if(te.type!=="event")throw new AbiEventNotFoundError(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const ie=formatAbiItem(te),oe=getEventSelector(ie);let se=[];if(X&&"inputs"in te){const ue=te.inputs?.filter(le=>"indexed"in le&&le.indexed),ce=Array.isArray(X)?X:Object.values(X).length>0?ue?.map(le=>X[le.name])??[]:[];ce.length>0&&(se=ue?.map((le,de)=>Array.isArray(ce[de])?ce[de].map((he,ge)=>encodeArg({param:le,value:ce[de][ge]})):ce[de]?encodeArg({param:le,value:ce[de]}):null)??[])}return[oe,...se]}function encodeArg({param:L,value:Z}){if(L.type==="string"||L.type==="bytes")return keccak256(toBytes$2(Z));if(L.type==="tuple"||L.type.match(/^(.*)\[(\d+)?\]$/))throw new FilterTypeNotSupportedError(L.type);return encodeAbiParameters([L],[Z])}function createFilterRequestScope(L,{method:Z}){const X={};return L.transport.type==="fallback"&&L.transport.onResponse?.(({method:te,response:ie,status:oe,transport:se})=>{oe==="success"&&Z===te&&(X[ie]=se.request)}),te=>X[te]||L.request}async function createContractEventFilter(L,{address:Z,abi:X,args:te,eventName:ie,fromBlock:oe,strict:se,toBlock:ue}){const ce=createFilterRequestScope(L,{method:"eth_newFilter"}),le=ie?encodeEventTopics({abi:X,args:te,eventName:ie}):void 0,de=await L.request({method:"eth_newFilter",params:[{address:Z,fromBlock:typeof oe=="bigint"?numberToHex(oe):oe,toBlock:typeof ue=="bigint"?numberToHex(ue):ue,topics:le}]});return{abi:X,args:te,eventName:ie,id:de,request:ce(de),strict:se,type:"event"}}function parseAccount(L){return typeof L=="string"?{address:L,type:"json-rpc"}:L}const getFunctionSelector=L=>slice(typeof L=="string"?hashFunction(L):hashAbiItem(L),0,4);function encodeFunctionData({abi:L,args:Z,functionName:X}){let te=L[0];if(X&&(te=getAbiItem({abi:L,args:Z,name:X}),!te))throw new AbiFunctionNotFoundError(X,{docsPath:"/docs/contract/encodeFunctionData"});if(te.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const ie=formatAbiItem(te),oe=getFunctionSelector(ie),se="inputs"in te&&te.inputs?encodeAbiParameters(te.inputs,Z??[]):void 0;return concatHex([oe,se??"0x"])}const panicReasons={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function checksumAddress(L,Z){const X=Z?`${Z}${L.toLowerCase()}`:L.substring(2).toLowerCase(),te=keccak256(stringToBytes(X),"bytes"),ie=(Z?X.substring(`${Z}0x`.length):X).split("");for(let oe=0;oe<40;oe+=2)te[oe>>1]>>4>=8&&ie[oe]&&(ie[oe]=ie[oe].toUpperCase()),(te[oe>>1]&15)>=8&&ie[oe+1]&&(ie[oe+1]=ie[oe+1].toUpperCase());return`0x${ie.join("")}`}function getAddress(L,Z){if(!isAddress(L))throw new InvalidAddressError({address:L});return checksumAddress(L,Z)}function decodeAbiParameters(L,Z){if(Z==="0x"&&L.length>0)throw new AbiDecodingZeroDataError;if(size$1(Z)&&size$1(Z)<32)throw new AbiDecodingDataSizeTooSmallError({data:Z,params:L,size:size$1(Z)});return decodeParams({data:Z,params:L})}function decodeParams({data:L,params:Z}){const X=[];let te=0;for(let ie=0;ie<Z.length;ie++){if(te>=size$1(L))throw new AbiDecodingDataSizeTooSmallError({data:L,params:Z,size:size$1(L)});const oe=Z[ie],{consumed:se,value:ue}=decodeParam({data:L,param:oe,position:te});X.push(ue),te+=se}return X}function decodeParam({data:L,param:Z,position:X}){const te=getArrayComponents(Z.type);if(te){const[oe,se]=te;return decodeArray(L,{length:oe,param:{...Z,type:se},position:X})}if(Z.type==="tuple")return decodeTuple(L,{param:Z,position:X});if(Z.type==="string")return decodeString(L,{position:X});if(Z.type.startsWith("bytes"))return decodeBytes(L,{param:Z,position:X});const ie=slice(L,X,X+32,{strict:!0});if(Z.type.startsWith("uint")||Z.type.startsWith("int"))return decodeNumber(ie,{param:Z});if(Z.type==="address")return decodeAddress(ie);if(Z.type==="bool")return decodeBool(ie);throw new InvalidAbiDecodingTypeError(Z.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function decodeAddress(L){return{consumed:32,value:checksumAddress(slice(L,-20))}}function decodeArray(L,{param:Z,length:X,position:te}){if(!X){const se=hexToNumber$1(slice(L,te,te+32,{strict:!0})),ue=hexToNumber$1(slice(L,se,se+32,{strict:!0}));let ce=0;const le=[];for(let de=0;de<ue;++de){const he=decodeParam({data:slice(L,se+32),param:Z,position:ce});ce+=he.consumed,le.push(he.value)}return{value:le,consumed:32}}if(hasDynamicChild(Z)){const ue=!getArrayComponents(Z.type)?.[0];let ce=0;const le=[];for(let de=0;de<X;++de){const he=hexToNumber$1(slice(L,te,te+32,{strict:!0})),ge=decodeParam({data:slice(L,he),param:Z,position:ue?ce:de*32});ce+=ge.consumed,le.push(ge.value)}return{value:le,consumed:32}}let ie=0;const oe=[];for(let se=0;se<X;++se){const ue=decodeParam({data:L,param:Z,position:te+ie});ie+=ue.consumed,oe.push(ue.value)}return{value:oe,consumed:ie}}function decodeBool(L){return{consumed:32,value:hexToBool(L)}}function decodeBytes(L,{param:Z,position:X}){const[te,ie]=Z.type.split("bytes");if(!ie){const se=hexToNumber$1(slice(L,X,X+32,{strict:!0})),ue=hexToNumber$1(slice(L,se,se+32,{strict:!0}));return ue===0?{consumed:32,value:"0x"}:{consumed:32,value:slice(L,se+32,se+32+ue,{strict:!0})}}return{consumed:32,value:slice(L,X,X+parseInt(ie),{strict:!0})}}function decodeNumber(L,{param:Z}){const X=Z.type.startsWith("int");return{consumed:32,value:parseInt(Z.type.split("int")[1]||"256")>48?hexToBigInt(L,{signed:X}):hexToNumber$1(L,{signed:X})}}function decodeString(L,{position:Z}){const X=hexToNumber$1(slice(L,Z,Z+32,{strict:!0})),te=hexToNumber$1(slice(L,X,X+32,{strict:!0}));return te===0?{consumed:32,value:""}:{consumed:32,value:hexToString(trim(slice(L,X+32,X+32+te,{strict:!0})))}}function decodeTuple(L,{param:Z,position:X}){const te=Z.components.length===0||Z.components.some(({name:se})=>!se),ie=te?[]:{};let oe=0;if(hasDynamicChild(Z)){const se=hexToNumber$1(slice(L,X,X+32,{strict:!0}));for(let ue=0;ue<Z.components.length;++ue){const ce=Z.components[ue],le=decodeParam({data:slice(L,se),param:ce,position:oe});oe+=le.consumed,ie[te?ue:ce?.name]=le.value}return{consumed:32,value:ie}}for(let se=0;se<Z.components.length;++se){const ue=Z.components[se],ce=decodeParam({data:L,param:ue,position:X+oe});oe+=ce.consumed,ie[te?se:ue?.name]=ce.value}return{consumed:oe,value:ie}}function hasDynamicChild(L){const{type:Z}=L;if(Z==="string"||Z==="bytes"||Z.endsWith("[]"))return!0;if(Z==="tuple")return L.components?.some(hasDynamicChild);const X=getArrayComponents(L.type);return!!(X&&hasDynamicChild({...L,type:X[1]}))}function decodeErrorResult({abi:L,data:Z}){const X=slice(Z,0,4);if(X==="0x")throw new AbiDecodingZeroDataError;const ie=[...L||[],solidityError,solidityPanic].find(oe=>oe.type==="error"&&X===getFunctionSelector(formatAbiItem(oe)));if(!ie)throw new AbiErrorSignatureNotFoundError(X,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:ie,args:"inputs"in ie&&ie.inputs&&ie.inputs.length>0?decodeAbiParameters(ie.inputs,slice(Z,4)):void 0,errorName:ie.name}}const stringify=(L,Z,X)=>JSON.stringify(L,(te,ie)=>{const oe=typeof ie=="bigint"?ie.toString():ie;return typeof Z=="function"?Z(te,oe):oe},X);function formatAbiItemWithArgs({abiItem:L,args:Z,includeFunctionName:X=!0,includeName:te=!1}){if("name"in L&&"inputs"in L&&L.inputs)return`${X?L.name:""}(${L.inputs.map((ie,oe)=>`${te&&ie.name?`${ie.name}: `:""}${typeof Z[oe]=="object"?stringify(Z[oe]):Z[oe]}`).join(", ")})`}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9};function formatUnits(L,Z){let X=L.toString();const te=X.startsWith("-");te&&(X=X.slice(1)),X=X.padStart(Z,"0");let[ie,oe]=[X.slice(0,X.length-Z),X.slice(X.length-Z)];return oe=oe.replace(/(0+)$/,""),`${te?"-":""}${ie||"0"}${oe?`.${oe}`:""}`}function formatEther(L,Z="wei"){return formatUnits(L,etherUnits[Z])}function formatGwei(L,Z="wei"){return formatUnits(L,gweiUnits[Z])}function prettyPrint(L){const Z=Object.entries(L).map(([te,ie])=>ie===void 0||ie===!1?null:[te,ie]).filter(Boolean),X=Z.reduce((te,[ie])=>Math.max(te,ie.length),0);return Z.map(([te,ie])=>`  ${`${te}:`.padEnd(X+1)}  ${ie}`).join(`
`)}class FeeConflictError extends BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class InvalidLegacyVError extends BaseError{constructor({v:Z}){super(`Invalid \`v\` value "${Z}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class InvalidSerializableTransactionError extends BaseError{constructor({transaction:Z}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint(Z),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class InvalidStorageKeySizeError extends BaseError{constructor({storageKey:Z}){super(`Size for storage key "${Z}" is invalid. Expected 32 bytes. Got ${Math.floor((Z.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class TransactionExecutionError extends BaseError{constructor(Z,{account:X,docsPath:te,chain:ie,data:oe,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:he,value:ge}){const _e=prettyPrint({chain:ie&&`${ie?.name} (id: ${ie?.id})`,from:X?.address,to:he,value:typeof ge<"u"&&`${formatEther(ge)} ${ie?.nativeCurrency.symbol||"ETH"}`,data:oe,gas:se,gasPrice:typeof ue<"u"&&`${formatGwei(ue)} gwei`,maxFeePerGas:typeof ce<"u"&&`${formatGwei(ce)} gwei`,maxPriorityFeePerGas:typeof le<"u"&&`${formatGwei(le)} gwei`,nonce:de});super(Z.shortMessage,{cause:Z,docsPath:te,metaMessages:[...Z.metaMessages?[...Z.metaMessages," "]:[],"Request Arguments:",_e].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=Z}}class TransactionNotFoundError extends BaseError{constructor({blockHash:Z,blockNumber:X,blockTag:te,hash:ie,index:oe}){let se="Transaction";te&&oe!==void 0&&(se=`Transaction at block time "${te}" at index "${oe}"`),Z&&oe!==void 0&&(se=`Transaction at block hash "${Z}" at index "${oe}"`),X&&oe!==void 0&&(se=`Transaction at block number "${X}" at index "${oe}"`),ie&&(se=`Transaction with hash "${ie}"`),super(`${se} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError{constructor({hash:Z}){super(`Transaction receipt with hash "${Z}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError{constructor({hash:Z}){super(`Timed out while waiting for transaction with hash "${Z}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class CallExecutionError extends BaseError{constructor(Z,{account:X,docsPath:te,chain:ie,data:oe,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:he,value:ge}){const _e=X?parseAccount(X):void 0,Ae=prettyPrint({from:_e?.address,to:he,value:typeof ge<"u"&&`${formatEther(ge)} ${ie?.nativeCurrency.symbol||"ETH"}`,data:oe,gas:se,gasPrice:typeof ue<"u"&&`${formatGwei(ue)} gwei`,maxFeePerGas:typeof ce<"u"&&`${formatGwei(ce)} gwei`,maxPriorityFeePerGas:typeof le<"u"&&`${formatGwei(le)} gwei`,nonce:de});super(Z.shortMessage,{cause:Z,docsPath:te,metaMessages:[...Z.metaMessages?[...Z.metaMessages," "]:[],"Raw Call Arguments:",Ae].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=Z}}class ContractFunctionExecutionError extends BaseError{constructor(Z,{abi:X,args:te,contractAddress:ie,docsPath:oe,functionName:se,sender:ue}){const ce=getAbiItem({abi:X,args:te,name:se}),le=ce?formatAbiItemWithArgs({abiItem:ce,args:te,includeFunctionName:!1,includeName:!1}):void 0,de=ce?formatAbiItem(ce,{includeName:!0}):void 0,he=prettyPrint({address:ie&&getContractAddress(ie),function:de,args:le&&le!=="()"&&`${[...Array(se?.length??0).keys()].map(()=>" ").join("")}${le}`,sender:ue});super(Z.shortMessage||`An unknown error occurred while executing the contract function "${se}".`,{cause:Z,docsPath:oe,metaMessages:[...Z.metaMessages?[...Z.metaMessages," "]:[],"Contract Call:",he].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=X,this.args=te,this.cause=Z,this.contractAddress=ie,this.functionName=se,this.sender=ue}}class ContractFunctionRevertedError extends BaseError{constructor({abi:Z,data:X,functionName:te,message:ie}){let oe,se,ue,ce;if(X&&X!=="0x")try{se=decodeErrorResult({abi:Z,data:X});const{abiItem:de,errorName:he,args:ge}=se;if(he==="Error")ce=ge[0];else if(he==="Panic"){const[_e]=ge;ce=panicReasons[_e]}else{const _e=de?formatAbiItem(de,{includeName:!0}):void 0,Ae=de&&ge?formatAbiItemWithArgs({abiItem:de,args:ge,includeFunctionName:!1,includeName:!1}):void 0;ue=[_e?`Error: ${_e}`:"",Ae&&Ae!=="()"?`       ${[...Array(he?.length??0).keys()].map(()=>" ").join("")}${Ae}`:""]}}catch(de){oe=de}else ie&&(ce=ie);let le;oe instanceof AbiErrorSignatureNotFoundError&&(le=oe.signature,ue=[`Unable to decode signature "${le}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${le}.`]),super(ce&&ce!=="execution reverted"||le?[`The contract function "${te}" reverted with the following ${le?"signature":"reason"}:`,ce||le].join(`
`):`The contract function "${te}" reverted.`,{cause:oe,metaMessages:ue}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=se,this.reason=ce,this.signature=le}}class ContractFunctionZeroDataError extends BaseError{constructor({functionName:Z}){super(`The contract function "${Z}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${Z}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class RawContractError extends BaseError{constructor({data:Z,message:X}){super(X||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=Z}}const EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(L,{abi:Z,address:X,args:te,docsPath:ie,functionName:oe,sender:se}){const{code:ue,data:ce,message:le,shortMessage:de}=L instanceof RawContractError?L:L instanceof BaseError?L.walk(ge=>"data"in ge)||L.walk():{};let he=L;return L instanceof AbiDecodingZeroDataError?he=new ContractFunctionZeroDataError({functionName:oe}):ue===EXECUTION_REVERTED_ERROR_CODE&&(ce||le||de)&&(he=new ContractFunctionRevertedError({abi:Z,data:typeof ce=="object"?ce.data:ce,functionName:oe,message:de??le})),new ContractFunctionExecutionError(he,{abi:Z,args:te,contractAddress:X,docsPath:ie,functionName:oe,sender:se})}class AccountNotFoundError extends BaseError{constructor({docsPath:Z}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:Z,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class EstimateGasExecutionError extends BaseError{constructor(Z,{account:X,docsPath:te,chain:ie,data:oe,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:he,value:ge}){const _e=prettyPrint({from:X?.address,to:he,value:typeof ge<"u"&&`${formatEther(ge)} ${ie?.nativeCurrency.symbol||"ETH"}`,data:oe,gas:se,gasPrice:typeof ue<"u"&&`${formatGwei(ue)} gwei`,maxFeePerGas:typeof ce<"u"&&`${formatGwei(ce)} gwei`,maxPriorityFeePerGas:typeof le<"u"&&`${formatGwei(le)} gwei`,nonce:de});super(Z.shortMessage,{cause:Z,docsPath:te,metaMessages:[...Z.metaMessages?[...Z.metaMessages," "]:[],"Estimate Gas Arguments:",_e].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=Z}}class ExecutionRevertedError extends BaseError{constructor({cause:Z,message:X}={}){const te=X?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${te?`with reason: ${te}`:"for an unknown reason"}.`,{cause:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError{constructor({cause:Z,maxFeePerGas:X}={}){super(`The fee cap (\`maxFeePerGas\`${X?` = ${formatGwei(X)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError{constructor({cause:Z,maxFeePerGas:X}={}){super(`The fee cap (\`maxFeePerGas\`${X?` = ${formatGwei(X)}`:""} gwei) cannot be lower than the block base fee.`,{cause:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError{constructor({cause:Z,nonce:X}={}){super(`Nonce provided for the transaction ${X?`(${X}) `:""}is higher than the next one expected.`,{cause:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError{constructor({cause:Z,nonce:X}={}){super([`Nonce provided for the transaction ${X?`(${X}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError{constructor({cause:Z,nonce:X}={}){super(`Nonce provided for the transaction ${X?`(${X}) `:""}exceeds the maximum allowed nonce.`,{cause:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError{constructor({cause:Z}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:Z,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class IntrinsicGasTooHighError extends BaseError{constructor({cause:Z,gas:X}={}){super(`The amount of gas ${X?`(${X}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError{constructor({cause:Z,gas:X}={}){super(`The amount of gas ${X?`(${X}) `:""}provided for the transaction is too low.`,{cause:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError{constructor({cause:Z}){super("The transaction type is not supported for this chain.",{cause:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError{constructor({cause:Z,maxPriorityFeePerGas:X,maxFeePerGas:te}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${X?` = ${formatGwei(X)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${te?` = ${formatGwei(te)} gwei`:""}).`].join(`
`),{cause:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError{constructor({cause:Z}){super(`An error occurred while executing: ${Z?.message}`,{cause:Z}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class HttpRequestError extends BaseError{constructor({body:Z,details:X,headers:te,status:ie,url:oe}){super("HTTP request failed.",{details:X,metaMessages:[ie&&`Status: ${ie}`,`URL: ${getUrl$1(oe)}`,Z&&`Request body: ${stringify(Z)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=Z,this.headers=te,this.status=ie,this.url=oe}}class WebSocketRequestError extends BaseError{constructor({body:Z,details:X,url:te}){super("WebSocket request failed.",{details:X,metaMessages:[`URL: ${getUrl$1(te)}`,`Request body: ${stringify(Z)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class RpcRequestError extends BaseError{constructor({body:Z,error:X,url:te}){super("RPC Request failed.",{cause:X,details:X.message,metaMessages:[`URL: ${getUrl$1(te)}`,`Request body: ${stringify(Z)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=X.code}}class TimeoutError extends BaseError{constructor({body:Z,url:X}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl$1(X)}`,`Request body: ${stringify(Z)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const unknownErrorCode=-1;class RpcError extends BaseError{constructor(Z,{code:X,docsPath:te,metaMessages:ie,shortMessage:oe}){super(oe,{cause:Z,docsPath:te,metaMessages:ie||Z?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=Z.name,this.code=Z instanceof RpcRequestError?Z.code:X??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(Z,X){super(Z,X),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=X.data}}class ParseRpcError extends RpcError{constructor(Z){super(Z,{code:ParseRpcError.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(Z){super(Z,{code:InvalidRequestRpcError.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(Z){super(Z,{code:MethodNotFoundRpcError.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(Z){super(Z,{code:InvalidParamsRpcError.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(Z){super(Z,{code:InternalRpcError.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(Z){super(Z,{code:InvalidInputRpcError.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(Z){super(Z,{code:ResourceNotFoundRpcError.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(Z){super(Z,{code:ResourceUnavailableRpcError.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(Z){super(Z,{code:TransactionRejectedRpcError.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(Z){super(Z,{code:MethodNotSupportedRpcError.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(Z){super(Z,{code:LimitExceededRpcError.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(Z){super(Z,{code:JsonRpcVersionUnsupportedError.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(Z){super(Z,{code:UserRejectedRequestError.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(Z){super(Z,{code:UnauthorizedProviderError.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(Z){super(Z,{code:UnsupportedProviderMethodError.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(Z){super(Z,{code:ProviderDisconnectedError.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(Z){super(Z,{code:ChainDisconnectedError.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(Z){super(Z,{code:SwitchChainError.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnknownRpcError extends RpcError{constructor(Z){super(Z,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function containsNodeError(L){return L instanceof TransactionRejectedRpcError||L instanceof InvalidInputRpcError||L instanceof RpcRequestError&&L.code===ExecutionRevertedError.code}function getNodeError(L,Z){const X=L.details.toLowerCase();return FeeCapTooHighError.nodeMessage.test(X)?new FeeCapTooHighError({cause:L,maxFeePerGas:Z?.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(X)?new FeeCapTooLowError({cause:L,maxFeePerGas:Z?.maxFeePerGas}):NonceTooHighError.nodeMessage.test(X)?new NonceTooHighError({cause:L,nonce:Z?.nonce}):NonceTooLowError.nodeMessage.test(X)?new NonceTooLowError({cause:L,nonce:Z?.nonce}):NonceMaxValueError.nodeMessage.test(X)?new NonceMaxValueError({cause:L,nonce:Z?.nonce}):InsufficientFundsError.nodeMessage.test(X)?new InsufficientFundsError({cause:L}):IntrinsicGasTooHighError.nodeMessage.test(X)?new IntrinsicGasTooHighError({cause:L,gas:Z?.gas}):IntrinsicGasTooLowError.nodeMessage.test(X)?new IntrinsicGasTooLowError({cause:L,gas:Z?.gas}):TransactionTypeNotSupportedError.nodeMessage.test(X)?new TransactionTypeNotSupportedError({cause:L}):TipAboveFeeCapError.nodeMessage.test(X)?new TipAboveFeeCapError({cause:L,maxFeePerGas:Z?.maxFeePerGas,maxPriorityFeePerGas:Z?.maxPriorityFeePerGas}):X.match(ExecutionRevertedError.nodeMessage)||"code"in L.cause&&L.cause?.code===ExecutionRevertedError.code?new ExecutionRevertedError({cause:L,message:L.cause.details||L.details}):new UnknownNodeError({cause:L.cause.cause})}function getEstimateGasError(L,{docsPath:Z,...X}){let te=L;return containsNodeError(L)&&(te=getNodeError(L,X)),new EstimateGasExecutionError(te,{docsPath:Z,...X})}function extract(L,{format:Z}){return Z?Object.keys(Z({})).reduce((te,ie)=>(L?.hasOwnProperty(ie)&&(te[ie]=L[ie]),te),{}):{}}function formatTransactionRequest(L){return{...L,gas:typeof L.gas<"u"?numberToHex(L.gas):void 0,gasPrice:typeof L.gasPrice<"u"?numberToHex(L.gasPrice):void 0,maxFeePerGas:typeof L.maxFeePerGas<"u"?numberToHex(L.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof L.maxPriorityFeePerGas<"u"?numberToHex(L.maxPriorityFeePerGas):void 0,nonce:typeof L.nonce<"u"?numberToHex(L.nonce):void 0,value:typeof L.value<"u"?numberToHex(L.value):void 0}}function assertRequest(L){const{account:Z,gasPrice:X,maxFeePerGas:te,maxPriorityFeePerGas:ie,to:oe}=L,se=Z?parseAccount(Z):void 0;if(se&&!isAddress(se.address))throw new InvalidAddressError({address:se.address});if(oe&&!isAddress(oe))throw new InvalidAddressError({address:oe});if(typeof X<"u"&&(typeof te<"u"||typeof ie<"u"))throw new FeeConflictError;if(te&&te>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:te});if(ie&&te&&ie>te)throw new TipAboveFeeCapError({maxFeePerGas:te,maxPriorityFeePerGas:ie})}class BlockNotFoundError extends BaseError{constructor({blockHash:Z,blockNumber:X}){let te="Block";Z&&(te=`Block at hash "${Z}"`),X&&(te=`Block at number "${X}"`),super(`${te} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function formatTransaction(L){const Z={...L,blockHash:L.blockHash?L.blockHash:null,blockNumber:L.blockNumber?BigInt(L.blockNumber):null,chainId:L.chainId?hexToNumber$1(L.chainId):void 0,gas:L.gas?BigInt(L.gas):void 0,gasPrice:L.gasPrice?BigInt(L.gasPrice):void 0,maxFeePerGas:L.maxFeePerGas?BigInt(L.maxFeePerGas):void 0,maxPriorityFeePerGas:L.maxPriorityFeePerGas?BigInt(L.maxPriorityFeePerGas):void 0,nonce:L.nonce?hexToNumber$1(L.nonce):void 0,to:L.to?L.to:null,transactionIndex:L.transactionIndex?Number(L.transactionIndex):null,type:L.type?transactionType[L.type]:void 0,typeHex:L.type?L.type:void 0,value:L.value?BigInt(L.value):void 0,v:L.v?BigInt(L.v):void 0};return Z.type==="legacy"&&(delete Z.accessList,delete Z.maxFeePerGas,delete Z.maxPriorityFeePerGas),Z.type==="eip2930"&&(delete Z.maxFeePerGas,delete Z.maxPriorityFeePerGas),Z}function formatBlock(L){const Z=L.transactions?.map(X=>typeof X=="string"?X:formatTransaction(X));return{...L,baseFeePerGas:L.baseFeePerGas?BigInt(L.baseFeePerGas):null,difficulty:L.difficulty?BigInt(L.difficulty):void 0,gasLimit:L.gasLimit?BigInt(L.gasLimit):void 0,gasUsed:L.gasUsed?BigInt(L.gasUsed):void 0,hash:L.hash?L.hash:null,logsBloom:L.logsBloom?L.logsBloom:null,nonce:L.nonce?L.nonce:null,number:L.number?BigInt(L.number):null,size:L.size?BigInt(L.size):void 0,timestamp:L.timestamp?BigInt(L.timestamp):void 0,transactions:Z,totalDifficulty:L.totalDifficulty?BigInt(L.totalDifficulty):null}}async function getBlock(L,{blockHash:Z,blockNumber:X,blockTag:te,includeTransactions:ie}={}){const oe=te??"latest",se=ie??!1,ue=X!==void 0?numberToHex(X):void 0;let ce=null;if(Z?ce=await L.request({method:"eth_getBlockByHash",params:[Z,se]}):ce=await L.request({method:"eth_getBlockByNumber",params:[ue||oe,se]}),!ce)throw new BlockNotFoundError({blockHash:Z,blockNumber:X});return(L.chain?.formatters?.block?.format||formatBlock)(ce)}async function getGasPrice(L){const Z=await L.request({method:"eth_gasPrice"});return BigInt(Z)}async function getTransactionCount(L,{address:Z,blockTag:X="latest",blockNumber:te}){const ie=await L.request({method:"eth_getTransactionCount",params:[Z,te?numberToHex(te):X]});return hexToNumber$1(ie)}async function prepareRequest(L,Z){const{account:X,chain:te=L.chain,gas:ie,gasPrice:oe,maxFeePerGas:se,maxPriorityFeePerGas:ue,nonce:ce}=Z;if(!X)throw new AccountNotFoundError;const le=parseAccount(X),de=await getBlock(L,{blockTag:"latest"}),he={...Z,from:le.address};if(typeof ce>"u"&&(he.nonce=await getTransactionCount(L,{address:le.address,blockTag:"pending"})),typeof de.baseFeePerGas=="bigint"&&typeof oe>"u"){let ge=1500000000n;if(typeof te?.fees?.defaultPriorityFee<"u"&&(ge=typeof te.fees.defaultPriorityFee=="bigint"?te.fees.defaultPriorityFee:await te.fees.defaultPriorityFee({block:de,request:he})),typeof se>"u")he.maxPriorityFeePerGas=ue??ge,he.maxFeePerGas=de.baseFeePerGas*120n/100n+he.maxPriorityFeePerGas;else{if(typeof ue>"u"&&se<ge)throw new BaseError("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");he.maxFeePerGas=se,he.maxPriorityFeePerGas=ue??ge}}else if(typeof oe>"u"){if(typeof se<"u"||typeof ue<"u")throw new BaseError("Chain does not support EIP-1559 fees.");he.gasPrice=await getGasPrice(L)*120n/100n}return typeof ie>"u"&&(he.gas=await estimateGas(L,{...he,account:{address:le.address,type:"json-rpc"}})),assertRequest(he),he}async function estimateGas(L,Z){const X=Z.account??L.account;if(!X)throw new AccountNotFoundError({docsPath:"/docs/actions/public/estimateGas"});const te=parseAccount(X);try{const{accessList:ie,blockNumber:oe,blockTag:se,data:ue,gas:ce,gasPrice:le,maxFeePerGas:de,maxPriorityFeePerGas:he,nonce:ge,to:_e,value:Ae,...xe}=te.type==="local"?await prepareRequest(L,Z):Z,Pe=(oe?numberToHex(oe):void 0)||se;assertRequest(Z);const Ce=L.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,Be=Ce({...extract(xe,{format:Ce}),from:te.address,accessList:ie,data:ue,gas:ce,gasPrice:le,maxFeePerGas:de,maxPriorityFeePerGas:he,nonce:ge,to:_e,value:Ae}),Ve=await L.request({method:"eth_estimateGas",params:Pe?[Be,Pe]:[Be]});return BigInt(Ve)}catch(ie){throw getEstimateGasError(ie,{...Z,account:te,chain:L.chain})}}async function estimateContractGas(L,{abi:Z,address:X,args:te,functionName:ie,...oe}){const se=encodeFunctionData({abi:Z,args:te,functionName:ie});try{return await estimateGas(L,{data:se,to:X,...oe})}catch(ue){const ce=oe.account?parseAccount(oe.account):void 0;throw getContractError(ue,{abi:Z,address:X,args:te,docsPath:"/docs/contract/estimateContractGas",functionName:ie,sender:ce?.address})}}const docsPath$2="/docs/contract/decodeFunctionResult";function decodeFunctionResult({abi:L,args:Z,functionName:X,data:te}){let ie=L[0];if(X&&(ie=getAbiItem({abi:L,args:Z,name:X}),!ie))throw new AbiFunctionNotFoundError(X,{docsPath:docsPath$2});if(ie.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$2});if(!ie.outputs)throw new AbiFunctionOutputsNotFoundError(ie.name,{docsPath:docsPath$2});const oe=decodeAbiParameters(ie.outputs,te);if(oe&&oe.length>1)return oe;if(oe&&oe.length===1)return oe[0]}const multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],universalResolverErrors=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],universalResolverResolveAbi=[...universalResolverErrors,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],universalResolverReverseAbi=[...universalResolverErrors,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],universalSignatureValidatorAbi=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],aggregate3Signature="0x82ad56cb";class ChainDoesNotSupportContract extends BaseError{constructor({blockNumber:Z,chain:X,contract:te}){super(`Chain "${X.name}" does not support contract "${te.name}".`,{metaMessages:["This could be due to any of the following:",...Z&&te.blockCreated&&te.blockCreated>Z?[`- The contract "${te.name}" was not deployed until block ${te.blockCreated} (current block ${Z}).`]:[`- The chain does not have the contract "${te.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ChainMismatchError extends BaseError{constructor({chain:Z,currentChainId:X}){super(`The current chain of the wallet (id: ${X}) does not match the target chain for the transaction (id: ${Z.id}  ${Z.name}).`,{metaMessages:[`Current Chain ID:  ${X}`,`Expected Chain ID: ${Z.id}  ${Z.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ChainNotFoundError extends BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class InvalidChainIdError extends BaseError{constructor({chainId:Z}){super(`Chain ID "${Z}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function assertCurrentChain({chain:L,currentChainId:Z}){if(!L)throw new ChainNotFoundError;if(Z!==L.id)throw new ChainMismatchError({chain:L,currentChainId:Z})}function defineChain(L,Z={}){const{fees:X=L.fees,formatters:te=L.formatters,serializers:ie=L.serializers}=Z;return{...L,fees:X,formatters:te,serializers:ie}}function getChainContractAddress({blockNumber:L,chain:Z,contract:X}){const te=Z?.contracts?.[X];if(!te)throw new ChainDoesNotSupportContract({chain:Z,contract:{name:X}});if(L&&te.blockCreated&&te.blockCreated>L)throw new ChainDoesNotSupportContract({blockNumber:L,chain:Z,contract:{name:X,blockCreated:te.blockCreated}});return te.address}function getCallError(L,{docsPath:Z,...X}){let te=L;return containsNodeError(L)&&(te=getNodeError(L,X)),new CallExecutionError(te,{docsPath:Z,...X})}const schedulerCache=new Map;function createBatchScheduler({fn:L,id:Z,shouldSplitBatch:X,wait:te=0}){const ie=async()=>{const le=ue();oe();const de=le.map(({args:he})=>he);de.length!==0&&L(de).then(he=>{le.forEach(({pendingPromise:ge},_e)=>ge.resolve?.([he[_e],he]))}).catch(he=>{le.forEach(({pendingPromise:ge})=>ge.reject?.(he))})},oe=()=>schedulerCache.delete(Z),se=()=>ue().map(({args:le})=>le),ue=()=>schedulerCache.get(Z)||[],ce=le=>schedulerCache.set(Z,[...ue(),le]);return{flush:oe,async schedule(le){const de={},he=new Promise((Ae,xe)=>{de.resolve=Ae,de.reject=xe});return X?.([...se(),le])&&ie(),ue().length>0?(ce({args:le,pendingPromise:de}),he):(ce({args:le,pendingPromise:de}),setTimeout(ie,te),he)}}}async function call(L,Z){const{account:X,batch:te=!!L.batch?.multicall,blockNumber:ie,blockTag:oe="latest",accessList:se,data:ue,gas:ce,gasPrice:le,maxFeePerGas:de,maxPriorityFeePerGas:he,nonce:ge,to:_e,value:Ae,...xe}=Z,Ie=X?parseAccount(X):void 0;try{assertRequest(Z);const Ce=(ie?numberToHex(ie):void 0)||oe,Be=L.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,Ve=Be({...extract(xe,{format:Be}),from:Ie?.address,accessList:se,data:ue,gas:ce,gasPrice:le,maxFeePerGas:de,maxPriorityFeePerGas:he,nonce:ge,to:_e,value:Ae});if(te&&shouldPerformMulticall({request:Ve}))try{return await scheduleMulticall(L,{...Ve,blockNumber:ie,blockTag:oe})}catch(Ke){if(!(Ke instanceof ClientChainNotConfiguredError)&&!(Ke instanceof ChainDoesNotSupportContract))throw Ke}const Ge=await L.request({method:"eth_call",params:Ce?[Ve,Ce]:[Ve]});return Ge==="0x"?{data:void 0}:{data:Ge}}catch(Pe){const Ce=getRevertErrorData(Pe),{offchainLookup:Be,offchainLookupSignature:Ve}=await __vitePreload(()=>import("./ccip-1c11e44a.js"),[]);if(Ce?.slice(0,10)===Ve&&_e)return{data:await Be(L,{data:Ce,to:_e})};throw getCallError(Pe,{...Z,account:Ie,chain:L.chain})}}function shouldPerformMulticall({request:L}){const{data:Z,to:X,...te}=L;return!(!Z||Z.startsWith(aggregate3Signature)||!X||Object.values(te).filter(ie=>typeof ie<"u").length>0)}async function scheduleMulticall(L,Z){const{batchSize:X=1024,wait:te=0}=typeof L.batch?.multicall=="object"?L.batch.multicall:{},{blockNumber:ie,blockTag:oe="latest",data:se,multicallAddress:ue,to:ce}=Z;let le=ue;if(!le){if(!L.chain)throw new ClientChainNotConfiguredError;le=getChainContractAddress({blockNumber:ie,chain:L.chain,contract:"multicall3"})}const he=(ie?numberToHex(ie):void 0)||oe,{schedule:ge}=createBatchScheduler({id:`${L.uid}.${he}`,wait:te,shouldSplitBatch(xe){return xe.reduce((Pe,{data:Ce})=>Pe+(Ce.length-2),0)>X*2},fn:async xe=>{const Ie=xe.map(Be=>({allowFailure:!0,callData:Be.data,target:Be.to})),Pe=encodeFunctionData({abi:multicall3Abi,args:[Ie],functionName:"aggregate3"}),Ce=await L.request({method:"eth_call",params:[{data:Pe,to:le},he]});return decodeFunctionResult({abi:multicall3Abi,args:[Ie],functionName:"aggregate3",data:Ce||"0x"})}}),[{returnData:_e,success:Ae}]=await ge({data:se,to:ce});if(!Ae)throw new RawContractError({data:_e});return _e==="0x"?{data:void 0}:{data:_e}}function getRevertErrorData(L){if(!(L instanceof BaseError))return;const Z=L.walk();return typeof Z.data=="object"?Z.data.data:Z.data}async function readContract(L,{abi:Z,address:X,args:te,functionName:ie,...oe}){const se=encodeFunctionData({abi:Z,args:te,functionName:ie});try{const{data:ue}=await call(L,{data:se,to:X,...oe});return decodeFunctionResult({abi:Z,args:te,functionName:ie,data:ue||"0x"})}catch(ue){throw getContractError(ue,{abi:Z,address:X,args:te,docsPath:"/docs/contract/readContract",functionName:ie})}}async function simulateContract(L,{abi:Z,address:X,args:te,dataSuffix:ie,functionName:oe,...se}){const ue=se.account?parseAccount(se.account):void 0,ce=encodeFunctionData({abi:Z,args:te,functionName:oe});try{const{data:le}=await call(L,{batch:!1,data:`${ce}${ie?ie.replace("0x",""):""}`,to:X,...se});return{result:decodeFunctionResult({abi:Z,args:te,functionName:oe,data:le||"0x"}),request:{abi:Z,address:X,args:te,dataSuffix:ie,functionName:oe,...se}}}catch(le){throw getContractError(le,{abi:Z,address:X,args:te,docsPath:"/docs/contract/simulateContract",functionName:oe,sender:ue?.address})}}const listenersCache=new Map,cleanupCache=new Map;let callbackCount=0;function observe(L,Z,X){const te=++callbackCount,ie=()=>listenersCache.get(L)||[],oe=()=>{const de=ie();listenersCache.set(L,de.filter(he=>he.id!==te))},se=()=>{const de=cleanupCache.get(L);ie().length===1&&de&&de(),oe()},ue=ie();if(listenersCache.set(L,[...ue,{id:te,fns:Z}]),ue&&ue.length>0)return se;const ce={};for(const de in Z)ce[de]=(...he)=>{const ge=ie();ge.length!==0&&ge.forEach(_e=>_e.fns[de]?.(...he))};const le=X(ce);return typeof le=="function"&&cleanupCache.set(L,le),se}async function wait(L){return new Promise(Z=>setTimeout(Z,L))}function poll(L,{emitOnBegin:Z,initialWaitTime:X,interval:te}){let ie=!0;const oe=()=>ie=!1;return(async()=>{let ue;Z&&(ue=await L({unpoll:oe}));const ce=await X?.(ue)??te;await wait(ce);const le=async()=>{ie&&(await L({unpoll:oe}),await wait(te),le())};le()})(),oe}const promiseCache=new Map,responseCache=new Map;function getCache(L){const Z=(ie,oe)=>({clear:()=>oe.delete(ie),get:()=>oe.get(ie),set:se=>oe.set(ie,se)}),X=Z(L,promiseCache),te=Z(L,responseCache);return{clear:()=>{X.clear(),te.clear()},promise:X,response:te}}async function withCache(L,{cacheKey:Z,cacheTime:X=1/0}){const te=getCache(Z),ie=te.response.get();if(ie&&X>0&&new Date().getTime()-ie.created.getTime()<X)return ie.data;let oe=te.promise.get();oe||(oe=L(),te.promise.set(oe));try{const se=await oe;return te.response.set({created:new Date,data:se}),se}finally{te.promise.clear()}}const cacheKey=L=>`blockNumber.${L}`;async function getBlockNumber(L,{cacheTime:Z=L.cacheTime,maxAge:X}={}){const te=await withCache(()=>L.request({method:"eth_blockNumber"}),{cacheKey:cacheKey(L.uid),cacheTime:X??Z});return BigInt(te)}const docsPath$1="/docs/contract/decodeEventLog";function decodeEventLog({abi:L,data:Z,strict:X,topics:te}){const ie=X??!0,[oe,...se]=te;if(!oe)throw new AbiEventSignatureEmptyTopicsError({docsPath:docsPath$1});const ue=L.find(Ae=>Ae.type==="event"&&oe===getEventSelector(formatAbiItem(Ae)));if(!(ue&&"name"in ue)||ue.type!=="event")throw new AbiEventSignatureNotFoundError(oe,{docsPath:docsPath$1});const{name:ce,inputs:le}=ue,de=le?.some(Ae=>!("name"in Ae&&Ae.name));let he=de?[]:{};const ge=le.filter(Ae=>"indexed"in Ae&&Ae.indexed);if(se.length>0)for(let Ae=0;Ae<ge.length;Ae++){const xe=ge[Ae],Ie=se[Ae];if(!Ie)throw new DecodeLogTopicsMismatch({abiItem:ue,param:xe});he[xe.name||Ae]=decodeTopic({param:xe,value:Ie})}const _e=le.filter(Ae=>!("indexed"in Ae&&Ae.indexed));if(_e.length>0){if(Z&&Z!=="0x")try{const Ae=decodeAbiParameters(_e,Z);if(Ae)if(de)he=[...he,...Ae];else for(let xe=0;xe<_e.length;xe++)he[_e[xe].name]=Ae[xe]}catch(Ae){if(ie)throw Ae instanceof AbiDecodingDataSizeTooSmallError?new DecodeLogDataMismatch({abiItem:ue,data:Ae.data,params:Ae.params,size:Ae.size}):Ae}else if(ie)throw new DecodeLogDataMismatch({abiItem:ue,data:"0x",params:_e,size:0})}return{eventName:ce,args:Object.values(he).length>0?he:void 0}}function decodeTopic({param:L,value:Z}){return L.type==="string"||L.type==="bytes"||L.type==="tuple"||L.type.match(/^(.*)\[(\d+)?\]$/)?Z:(decodeAbiParameters([L],Z)||[])[0]}function formatLog(L,{args:Z,eventName:X}={}){return{...L,blockHash:L.blockHash?L.blockHash:null,blockNumber:L.blockNumber?BigInt(L.blockNumber):null,logIndex:L.logIndex?Number(L.logIndex):null,transactionHash:L.transactionHash?L.transactionHash:null,transactionIndex:L.transactionIndex?Number(L.transactionIndex):null,...X?{args:Z,eventName:X}:{}}}async function getFilterChanges(L,{filter:Z}){const X="strict"in Z&&Z.strict;return(await Z.request({method:"eth_getFilterChanges",params:[Z.id]})).map(ie=>{if(typeof ie=="string")return ie;try{const{eventName:oe,args:se}="abi"in Z&&Z.abi?decodeEventLog({abi:Z.abi,data:ie.data,topics:ie.topics,strict:X}):{eventName:void 0,args:void 0};return formatLog(ie,{args:se,eventName:oe})}catch(oe){let se,ue;if(oe instanceof DecodeLogDataMismatch||oe instanceof DecodeLogTopicsMismatch){if("strict"in Z&&Z.strict)return;se=oe.abiItem.name,ue=oe.abiItem.inputs?.some(ce=>!("name"in ce&&ce.name))}return formatLog(ie,{args:ue?[]:{},eventName:se})}}).filter(Boolean)}async function getLogs(L,{address:Z,blockHash:X,fromBlock:te,toBlock:ie,event:oe,events:se,args:ue,strict:ce}={}){const le=ce??!1,de=se??(oe?[oe]:void 0);let he=[];de&&(he=[de.flatMap(_e=>encodeEventTopics({abi:[_e],eventName:_e.name,args:ue}))],oe&&(he=he[0]));let ge;return X?ge=await L.request({method:"eth_getLogs",params:[{address:Z,topics:he,blockHash:X}]}):ge=await L.request({method:"eth_getLogs",params:[{address:Z,topics:he,fromBlock:typeof te=="bigint"?numberToHex(te):te,toBlock:typeof ie=="bigint"?numberToHex(ie):ie}]}),ge.map(_e=>{try{const{eventName:Ae,args:xe}=de?decodeEventLog({abi:de,data:_e.data,topics:_e.topics,strict:le}):{eventName:void 0,args:void 0};return formatLog(_e,{args:xe,eventName:Ae})}catch(Ae){let xe,Ie;if(Ae instanceof DecodeLogDataMismatch||Ae instanceof DecodeLogTopicsMismatch){if(le)return;xe=Ae.abiItem.name,Ie=Ae.abiItem.inputs?.some(Pe=>!("name"in Pe&&Pe.name))}return formatLog(_e,{args:Ie?[]:{},eventName:xe})}}).filter(Boolean)}async function uninstallFilter(L,{filter:Z}){return Z.request({method:"eth_uninstallFilter",params:[Z.id]})}function watchContractEvent(L,{abi:Z,address:X,args:te,batch:ie=!0,eventName:oe,onError:se,onLogs:ue,poll:ce,pollingInterval:le=L.pollingInterval,strict:de}){return(typeof ce<"u"?ce:L.transport.type!=="webSocket")?(()=>{const Ae=stringify(["watchContractEvent",X,te,ie,L.uid,oe,le]),xe=de??!1;return observe(Ae,{onLogs:ue,onError:se},Ie=>{let Pe,Ce,Be=!1;const Ve=poll(async()=>{if(!Be){try{Ce=await createContractEventFilter(L,{abi:Z,address:X,args:te,eventName:oe,strict:xe})}catch{}Be=!0;return}try{let Ge;if(Ce)Ge=await getFilterChanges(L,{filter:Ce});else{const Ke=await getBlockNumber(L);Pe&&Pe!==Ke?Ge=await getLogs(L,{address:X,args:te,fromBlock:Pe+1n,toBlock:Ke,event:getAbiItem({abi:Z,name:oe})}):Ge=[],Pe=Ke}if(Ge.length===0)return;ie?Ie.onLogs(Ge):Ge.forEach(Ke=>Ie.onLogs([Ke]))}catch(Ge){Ce&&Ge instanceof InvalidInputRpcError&&(Be=!1),Ie.onError?.(Ge)}},{emitOnBegin:!0,interval:le});return async()=>{Ce&&await uninstallFilter(L,{filter:Ce}),Ve()}})})():(()=>{let Ae=!0,xe=()=>Ae=!1;return(async()=>{try{const Ie=oe?encodeEventTopics({abi:Z,eventName:oe,args:te}):[],{unsubscribe:Pe}=await L.transport.subscribe({params:["logs",{address:X,topics:Ie}],onData(Ce){if(!Ae)return;const Be=Ce.result;try{const{eventName:Ve,args:Ge}=decodeEventLog({abi:Z,data:Be.data,topics:Be.topics,strict:de}),Ke=formatLog(Be,{args:Ge,eventName:Ve});ue([Ke])}catch(Ve){let Ge,Ke;if(Ve instanceof DecodeLogDataMismatch||Ve instanceof DecodeLogTopicsMismatch){if(de)return;Ge=Ve.abiItem.name,Ke=Ve.abiItem.inputs?.some(et=>!("name"in et&&et.name))}const Je=formatLog(Be,{args:Ke?[]:{},eventName:Ge});ue([Je])}},onError(Ce){se?.(Ce)}});xe=Pe,Ae||xe()}catch(Ie){se?.(Ie)}})(),xe})()}function getTransactionError(L,{docsPath:Z,...X}){let te=L;return containsNodeError(L)&&(te=getNodeError(L,X)),new TransactionExecutionError(te,{docsPath:Z,...X})}async function getChainId(L){const Z=await L.request({method:"eth_chainId"});return hexToNumber$1(Z)}async function sendTransaction(L,Z){const{account:X=L.account,chain:te=L.chain,accessList:ie,data:oe,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:he,value:ge,..._e}=Z;if(!X)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const Ae=parseAccount(X);try{assertRequest(Z);let xe;if(te!==null&&(xe=await getChainId(L),assertCurrentChain({currentChainId:xe,chain:te})),Ae.type==="local"){const Ce=await prepareRequest(L,{account:Ae,accessList:ie,chain:te,data:oe,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:he,value:ge,..._e});xe||(xe=await getChainId(L));const Be=te?.serializers?.transaction,Ve=await Ae.signTransaction({...Ce,chainId:xe},{serializer:Be});return await L.request({method:"eth_sendRawTransaction",params:[Ve]})}const Ie=te?.formatters?.transactionRequest?.format||formatTransactionRequest,Pe=Ie({...extract(_e,{format:Ie}),accessList:ie,data:oe,from:Ae.address,gas:se,gasPrice:ue,maxFeePerGas:ce,maxPriorityFeePerGas:le,nonce:de,to:he,value:ge});return await L.request({method:"eth_sendTransaction",params:[Pe]})}catch(xe){throw getTransactionError(xe,{...Z,account:Ae,chain:Z.chain||void 0})}}async function writeContract(L,{abi:Z,address:X,args:te,dataSuffix:ie,functionName:oe,...se}){const ue=encodeFunctionData({abi:Z,args:te,functionName:oe});return await sendTransaction(L,{data:`${ue}${ie?ie.replace("0x",""):""}`,to:X,...se})}function getContract({abi:L,address:Z,publicClient:X,walletClient:te}){const ie=X!=null,oe=te!=null,se={};let ue=!1,ce=!1,le=!1;for(const de of L)if(de.type==="function"?de.stateMutability==="view"||de.stateMutability==="pure"?ue=!0:ce=!0:de.type==="event"&&(le=!0),ue&&ce&&le)break;return ie&&(ue&&(se.read=new Proxy({},{get(de,he){return(...ge)=>{const{args:_e,options:Ae}=getFunctionParameters(ge);return readContract(X,{abi:L,address:Z,functionName:he,args:_e,...Ae})}}})),ce&&(se.simulate=new Proxy({},{get(de,he){return(...ge)=>{const{args:_e,options:Ae}=getFunctionParameters(ge);return simulateContract(X,{abi:L,address:Z,functionName:he,args:_e,...Ae})}}})),le&&(se.createEventFilter=new Proxy({},{get(de,he){return(...ge)=>{const _e=L.find(Ie=>Ie.type==="event"&&Ie.name===he),{args:Ae,options:xe}=getEventParameters(ge,_e);return createContractEventFilter(X,{abi:L,address:Z,eventName:he,args:Ae,...xe})}}}),se.watchEvent=new Proxy({},{get(de,he){return(...ge)=>{const _e=L.find(Ie=>Ie.type==="event"&&Ie.name===he),{args:Ae,options:xe}=getEventParameters(ge,_e);return watchContractEvent(X,{abi:L,address:Z,eventName:he,args:Ae,...xe})}}}))),oe&&ce&&(se.write=new Proxy({},{get(de,he){return(...ge)=>{const{args:_e,options:Ae}=getFunctionParameters(ge);return writeContract(te,{abi:L,address:Z,functionName:he,args:_e,...Ae})}}})),(ie||oe)&&ce&&(se.estimateGas=new Proxy({},{get(de,he){return(...ge)=>{const{args:_e,options:Ae}=getFunctionParameters(ge);return estimateContractGas(X??te,{abi:L,address:Z,functionName:he,args:_e,...Ae,account:Ae.account??te.account})}}})),se.address=Z,se.abi=L,se}function getFunctionParameters(L){const Z=L.length&&Array.isArray(L[0]),X=Z?L[0]:[],te=(Z?L[1]:L[0])??{};return{args:X,options:te}}function getEventParameters(L,Z){let X=!1;Array.isArray(L[0])?X=!0:L.length===1?X=Z.inputs.some(oe=>oe.indexed):L.length===2&&(X=!0);const te=X?L[0]:void 0,ie=(X?L[1]:L[0])??{};return{args:te,options:ie}}async function addChain(L,{chain:Z}){const{id:X,name:te,nativeCurrency:ie,rpcUrls:oe,blockExplorers:se}=Z;await L.request({method:"wallet_addEthereumChain",params:[{chainId:numberToHex(X),chainName:te,nativeCurrency:ie,rpcUrls:oe.default.http,blockExplorerUrls:se?Object.values(se).map(({url:ue})=>ue):void 0}]})}function publicKeyToAddress(L){const Z=keccak256(`0x${L.substring(4)}`).substring(26);return checksumAddress(`0x${Z}`)}const size=256;let index=size,buffer;function uid(L=11){if(!buffer||index+L>size*2){buffer="",index=0;for(let Z=0;Z<size;Z++)buffer+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer.substring(index,index+++L)}function createClient$1(L){const{batch:Z,cacheTime:X=L.pollingInterval??4e3,key:te="base",name:ie="Base Client",pollingInterval:oe=4e3,type:se="base"}=L,ue=L.chain,ce=L.account?parseAccount(L.account):void 0,{config:le,request:de,value:he}=L.transport({chain:ue,pollingInterval:oe}),ge={...le,...he},_e={account:ce,batch:Z,cacheTime:X,chain:ue,key:te,name:ie,pollingInterval:oe,request:de,transport:ge,type:se,uid:uid()};function Ae(xe){return Ie=>{const Pe=Ie(xe);for(const Be in _e)delete Pe[Be];const Ce={...xe,...Pe};return Object.assign(Ce,{extend:Ae(Ce)})}}return Object.assign(_e,{extend:Ae(_e)})}function withRetry(L,{delay:Z=100,retryCount:X=2,shouldRetry:te=()=>!0}={}){return new Promise((ie,oe)=>{const se=async({count:ue=0}={})=>{const ce=async({error:le})=>{const de=typeof Z=="function"?Z({count:ue,error:le}):Z;de&&await wait(de),se({count:ue+1})};try{const le=await L();ie(le)}catch(le){if(ue<X&&await te({count:ue,error:le}))return ce({error:le});oe(le)}};se()})}const isDeterministicError=L=>"code"in L?L.code!==-1&&L.code!==-32004&&L.code!==-32005&&L.code!==-32042&&L.code!==-32603:L instanceof HttpRequestError&&L.status?L.status!==403&&L.status!==408&&L.status!==413&&L.status!==429&&L.status!==500&&L.status!==502&&L.status!==503&&L.status!==504:!1;function buildRequest(L,{retryDelay:Z=150,retryCount:X=3}={}){return async te=>withRetry(async()=>{try{return await L(te)}catch(ie){const oe=ie;switch(oe.code){case ParseRpcError.code:throw new ParseRpcError(oe);case InvalidRequestRpcError.code:throw new InvalidRequestRpcError(oe);case MethodNotFoundRpcError.code:throw new MethodNotFoundRpcError(oe);case InvalidParamsRpcError.code:throw new InvalidParamsRpcError(oe);case InternalRpcError.code:throw new InternalRpcError(oe);case InvalidInputRpcError.code:throw new InvalidInputRpcError(oe);case ResourceNotFoundRpcError.code:throw new ResourceNotFoundRpcError(oe);case ResourceUnavailableRpcError.code:throw new ResourceUnavailableRpcError(oe);case TransactionRejectedRpcError.code:throw new TransactionRejectedRpcError(oe);case MethodNotSupportedRpcError.code:throw new MethodNotSupportedRpcError(oe);case LimitExceededRpcError.code:throw new LimitExceededRpcError(oe);case JsonRpcVersionUnsupportedError.code:throw new JsonRpcVersionUnsupportedError(oe);case UserRejectedRequestError.code:throw new UserRejectedRequestError(oe);case UnauthorizedProviderError.code:throw new UnauthorizedProviderError(oe);case UnsupportedProviderMethodError.code:throw new UnsupportedProviderMethodError(oe);case ProviderDisconnectedError.code:throw new ProviderDisconnectedError(oe);case ChainDisconnectedError.code:throw new ChainDisconnectedError(oe);case SwitchChainError.code:throw new SwitchChainError(oe);default:throw ie instanceof BaseError?ie:new UnknownRpcError(oe)}}},{delay:({count:ie,error:oe})=>{if(oe&&oe instanceof HttpRequestError){const se=oe?.headers?.get("Retry-After");if(se?.match(/\d/))return parseInt(se)*1e3}return~~(1<<ie)*Z},retryCount:X,shouldRetry:({error:ie})=>!isDeterministicError(ie)})}function createTransport({key:L,name:Z,request:X,retryCount:te=3,retryDelay:ie=150,timeout:oe,type:se},ue){return{config:{key:L,name:Z,request:X,retryCount:te,retryDelay:ie,timeout:oe,type:se},request:buildRequest(X,{retryCount:te,retryDelay:ie}),value:ue}}function fallback(L,Z={}){const{key:X="fallback",name:te="Fallback",rank:ie=!1,retryCount:oe,retryDelay:se}=Z;return({chain:ue,pollingInterval:ce=4e3,timeout:le})=>{let de=L,he=()=>{};const ge=createTransport({key:X,name:te,async request({method:_e,params:Ae}){const xe=async(Ie=0)=>{const Pe=de[Ie]({chain:ue,retryCount:0,timeout:le});try{const Ce=await Pe.request({method:_e,params:Ae});return he({method:_e,params:Ae,response:Ce,transport:Pe,status:"success"}),Ce}catch(Ce){if(he({error:Ce,method:_e,params:Ae,transport:Pe,status:"error"}),isDeterministicError(Ce)||Ie===de.length-1)throw Ce;return xe(Ie+1)}};return xe()},retryCount:oe,retryDelay:se,type:"fallback"},{onResponse:_e=>he=_e,transports:de.map(_e=>_e({chain:ue,retryCount:0}))});if(ie){const _e=typeof ie=="object"?ie:{};rankTransports({chain:ue,interval:_e.interval??ce,onTransports:Ae=>de=Ae,sampleCount:_e.sampleCount,timeout:_e.timeout,transports:de,weights:_e.weights})}return ge}}function rankTransports({chain:L,interval:Z=4e3,onTransports:X,sampleCount:te=10,timeout:ie=1e3,transports:oe,weights:se={}}){const{stability:ue=.7,latency:ce=.3}=se,le=[],de=async()=>{const he=await Promise.all(oe.map(async Ae=>{const xe=Ae({chain:L,retryCount:0,timeout:ie}),Ie=Date.now();let Pe,Ce;try{await xe.request({method:"net_listening"}),Ce=1}catch{Ce=0}finally{Pe=Date.now()}return{latency:Pe-Ie,success:Ce}}));le.push(he),le.length>te&&le.shift();const ge=Math.max(...le.map(Ae=>Math.max(...Ae.map(({latency:xe})=>xe)))),_e=oe.map((Ae,xe)=>{const Ie=le.map(Ge=>Ge[xe].latency),Ce=1-Ie.reduce((Ge,Ke)=>Ge+Ke,0)/Ie.length/ge,Be=le.map(Ge=>Ge[xe].success),Ve=Be.reduce((Ge,Ke)=>Ge+Ke,0)/Be.length;return Ve===0?[0,xe]:[ce*Ce+ue*Ve,xe]}).sort((Ae,xe)=>xe[0]-Ae[0]);X(_e.map(([,Ae])=>oe[Ae])),await wait(Z),de()};de()}class UrlRequiredError extends BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function withTimeout(L,{errorInstance:Z,timeout:X,signal:te}){return new Promise((ie,oe)=>{(async()=>{let se;try{const ue=new AbortController;X>0&&(se=setTimeout(()=>{te?ue.abort():oe(Z)},X)),ie(await L({signal:ue?.signal}))}catch(ue){ue.name==="AbortError"&&oe(Z),oe(ue)}finally{clearTimeout(se)}})()})}let id=0;async function http$1(L,{body:Z,fetchOptions:X={},timeout:te=1e4}){const{headers:ie,method:oe,signal:se}=X;try{const ue=await withTimeout(async({signal:le})=>await fetch(L,{...X,body:Array.isArray(Z)?stringify(Z.map(he=>({jsonrpc:"2.0",id:id++,...he}))):stringify({jsonrpc:"2.0",id:id++,...Z}),headers:{...ie,"Content-Type":"application/json"},method:oe||"POST",signal:se||(te>0?le:void 0)}),{errorInstance:new TimeoutError({body:Z,url:L}),timeout:te,signal:!0});let ce;if(ue.headers.get("Content-Type")?.startsWith("application/json")?ce=await ue.json():ce=await ue.text(),!ue.ok)throw new HttpRequestError({body:Z,details:stringify(ce.error)||ue.statusText,headers:ue.headers,status:ue.status,url:L});return ce}catch(ue){throw ue instanceof HttpRequestError||ue instanceof TimeoutError?ue:new HttpRequestError({body:Z,details:ue.message,url:L})}}const sockets=new Map;async function getSocket(L){const Z=new URL(L),X=Z.toString();let te=sockets.get(X);if(te)return te;const{schedule:ie}=createBatchScheduler({id:X,fn:async()=>{let ue=await __vitePreload(()=>import("./browser-3852a342.js"),[]);ue.default?.constructor?ue=ue.default:ue=ue.WebSocket;const ce=new ue(Z),le=new Map,de=new Map,he=({data:_e})=>{const Ae=JSON.parse(_e),xe=Ae.method==="eth_subscription",Ie=xe?Ae.params.subscription:Ae.id,Pe=xe?de:le,Ce=Pe.get(Ie);Ce&&Ce({data:_e}),xe||Pe.delete(Ie)},ge=()=>{sockets.delete(X),ce.removeEventListener("close",ge),ce.removeEventListener("message",he)};return ce.addEventListener("close",ge),ce.addEventListener("message",he),ce.readyState===ue.CONNECTING&&await new Promise((_e,Ae)=>{ce&&(ce.onopen=_e,ce.onerror=Ae)}),te=Object.assign(ce,{requests:le,subscriptions:de}),sockets.set(X,te),[te]}}),[oe,[se]]=await ie();return se}function webSocket$1(L,{body:Z,onResponse:X}){if(L.readyState===L.CLOSED||L.readyState===L.CLOSING)throw new WebSocketRequestError({body:Z,url:L.url,details:"Socket is closed."});const te=id++,ie=({data:oe})=>{const se=JSON.parse(oe);typeof se.id=="number"&&te!==se.id||(X?.(se),Z.method==="eth_subscribe"&&typeof se.result=="string"&&L.subscriptions.set(se.result,ie),Z.method==="eth_unsubscribe"&&L.subscriptions.delete(Z.params?.[0]))};return L.requests.set(te,ie),L.send(JSON.stringify({jsonrpc:"2.0",...Z,id:te})),L}async function webSocketAsync(L,{body:Z,timeout:X=1e4}){return withTimeout(()=>new Promise(te=>rpc$1.webSocket(L,{body:Z,onResponse:te})),{errorInstance:new TimeoutError({body:Z,url:L.url}),timeout:X})}const rpc$1={http:http$1,webSocket:webSocket$1,webSocketAsync};function http(L,Z={}){const{batch:X,fetchOptions:te,key:ie="http",name:oe="HTTP JSON-RPC",retryDelay:se}=Z;return({chain:ue,retryCount:ce,timeout:le})=>{const{batchSize:de=1e3,wait:he=0}=typeof X=="object"?X:{},ge=Z.retryCount??ce,_e=le??Z.timeout??1e4,Ae=L||ue?.rpcUrls.default.http[0];if(!Ae)throw new UrlRequiredError;return createTransport({key:ie,name:oe,async request({method:xe,params:Ie}){const Pe={method:xe,params:Ie},{schedule:Ce}=createBatchScheduler({id:`${L}`,wait:he,shouldSplitBatch(Ke){return Ke.length>de},fn:Ke=>rpc$1.http(Ae,{body:Ke,fetchOptions:te,timeout:_e})}),Be=async Ke=>X?Ce(Ke):[await rpc$1.http(Ae,{body:Ke,fetchOptions:te,timeout:_e})],[{error:Ve,result:Ge}]=await Be(Pe);if(Ve)throw new RpcRequestError({body:Pe,error:Ve,url:Ae});return Ge},retryCount:ge,retryDelay:se,timeout:_e,type:"http"},{url:L})}}function isNullUniversalResolverError(L,Z){if(!(L instanceof BaseError))return!1;const X=L.walk(te=>te instanceof ContractFunctionRevertedError);return X instanceof ContractFunctionRevertedError?!!(X.data?.errorName==="ResolverNotFound"||X.data?.errorName==="ResolverWildcardNotSupported"||X.reason?.includes("Wildcard on non-extended resolvers is not supported")||Z==="reverse"&&X.reason===panicReasons[50]):!1}const bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function validateTypedData({domain:L,message:Z,primaryType:X,types:te}){const ie=te,oe=(se,ue)=>{for(const ce of se){const{name:le,type:de}=ce,he=de,ge=ue[le],_e=he.match(integerRegex);if(_e&&(typeof ge=="number"||typeof ge=="bigint")){const[Ie,Pe,Ce]=_e;numberToHex(ge,{signed:Pe==="int",size:parseInt(Ce)/8})}if(he==="address"&&typeof ge=="string"&&!isAddress(ge))throw new InvalidAddressError({address:ge});const Ae=he.match(bytesRegex);if(Ae){const[Ie,Pe]=Ae;if(Pe&&size$1(ge)!==parseInt(Pe))throw new BytesSizeMismatchError({expectedSize:parseInt(Pe),givenSize:size$1(ge)})}const xe=ie[he];xe&&oe(xe,ge)}};if(ie.EIP712Domain&&L&&oe(ie.EIP712Domain,L),X!=="EIP712Domain"){const se=ie[X];oe(se,Z)}}const docsPath="/docs/contract/encodeDeployData";function encodeDeployData({abi:L,args:Z,bytecode:X}){if(!Z||Z.length===0)return X;const te=L.find(oe=>"type"in oe&&oe.type==="constructor");if(!te)throw new AbiConstructorNotFoundError({docsPath});if(!("inputs"in te))throw new AbiConstructorParamsNotFoundError({docsPath});if(!te.inputs||te.inputs.length===0)throw new AbiConstructorParamsNotFoundError({docsPath});const ie=encodeAbiParameters(te.inputs,Z);return concatHex([X,ie])}function toRlp(L,Z){const X=Z||"hex";return format(bytesToRlp(parse(L)),X)}function parse(L){return Array.isArray(L)?L.map(parse):typeof L=="string"?toBytes$2(L):L}function format(L,Z="bytes"){return Z==="hex"?bytesToHex$1(L):L}function bytesToRlp(L){if(Array.isArray(L)){const Z=concat(L.map(bytesToRlp));return new Uint8Array([...encodeLength(Z.length,192),...Z])}return L.length===1&&L[0]<128?L:new Uint8Array([...encodeLength(L.length,128),...L])}function encodeLength(L,Z){return L<56?[Z+L]:[toBytes$2(L).length+Z+55,...toBytes$2(L)]}const statuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(L){return{...L,blockNumber:L.blockNumber?BigInt(L.blockNumber):null,contractAddress:L.contractAddress?L.contractAddress:null,cumulativeGasUsed:L.cumulativeGasUsed?BigInt(L.cumulativeGasUsed):null,effectiveGasPrice:L.effectiveGasPrice?BigInt(L.effectiveGasPrice):null,gasUsed:L.gasUsed?BigInt(L.gasUsed):null,logs:L.logs?L.logs.map(Z=>formatLog(Z)):null,to:L.to?L.to:null,transactionIndex:L.transactionIndex?hexToNumber$1(L.transactionIndex):null,status:L.status?statuses[L.status]:null,type:L.type?transactionType[L.type]||L.type:null}}function hashTypedData({domain:L,message:Z,primaryType:X,types:te}){const ie=typeof L>"u"?{}:L,oe={EIP712Domain:[typeof ie?.name=="string"&&{name:"name",type:"string"},ie?.version&&{name:"version",type:"string"},typeof ie?.chainId=="number"&&{name:"chainId",type:"uint256"},ie?.verifyingContract&&{name:"verifyingContract",type:"address"},ie?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...te};validateTypedData({domain:ie,message:Z,primaryType:X,types:oe});const se=["0x1901"];return ie&&se.push(hashDomain({domain:ie,types:oe})),X!=="EIP712Domain"&&se.push(hashStruct({data:Z,primaryType:X,types:oe})),keccak256(concat(se))}function hashDomain({domain:L,types:Z}){return hashStruct({data:L,primaryType:"EIP712Domain",types:Z})}function hashStruct({data:L,primaryType:Z,types:X}){const te=encodeData({data:L,primaryType:Z,types:X});return keccak256(te)}function encodeData({data:L,primaryType:Z,types:X}){const te=[{type:"bytes32"}],ie=[hashType({primaryType:Z,types:X})];for(const oe of X[Z]){const[se,ue]=encodeField({types:X,name:oe.name,type:oe.type,value:L[oe.name]});te.push(se),ie.push(ue)}return encodeAbiParameters(te,ie)}function hashType({primaryType:L,types:Z}){const X=toHex(encodeType({primaryType:L,types:Z}));return keccak256(X)}function encodeType({primaryType:L,types:Z}){let X="";const te=findTypeDependencies({primaryType:L,types:Z});te.delete(L);const ie=[L,...Array.from(te).sort()];for(const oe of ie)X+=`${oe}(${Z[oe].map(({name:se,type:ue})=>`${ue} ${se}`).join(",")})`;return X}function findTypeDependencies({primaryType:L,types:Z},X=new Set){const ie=L.match(/^\w*/u)?.[0];if(X.has(ie)||Z[ie]===void 0)return X;X.add(ie);for(const oe of Z[ie])findTypeDependencies({primaryType:oe.type,types:Z},X);return X}function encodeField({types:L,name:Z,type:X,value:te}){if(L[X]!==void 0)return[{type:"bytes32"},keccak256(encodeData({data:te,primaryType:X,types:L}))];if(X==="bytes")return te=`0x${(te.length%2?"0":"")+te.slice(2)}`,[{type:"bytes32"},keccak256(te)];if(X==="string")return[{type:"bytes32"},keccak256(toHex(te))];if(X.lastIndexOf("]")===X.length-1){const ie=X.slice(0,X.lastIndexOf("[")),oe=te.map(se=>encodeField({name:Z,type:ie,types:L,value:se}));return[{type:"bytes32"},keccak256(encodeAbiParameters(oe.map(([se])=>se),oe.map(([,se])=>se)))]}return[{type:X},te]}function hashMessage(L,Z){const X=(()=>typeof L=="string"?stringToBytes(L):L.raw instanceof Uint8Array?L.raw:toBytes$2(L.raw))(),te=stringToBytes(`Ethereum Signed Message:
${X.length}`);return keccak256(concat([te,X]),Z)}function getTransactionType(L){if(L.type)return L.type;if(typeof L.maxFeePerGas<"u"||typeof L.maxPriorityFeePerGas<"u")return"eip1559";if(typeof L.gasPrice<"u")return typeof L.accessList<"u"?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:L})}function assertTransactionEIP1559(L){const{chainId:Z,maxPriorityFeePerGas:X,gasPrice:te,maxFeePerGas:ie,to:oe}=L;if(Z<=0)throw new InvalidChainIdError({chainId:Z});if(oe&&!isAddress(oe))throw new InvalidAddressError({address:oe});if(te)throw new BaseError("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(ie&&ie>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ie});if(X&&ie&&X>ie)throw new TipAboveFeeCapError({maxFeePerGas:ie,maxPriorityFeePerGas:X})}function assertTransactionEIP2930(L){const{chainId:Z,maxPriorityFeePerGas:X,gasPrice:te,maxFeePerGas:ie,to:oe}=L;if(Z<=0)throw new InvalidChainIdError({chainId:Z});if(oe&&!isAddress(oe))throw new InvalidAddressError({address:oe});if(X||ie)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(te&&te>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:te})}function assertTransactionLegacy(L){const{chainId:Z,maxPriorityFeePerGas:X,gasPrice:te,maxFeePerGas:ie,to:oe,accessList:se}=L;if(oe&&!isAddress(oe))throw new InvalidAddressError({address:oe});if(typeof Z<"u"&&Z<=0)throw new InvalidChainIdError({chainId:Z});if(X||ie)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(te&&te>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:te});if(se)throw new BaseError("`accessList` is not a valid Legacy Transaction attribute.")}function serializeAccessList(L){if(!L||L.length===0)return[];const Z=[];for(let X=0;X<L.length;X++){const{address:te,storageKeys:ie}=L[X];for(let oe=0;oe<ie.length;oe++)if(ie[oe].length-2!==64)throw new InvalidStorageKeySizeError({storageKey:ie[oe]});if(!isAddress(te))throw new InvalidAddressError({address:te});Z.push([te,ie])}return Z}function serializeTransaction(L,Z){const X=getTransactionType(L);return X==="eip1559"?serializeTransactionEIP1559(L,Z):X==="eip2930"?serializeTransactionEIP2930(L,Z):serializeTransactionLegacy(L,Z)}function serializeTransactionEIP1559(L,Z){const{chainId:X,gas:te,nonce:ie,to:oe,value:se,maxFeePerGas:ue,maxPriorityFeePerGas:ce,accessList:le,data:de}=L;assertTransactionEIP1559(L);const he=serializeAccessList(le),ge=[toHex(X),ie?toHex(ie):"0x",ce?toHex(ce):"0x",ue?toHex(ue):"0x",te?toHex(te):"0x",oe??"0x",se?toHex(se):"0x",de??"0x",he];return Z&&ge.push(Z.v===27n?"0x":toHex(1),trim(Z.r),trim(Z.s)),concatHex(["0x02",toRlp(ge)])}function serializeTransactionEIP2930(L,Z){const{chainId:X,gas:te,data:ie,nonce:oe,to:se,value:ue,accessList:ce,gasPrice:le}=L;assertTransactionEIP2930(L);const de=serializeAccessList(ce),he=[toHex(X),oe?toHex(oe):"0x",le?toHex(le):"0x",te?toHex(te):"0x",se??"0x",ue?toHex(ue):"0x",ie??"0x",de];return Z&&he.push(Z.v===27n?"0x":toHex(1),Z.r,Z.s),concatHex(["0x01",toRlp(he)])}function serializeTransactionLegacy(L,Z){const{chainId:X=0,gas:te,data:ie,nonce:oe,to:se,value:ue,gasPrice:ce}=L;assertTransactionLegacy(L);let le=[oe?toHex(oe):"0x",ce?toHex(ce):"0x",te?toHex(te):"0x",se??"0x",ue?toHex(ue):"0x",ie??"0x"];if(Z){let de=27n+(Z.v===27n?0n:1n);if(X>0)de=BigInt(X*2)+BigInt(35n+Z.v-27n);else if(Z.v!==de)throw new InvalidLegacyVError({v:Z.v});le=[...le,toHex(de),Z.r,Z.s]}else X>0&&(le=[...le,toHex(X),"0x","0x"]);return toRlp(le)}function parseUnits(L,Z){let[X,te="0"]=L.split(".");const ie=X.startsWith("-");if(ie&&(X=X.slice(1)),te=te.replace(/(0+)$/,""),Z===0)Math.round(+`.${te}`)===1&&(X=`${BigInt(X)+1n}`),te="";else if(te.length>Z){const[oe,se,ue]=[te.slice(0,Z-1),te.slice(Z-1,Z),te.slice(Z)],ce=Math.round(+`${se}.${ue}`);ce>9?te=`${BigInt(oe)+BigInt(1)}0`.padStart(oe.length+1,"0"):te=`${oe}${ce}`,te.length>Z&&(te=te.slice(1),X=`${BigInt(X)+1n}`),te=te.slice(0,Z)}else te=te.padEnd(Z,"0");return BigInt(`${ie?"-":""}${X}${te}`)}function parseEther(L,Z="wei"){return parseUnits(L,etherUnits[Z])}function encodedLabelToLabelhash(L){if(L.length!==66||L.indexOf("[")!==0||L.indexOf("]")!==65)return null;const Z=`0x${L.slice(1,65)}`;return isHex(Z)?Z:null}function namehash(L){let Z=new Uint8Array(32).fill(0);if(!L)return bytesToHex$1(Z);const X=L.split(".");for(let te=X.length-1;te>=0;te-=1){const ie=encodedLabelToLabelhash(X[te]),oe=ie?toBytes$2(ie):keccak256(stringToBytes(X[te]),"bytes");Z=keccak256(concat([Z,oe]),"bytes")}return bytesToHex$1(Z)}function encodeLabelhash(L){return`[${L.slice(2)}]`}function labelhash(L){const Z=new Uint8Array(32).fill(0);return L?encodedLabelToLabelhash(L)||keccak256(stringToBytes(L)):bytesToHex$1(Z)}function packetToBytes(L){const Z=L.replace(/^\.|\.$/gm,"");if(Z.length===0)return new Uint8Array(1);const X=new Uint8Array(stringToBytes(Z).byteLength+2);let te=0;const ie=Z.split(".");for(let oe=0;oe<ie.length;oe++){let se=stringToBytes(ie[oe]);se.byteLength>255&&(se=stringToBytes(encodeLabelhash(labelhash(ie[oe])))),X[te]=se.length,X.set(se,te+1),te+=se.length+1}return X.byteLength!==te+1?X.slice(0,te+1):X}async function getEnsAddress(L,{blockNumber:Z,blockTag:X,coinType:te,name:ie,universalResolverAddress:oe}){let se=oe;if(!se){if(!L.chain)throw new Error("client chain not configured. universalResolverAddress is required.");se=getChainContractAddress({blockNumber:Z,chain:L.chain,contract:"ensUniversalResolver"})}try{const ue=encodeFunctionData({abi:addressResolverAbi,functionName:"addr",...te!=null?{args:[namehash(ie),BigInt(te)]}:{args:[namehash(ie)]}}),ce=await readContract(L,{address:se,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(ie)),ue],blockNumber:Z,blockTag:X});if(ce[0]==="0x")return null;const le=trim(decodeFunctionResult({abi:addressResolverAbi,args:te!=null?[namehash(ie),BigInt(te)]:void 0,functionName:"addr",data:ce[0]}));return le==="0x"||trim(le)==="0x00"?null:le}catch(ue){if(isNullUniversalResolverError(ue,"resolve"))return null;throw ue}}class EnsAvatarInvalidMetadataError extends BaseError{constructor({data:Z}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(Z)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class EnsAvatarInvalidNftUriError extends BaseError{constructor({reason:Z}){super(`ENS NFT avatar URI is invalid. ${Z}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class EnsAvatarUriResolutionError extends BaseError{constructor({uri:Z}){super(`Unable to resolve ENS avatar URI "${Z}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class EnsAvatarUnsupportedNamespaceError extends BaseError{constructor({namespace:Z}){super(`ENS NFT avatar namespace "${Z}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const networkRegex=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ipfsHashRegex=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,base64Regex=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,dataURIRegex=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function isImageUri(L){try{const Z=await fetch(L,{method:"HEAD"});return Z.status===200?Z.headers.get("content-type")?.startsWith("image/"):!1}catch(Z){return typeof Z=="object"&&typeof Z.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(X=>{const te=new Image;te.onload=()=>{X(!0)},te.onerror=()=>{X(!1)},te.src=L})}}function getGateway(L,Z){return L?L.endsWith("/")?L.slice(0,-1):L:Z}function resolveAvatarUri({uri:L,gatewayUrls:Z}){const X=base64Regex.test(L);if(X)return{uri:L,isOnChain:!0,isEncoded:X};const te=getGateway(Z?.ipfs,"https://ipfs.io"),ie=getGateway(Z?.arweave,"https://arweave.net"),oe=L.match(networkRegex),{protocol:se,subpath:ue,target:ce,subtarget:le=""}=oe?.groups||{},de=se==="ipns:/"||ue==="ipns/",he=se==="ipfs:/"||ue==="ipfs/"||ipfsHashRegex.test(L);if(L.startsWith("http")&&!de&&!he){let _e=L;return Z?.arweave&&(_e=L.replace(/https:\/\/arweave.net/g,Z?.arweave)),{uri:_e,isOnChain:!1,isEncoded:!1}}if((de||he)&&ce)return{uri:`${te}/${de?"ipns":"ipfs"}/${ce}${le}`,isOnChain:!1,isEncoded:!1};if(se==="ar:/"&&ce)return{uri:`${ie}/${ce}${le||""}`,isOnChain:!1,isEncoded:!1};let ge=L.replace(dataURIRegex,"");if(ge.startsWith("<svg")&&(ge=`data:image/svg+xml;base64,${btoa(ge)}`),ge.startsWith("data:")||ge.startsWith("{"))return{uri:ge,isOnChain:!0,isEncoded:!1};throw new EnsAvatarUriResolutionError({uri:L})}function getJsonImage(L){if(typeof L!="object"||!("image"in L)&&!("image_url"in L)&&!("image_data"in L))throw new EnsAvatarInvalidMetadataError({data:L});return L.image||L.image_url||L.image_data}async function getMetadataAvatarUri({gatewayUrls:L,uri:Z}){try{const X=await fetch(Z).then(ie=>ie.json());return await parseAvatarUri({gatewayUrls:L,uri:getJsonImage(X)})}catch{throw new EnsAvatarUriResolutionError({uri:Z})}}async function parseAvatarUri({gatewayUrls:L,uri:Z}){const{uri:X,isOnChain:te}=resolveAvatarUri({uri:Z,gatewayUrls:L});if(te||await isImageUri(X))return X;throw new EnsAvatarUriResolutionError({uri:Z})}function parseNftUri(L){let Z=L;Z.startsWith("did:nft:")&&(Z=Z.replace("did:nft:","").replace(/_/g,"/"));const[X,te,ie]=Z.split("/"),[oe,se]=X.split(":"),[ue,ce]=te.split(":");if(!oe||oe.toLowerCase()!=="eip155")throw new EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!se)throw new EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!ce)throw new EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!ie)throw new EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!ue)throw new EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:parseInt(se),namespace:ue.toLowerCase(),contractAddress:ce,tokenID:ie}}async function getNftTokenUri(L,{nft:Z}){if(Z.namespace==="erc721")return readContract(L,{address:Z.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(Z.tokenID)]});if(Z.namespace==="erc1155")return readContract(L,{address:Z.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(Z.tokenID)]});throw new EnsAvatarUnsupportedNamespaceError({namespace:Z.namespace})}async function parseAvatarRecord(L,{gatewayUrls:Z,record:X}){return/eip155:/i.test(X)?parseNftAvatarUri(L,{gatewayUrls:Z,record:X}):parseAvatarUri({uri:X,gatewayUrls:Z})}async function parseNftAvatarUri(L,{gatewayUrls:Z,record:X}){const te=parseNftUri(X),ie=await getNftTokenUri(L,{nft:te}),{uri:oe,isOnChain:se,isEncoded:ue}=resolveAvatarUri({uri:ie,gatewayUrls:Z});if(se&&(oe.includes("data:application/json;base64,")||oe.startsWith("{"))){const le=ue?atob(oe.replace("data:application/json;base64,","")):oe,de=JSON.parse(le);return parseAvatarUri({uri:getJsonImage(de),gatewayUrls:Z})}let ce=te.tokenID;return te.namespace==="erc1155"&&(ce=ce.replace("0x","").padStart(64,"0")),getMetadataAvatarUri({gatewayUrls:Z,uri:oe.replace(/(?:0x)?{id}/,ce)})}async function getEnsText(L,{blockNumber:Z,blockTag:X,name:te,key:ie,universalResolverAddress:oe}){let se=oe;if(!se){if(!L.chain)throw new Error("client chain not configured. universalResolverAddress is required.");se=getChainContractAddress({blockNumber:Z,chain:L.chain,contract:"ensUniversalResolver"})}try{const ue=await readContract(L,{address:se,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(te)),encodeFunctionData({abi:textResolverAbi,functionName:"text",args:[namehash(te),ie]})],blockNumber:Z,blockTag:X});if(ue[0]==="0x")return null;const ce=decodeFunctionResult({abi:textResolverAbi,functionName:"text",data:ue[0]});return ce===""?null:ce}catch(ue){if(isNullUniversalResolverError(ue,"resolve"))return null;throw ue}}async function getEnsAvatar(L,{blockNumber:Z,blockTag:X,gatewayUrls:te,name:ie,universalResolverAddress:oe}){const se=await getEnsText(L,{blockNumber:Z,blockTag:X,key:"avatar",name:ie,universalResolverAddress:oe});if(!se)return null;try{return await parseAvatarRecord(L,{record:se,gatewayUrls:te})}catch{return null}}async function getEnsName(L,{address:Z,blockNumber:X,blockTag:te,universalResolverAddress:ie}){let oe=ie;if(!oe){if(!L.chain)throw new Error("client chain not configured. universalResolverAddress is required.");oe=getChainContractAddress({blockNumber:X,chain:L.chain,contract:"ensUniversalResolver"})}const se=`${Z.toLowerCase().substring(2)}.addr.reverse`;try{return(await readContract(L,{address:oe,abi:universalResolverReverseAbi,functionName:"reverse",args:[toHex(packetToBytes(se))],blockNumber:X,blockTag:te}))[0]}catch(ue){if(isNullUniversalResolverError(ue,"reverse"))return null;throw ue}}async function getEnsResolver(L,{blockNumber:Z,blockTag:X,name:te,universalResolverAddress:ie}){let oe=ie;if(!oe){if(!L.chain)throw new Error("client chain not configured. universalResolverAddress is required.");oe=getChainContractAddress({blockNumber:Z,chain:L.chain,contract:"ensUniversalResolver"})}const[se]=await readContract(L,{address:oe,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[toHex(packetToBytes(te))],blockNumber:Z,blockTag:X});return se}async function createBlockFilter(L){const Z=createFilterRequestScope(L,{method:"eth_newBlockFilter"}),X=await L.request({method:"eth_newBlockFilter"});return{id:X,request:Z(X),type:"block"}}async function createEventFilter(L,{address:Z,args:X,event:te,events:ie,fromBlock:oe,strict:se,toBlock:ue}={}){const ce=ie??(te?[te]:void 0),le=createFilterRequestScope(L,{method:"eth_newFilter"});let de=[];ce&&(de=[ce.flatMap(ge=>encodeEventTopics({abi:[ge],eventName:ge.name,args:X}))],te&&(de=de[0]));const he=await L.request({method:"eth_newFilter",params:[{address:Z,fromBlock:typeof oe=="bigint"?numberToHex(oe):oe,toBlock:typeof ue=="bigint"?numberToHex(ue):ue,...de.length?{topics:de}:{}}]});return{abi:ce,args:X,eventName:te?te.name:void 0,fromBlock:oe,id:he,request:le(he),strict:se,toBlock:ue,type:"event"}}async function createPendingTransactionFilter(L){const Z=createFilterRequestScope(L,{method:"eth_newPendingTransactionFilter"}),X=await L.request({method:"eth_newPendingTransactionFilter"});return{id:X,request:Z(X),type:"transaction"}}async function getBalance(L,{address:Z,blockNumber:X,blockTag:te="latest"}){const ie=X?numberToHex(X):void 0,oe=await L.request({method:"eth_getBalance",params:[Z,ie||te]});return BigInt(oe)}async function getBlockTransactionCount(L,{blockHash:Z,blockNumber:X,blockTag:te="latest"}={}){const ie=X!==void 0?numberToHex(X):void 0;let oe;return Z?oe=await L.request({method:"eth_getBlockTransactionCountByHash",params:[Z]}):oe=await L.request({method:"eth_getBlockTransactionCountByNumber",params:[ie||te]}),hexToNumber$1(oe)}async function getBytecode(L,{address:Z,blockNumber:X,blockTag:te="latest"}){const ie=X!==void 0?numberToHex(X):void 0,oe=await L.request({method:"eth_getCode",params:[Z,ie||te]});if(oe!=="0x")return oe}function formatFeeHistory(L){return{baseFeePerGas:L.baseFeePerGas.map(Z=>BigInt(Z)),gasUsedRatio:L.gasUsedRatio,oldestBlock:BigInt(L.oldestBlock),reward:L.reward?.map(Z=>Z.map(X=>BigInt(X)))}}async function getFeeHistory(L,{blockCount:Z,blockNumber:X,blockTag:te="latest",rewardPercentiles:ie}){const oe=X?numberToHex(X):void 0,se=await L.request({method:"eth_feeHistory",params:[numberToHex(Z),oe||te,ie]});return formatFeeHistory(se)}async function getFilterLogs(L,{filter:Z}){const X=Z.strict??!1;return(await Z.request({method:"eth_getFilterLogs",params:[Z.id]})).map(ie=>{try{const{eventName:oe,args:se}="abi"in Z&&Z.abi?decodeEventLog({abi:Z.abi,data:ie.data,topics:ie.topics,strict:X}):{eventName:void 0,args:void 0};return formatLog(ie,{args:se,eventName:oe})}catch(oe){let se,ue;if(oe instanceof DecodeLogDataMismatch||oe instanceof DecodeLogTopicsMismatch){if("strict"in Z&&Z.strict)return;se=oe.abiItem.name,ue=oe.abiItem.inputs?.some(ce=>!("name"in ce&&ce.name))}return formatLog(ie,{args:ue?[]:{},eventName:se})}}).filter(Boolean)}async function getStorageAt(L,{address:Z,blockNumber:X,blockTag:te="latest",slot:ie}){const oe=X!==void 0?numberToHex(X):void 0;return await L.request({method:"eth_getStorageAt",params:[Z,ie,oe||te]})}async function getTransaction(L,{blockHash:Z,blockNumber:X,blockTag:te,hash:ie,index:oe}){const se=te||"latest",ue=X!==void 0?numberToHex(X):void 0;let ce=null;if(ie?ce=await L.request({method:"eth_getTransactionByHash",params:[ie]}):Z?ce=await L.request({method:"eth_getTransactionByBlockHashAndIndex",params:[Z,numberToHex(oe)]}):(ue||se)&&(ce=await L.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[ue||se,numberToHex(oe)]})),!ce)throw new TransactionNotFoundError({blockHash:Z,blockNumber:X,blockTag:se,hash:ie,index:oe});return(L.chain?.formatters?.transaction?.format||formatTransaction)(ce)}async function getTransactionConfirmations(L,{hash:Z,transactionReceipt:X}){const[te,ie]=await Promise.all([getBlockNumber(L),Z?getTransaction(L,{hash:Z}):void 0]),oe=X?.blockNumber||ie?.blockNumber;return oe?te-oe+1n:0n}async function getTransactionReceipt(L,{hash:Z}){const X=await L.request({method:"eth_getTransactionReceipt",params:[Z]});if(!X)throw new TransactionReceiptNotFoundError({hash:Z});return(L.chain?.formatters?.transactionReceipt?.format||formatTransactionReceipt)(X)}async function multicall(L,Z){const{allowFailure:X=!0,batchSize:te,blockNumber:ie,blockTag:oe,contracts:se,multicallAddress:ue}=Z,ce=te??(typeof L.batch?.multicall=="object"&&L.batch.multicall.batchSize||1024),le=se;let de=ue;if(!de){if(!L.chain)throw new Error("client chain not configured. multicallAddress is required.");de=getChainContractAddress({blockNumber:ie,chain:L.chain,contract:"multicall3"})}const he=[[]];let ge=0,_e=0;for(let xe=0;xe<le.length;xe++){const{abi:Ie,address:Pe,args:Ce,functionName:Be}=le[xe];try{const Ve=encodeFunctionData({abi:Ie,args:Ce,functionName:Be});_e+=Ve.length,ce>0&&_e>ce&&(ge++,_e=(Ve.length-2)/2,he[ge]=[]),he[ge]=[...he[ge],{allowFailure:!0,callData:Ve,target:Pe}]}catch(Ve){const Ge=getContractError(Ve,{abi:Ie,address:Pe,args:Ce,docsPath:"/docs/contract/multicall",functionName:Be});if(!X)throw Ge;he[ge]=[...he[ge],{allowFailure:!0,callData:"0x",target:Pe}]}}return(await Promise.all(he.map(xe=>readContract(L,{abi:multicall3Abi,address:de,args:[xe],blockNumber:ie,blockTag:oe,functionName:"aggregate3"})))).flat().map(({returnData:xe,success:Ie},Pe)=>{const Ce=he.flat(),{callData:Be}=Ce[Pe],{abi:Ve,address:Ge,functionName:Ke,args:Je}=le[Pe];try{if(Be==="0x")throw new AbiDecodingZeroDataError;if(!Ie)throw new RawContractError({data:xe});const et=decodeFunctionResult({abi:Ve,args:Je,data:xe,functionName:Ke});return X?{result:et,status:"success"}:et}catch(et){const at=getContractError(et,{abi:Ve,address:Ge,args:Je,docsPath:"/docs/contract/multicall",functionName:Ke});if(!X)throw at;return{error:at,result:void 0,status:"failure"}}})}const universalSignatureValidatorByteCode="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),u8a$1=L=>L instanceof Uint8Array,hexes=Array.from({length:256},(L,Z)=>Z.toString(16).padStart(2,"0"));function bytesToHex(L){if(!u8a$1(L))throw new Error("Uint8Array expected");let Z="";for(let X=0;X<L.length;X++)Z+=hexes[L[X]];return Z}function numberToHexUnpadded(L){const Z=L.toString(16);return Z.length&1?`0${Z}`:Z}function hexToNumber(L){if(typeof L!="string")throw new Error("hex string expected, got "+typeof L);return BigInt(L===""?"0":`0x${L}`)}function hexToBytes(L){if(typeof L!="string")throw new Error("hex string expected, got "+typeof L);const Z=L.length;if(Z%2)throw new Error("padded hex string expected, got unpadded hex of length "+Z);const X=new Uint8Array(Z/2);for(let te=0;te<X.length;te++){const ie=te*2,oe=L.slice(ie,ie+2),se=Number.parseInt(oe,16);if(Number.isNaN(se)||se<0)throw new Error("Invalid byte sequence");X[te]=se}return X}function bytesToNumberBE(L){return hexToNumber(bytesToHex(L))}function bytesToNumberLE(L){if(!u8a$1(L))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(L).reverse()))}function numberToBytesBE(L,Z){return hexToBytes(L.toString(16).padStart(Z*2,"0"))}function numberToBytesLE(L,Z){return numberToBytesBE(L,Z).reverse()}function numberToVarBytesBE(L){return hexToBytes(numberToHexUnpadded(L))}function ensureBytes(L,Z,X){let te;if(typeof Z=="string")try{te=hexToBytes(Z)}catch(oe){throw new Error(`${L} must be valid hex string, got "${Z}". Cause: ${oe}`)}else if(u8a$1(Z))te=Uint8Array.from(Z);else throw new Error(`${L} must be hex string or Uint8Array`);const ie=te.length;if(typeof X=="number"&&ie!==X)throw new Error(`${L} expected ${X} bytes, got ${ie}`);return te}function concatBytes$1(...L){const Z=new Uint8Array(L.reduce((te,ie)=>te+ie.length,0));let X=0;return L.forEach(te=>{if(!u8a$1(te))throw new Error("Uint8Array expected");Z.set(te,X),X+=te.length}),Z}function equalBytes(L,Z){if(L.length!==Z.length)return!1;for(let X=0;X<L.length;X++)if(L[X]!==Z[X])return!1;return!0}function utf8ToBytes$1(L){if(typeof L!="string")throw new Error(`utf8ToBytes expected string, got ${typeof L}`);return new Uint8Array(new TextEncoder().encode(L))}function bitLen(L){let Z;for(Z=0;L>_0n$3;L>>=_1n$4,Z+=1);return Z}function bitGet(L,Z){return L>>BigInt(Z)&_1n$4}const bitSet=(L,Z,X)=>L|(X?_1n$4:_0n$3)<<BigInt(Z),bitMask=L=>(_2n$2<<BigInt(L-1))-_1n$4,u8n=L=>new Uint8Array(L),u8fr=L=>Uint8Array.from(L);function createHmacDrbg(L,Z,X){if(typeof L!="number"||L<2)throw new Error("hashLen must be a number");if(typeof Z!="number"||Z<2)throw new Error("qByteLen must be a number");if(typeof X!="function")throw new Error("hmacFn must be a function");let te=u8n(L),ie=u8n(L),oe=0;const se=()=>{te.fill(1),ie.fill(0),oe=0},ue=(...he)=>X(ie,te,...he),ce=(he=u8n())=>{ie=ue(u8fr([0]),he),te=ue(),he.length!==0&&(ie=ue(u8fr([1]),he),te=ue())},le=()=>{if(oe++>=1e3)throw new Error("drbg: tried 1000 values");let he=0;const ge=[];for(;he<Z;){te=ue();const _e=te.slice();ge.push(_e),he+=te.length}return concatBytes$1(...ge)};return(he,ge)=>{se(),ce(he);let _e;for(;!(_e=ge(le()));)ce();return se(),_e}}const validatorFns={bigint:L=>typeof L=="bigint",function:L=>typeof L=="function",boolean:L=>typeof L=="boolean",string:L=>typeof L=="string",isSafeInteger:L=>Number.isSafeInteger(L),array:L=>Array.isArray(L),field:(L,Z)=>Z.Fp.isValid(L),hash:L=>typeof L=="function"&&Number.isSafeInteger(L.outputLen)};function validateObject(L,Z,X={}){const te=(ie,oe,se)=>{const ue=validatorFns[oe];if(typeof ue!="function")throw new Error(`Invalid validator "${oe}", expected function`);const ce=L[ie];if(!(se&&ce===void 0)&&!ue(ce,L))throw new Error(`Invalid param ${String(ie)}=${ce} (${typeof ce}), expected ${oe}`)};for(const[ie,oe]of Object.entries(Z))te(ie,oe,!1);for(const[ie,oe]of Object.entries(X))te(ie,oe,!0);return L}const ut$1=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes:concatBytes$1,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$1,validateObject},Symbol.toStringTag,{value:"Module"}));function isBytesEqual(L,Z){const X=isHex(L)?toBytes$2(L):L,te=isHex(Z)?toBytes$2(Z):Z;return equalBytes(X,te)}async function verifyHash(L,{address:Z,hash:X,signature:te,...ie}){const oe=isHex(te)?te:toHex(te);try{const{data:se}=await call(L,{data:encodeDeployData({abi:universalSignatureValidatorAbi,args:[Z,X,oe],bytecode:universalSignatureValidatorByteCode}),...ie});return isBytesEqual(se??"0x0","0x1")}catch(se){if(se instanceof CallExecutionError)return!1;throw se}}async function verifyMessage(L,{address:Z,message:X,signature:te,...ie}){const oe=hashMessage(X);return verifyHash(L,{address:Z,hash:oe,signature:te,...ie})}async function verifyTypedData(L,{address:Z,signature:X,message:te,primaryType:ie,types:oe,domain:se,...ue}){const ce=hashTypedData({message:te,primaryType:ie,types:oe,domain:se});return verifyHash(L,{address:Z,hash:ce,signature:X,...ue})}function watchBlockNumber(L,{emitOnBegin:Z=!1,emitMissed:X=!1,onBlockNumber:te,onError:ie,poll:oe,pollingInterval:se=L.pollingInterval}){const ue=typeof oe<"u"?oe:L.transport.type!=="webSocket";let ce;return ue?(()=>{const he=stringify(["watchBlockNumber",L.uid,Z,X,se]);return observe(he,{onBlockNumber:te,onError:ie},ge=>poll(async()=>{try{const _e=await getBlockNumber(L,{cacheTime:0});if(ce){if(_e===ce)return;if(_e-ce>1&&X)for(let Ae=ce+1n;Ae<_e;Ae++)ge.onBlockNumber(Ae,ce),ce=Ae}(!ce||_e>ce)&&(ge.onBlockNumber(_e,ce),ce=_e)}catch(_e){ge.onError?.(_e)}},{emitOnBegin:Z,interval:se}))})():(()=>{let he=!0,ge=()=>he=!1;return(async()=>{try{const{unsubscribe:_e}=await L.transport.subscribe({params:["newHeads"],onData(Ae){if(!he)return;const xe=hexToBigInt(Ae.result?.number);te(xe,ce),ce=xe},onError(Ae){ie?.(Ae)}});ge=_e,he||ge()}catch(_e){ie?.(_e)}})(),ge})()}async function waitForTransactionReceipt(L,{confirmations:Z=1,hash:X,onReplaced:te,pollingInterval:ie=L.pollingInterval,timeout:oe}){const se=stringify(["waitForTransactionReceipt",L.uid,X]);let ue,ce,le,de=!1;return new Promise((he,ge)=>{oe&&setTimeout(()=>ge(new WaitForTransactionReceiptTimeoutError({hash:X})),oe);const _e=observe(se,{onReplaced:te,resolve:he,reject:ge},Ae=>{const xe=watchBlockNumber(L,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:ie,async onBlockNumber(Ie){if(de)return;let Pe=Ie;const Ce=Be=>{xe(),Be(),_e()};try{if(le){if(Pe-le.blockNumber+1n<Z)return;Ce(()=>Ae.resolve(le));return}if(ue||(de=!0,await withRetry(async()=>{ue=await getTransaction(L,{hash:X}),ue.blockNumber&&(Pe=ue.blockNumber)},{delay:({count:Be})=>~~(1<<Be)*200,retryCount:6}),de=!1),le=await getTransactionReceipt(L,{hash:X}),Z>0&&Pe-le.blockNumber+1n<Z)return;Ce(()=>Ae.resolve(le))}catch(Be){if(ue&&(Be instanceof TransactionNotFoundError||Be instanceof TransactionReceiptNotFoundError)){ce=ue;const Ge=(await getBlock(L,{blockNumber:Pe,includeTransactions:!0})).transactions.find(({from:Je,nonce:et})=>Je===ce.from&&et===ce.nonce);if(!Ge||(le=await getTransactionReceipt(L,{hash:Ge.hash}),Pe-le.blockNumber+1n<Z))return;let Ke="replaced";Ge.to===ce.to&&Ge.value===ce.value?Ke="repriced":Ge.from===Ge.to&&Ge.value===0n&&(Ke="cancelled"),Ce(()=>{Ae.onReplaced?.({reason:Ke,replacedTransaction:ce,transaction:Ge,transactionReceipt:le}),Ae.resolve(le)})}else Ce(()=>Ae.reject(Be))}}})})})}function watchBlocks(L,{blockTag:Z="latest",emitMissed:X=!1,emitOnBegin:te=!1,onBlock:ie,onError:oe,includeTransactions:se,poll:ue,pollingInterval:ce=L.pollingInterval}){const le=typeof ue<"u"?ue:L.transport.type!=="webSocket",de=se??!1;let he;return le?(()=>{const Ae=stringify(["watchBlocks",L.uid,X,te,de,ce]);return observe(Ae,{onBlock:ie,onError:oe},xe=>poll(async()=>{try{const Ie=await getBlock(L,{blockTag:Z,includeTransactions:de});if(Ie.number&&he?.number){if(Ie.number===he.number)return;if(Ie.number-he.number>1&&X)for(let Pe=he?.number+1n;Pe<Ie.number;Pe++){const Ce=await getBlock(L,{blockNumber:Pe,includeTransactions:de});xe.onBlock(Ce,he),he=Ce}}(!he?.number||Z==="pending"&&!Ie?.number||Ie.number&&Ie.number>he.number)&&(xe.onBlock(Ie,he),he=Ie)}catch(Ie){xe.onError?.(Ie)}},{emitOnBegin:te,interval:ce}))})():(()=>{let Ae=!0,xe=()=>Ae=!1;return(async()=>{try{const{unsubscribe:Ie}=await L.transport.subscribe({params:["newHeads"],onData(Pe){if(!Ae)return;const Be=(L.chain?.formatters?.block?.format||formatBlock)(Pe.result);ie(Be,he),he=Be},onError(Pe){oe?.(Pe)}});xe=Ie,Ae||xe()}catch(Ie){oe?.(Ie)}})(),xe})()}function watchEvent(L,{address:Z,args:X,batch:te=!0,event:ie,events:oe,onError:se,onLogs:ue,poll:ce,pollingInterval:le=L.pollingInterval,strict:de}){const he=typeof ce<"u"?ce:L.transport.type!=="webSocket",ge=de??!1;return he?(()=>{const xe=stringify(["watchEvent",Z,X,te,L.uid,ie,le]);return observe(xe,{onLogs:ue,onError:se},Ie=>{let Pe,Ce,Be=!1;const Ve=poll(async()=>{if(!Be){try{Ce=await createEventFilter(L,{address:Z,args:X,event:ie,events:oe,strict:ge})}catch{}Be=!0;return}try{let Ge;if(Ce)Ge=await getFilterChanges(L,{filter:Ce});else{const Ke=await getBlockNumber(L);Pe&&Pe!==Ke?Ge=await getLogs(L,{address:Z,args:X,event:ie,events:oe,fromBlock:Pe+1n,toBlock:Ke}):Ge=[],Pe=Ke}if(Ge.length===0)return;te?Ie.onLogs(Ge):Ge.forEach(Ke=>Ie.onLogs([Ke]))}catch(Ge){Ce&&Ge instanceof InvalidInputRpcError&&(Be=!1),Ie.onError?.(Ge)}},{emitOnBegin:!0,interval:le});return async()=>{Ce&&await uninstallFilter(L,{filter:Ce}),Ve()}})})():(()=>{let xe=!0,Ie=()=>xe=!1;return(async()=>{try{const Pe=oe??(ie?[ie]:void 0);let Ce=[];Pe&&(Ce=[Pe.flatMap(Ve=>encodeEventTopics({abi:[Ve],eventName:Ve.name,args:X}))],ie&&(Ce=Ce[0]));const{unsubscribe:Be}=await L.transport.subscribe({params:["logs",{address:Z,topics:Ce}],onData(Ve){if(!xe)return;const Ge=Ve.result;try{const{eventName:Ke,args:Je}=decodeEventLog({abi:Pe,data:Ge.data,topics:Ge.topics,strict:ge}),et=formatLog(Ge,{args:Je,eventName:Ke});ue([et])}catch(Ke){let Je,et;if(Ke instanceof DecodeLogDataMismatch||Ke instanceof DecodeLogTopicsMismatch){if(de)return;Je=Ke.abiItem.name,et=Ke.abiItem.inputs?.some(dt=>!("name"in dt&&dt.name))}const at=formatLog(Ge,{args:et?[]:{},eventName:Je});ue([at])}},onError(Ve){se?.(Ve)}});Ie=Be,xe||Ie()}catch(Pe){se?.(Pe)}})(),Ie})()}function watchPendingTransactions(L,{batch:Z=!0,onError:X,onTransactions:te,poll:ie,pollingInterval:oe=L.pollingInterval}){return(typeof ie<"u"?ie:L.transport.type!=="webSocket")?(()=>{const le=stringify(["watchPendingTransactions",L.uid,Z,oe]);return observe(le,{onTransactions:te,onError:X},de=>{let he;const ge=poll(async()=>{try{if(!he)try{he=await createPendingTransactionFilter(L);return}catch(Ae){throw ge(),Ae}const _e=await getFilterChanges(L,{filter:he});if(_e.length===0)return;Z?de.onTransactions(_e):_e.forEach(Ae=>de.onTransactions([Ae]))}catch(_e){de.onError?.(_e)}},{emitOnBegin:!0,interval:oe});return async()=>{he&&await uninstallFilter(L,{filter:he}),ge()}})})():(()=>{let le=!0,de=()=>le=!1;return(async()=>{try{const{unsubscribe:he}=await L.transport.subscribe({params:["newPendingTransactions"],onData(ge){if(!le)return;const _e=ge.result;te([_e])},onError(ge){X?.(ge)}});de=he,le||de()}catch(he){X?.(he)}})(),de})()}function publicActions(L){return{call:Z=>call(L,Z),createBlockFilter:()=>createBlockFilter(L),createContractEventFilter:Z=>createContractEventFilter(L,Z),createEventFilter:Z=>createEventFilter(L,Z),createPendingTransactionFilter:()=>createPendingTransactionFilter(L),estimateContractGas:Z=>estimateContractGas(L,Z),estimateGas:Z=>estimateGas(L,Z),getBalance:Z=>getBalance(L,Z),getBlock:Z=>getBlock(L,Z),getBlockNumber:Z=>getBlockNumber(L,Z),getBlockTransactionCount:Z=>getBlockTransactionCount(L,Z),getBytecode:Z=>getBytecode(L,Z),getChainId:()=>getChainId(L),getEnsAddress:Z=>getEnsAddress(L,Z),getEnsAvatar:Z=>getEnsAvatar(L,Z),getEnsName:Z=>getEnsName(L,Z),getEnsResolver:Z=>getEnsResolver(L,Z),getEnsText:Z=>getEnsText(L,Z),getFeeHistory:Z=>getFeeHistory(L,Z),getFilterChanges:Z=>getFilterChanges(L,Z),getFilterLogs:Z=>getFilterLogs(L,Z),getGasPrice:()=>getGasPrice(L),getLogs:Z=>getLogs(L,Z),getStorageAt:Z=>getStorageAt(L,Z),getTransaction:Z=>getTransaction(L,Z),getTransactionConfirmations:Z=>getTransactionConfirmations(L,Z),getTransactionCount:Z=>getTransactionCount(L,Z),getTransactionReceipt:Z=>getTransactionReceipt(L,Z),multicall:Z=>multicall(L,Z),readContract:Z=>readContract(L,Z),simulateContract:Z=>simulateContract(L,Z),verifyMessage:Z=>verifyMessage(L,Z),verifyTypedData:Z=>verifyTypedData(L,Z),uninstallFilter:Z=>uninstallFilter(L,Z),waitForTransactionReceipt:Z=>waitForTransactionReceipt(L,Z),watchBlocks:Z=>watchBlocks(L,Z),watchBlockNumber:Z=>watchBlockNumber(L,Z),watchContractEvent:Z=>watchContractEvent(L,Z),watchEvent:Z=>watchEvent(L,Z),watchPendingTransactions:Z=>watchPendingTransactions(L,Z)}}function createPublicClient(L){const{key:Z="public",name:X="Public Client"}=L;return createClient$1({...L,key:Z,name:X,type:"publicClient"}).extend(publicActions)}function deployContract(L,{abi:Z,args:X,bytecode:te,...ie}){const oe=encodeDeployData({abi:Z,args:X,bytecode:te});return sendTransaction(L,{...ie,data:oe})}async function getAddresses(L){return(await L.request({method:"eth_accounts"})).map(X=>checksumAddress(X))}async function getPermissions(L){return await L.request({method:"wallet_getPermissions"})}async function requestAddresses(L){return(await L.request({method:"eth_requestAccounts"})).map(X=>getAddress(X))}async function requestPermissions(L,Z){return L.request({method:"wallet_requestPermissions",params:[Z]})}async function signMessage$1(L,{account:Z=L.account,message:X}){if(!Z)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const te=parseAccount(Z);if(te.type==="local")return te.signMessage({message:X});const ie=(()=>typeof X=="string"?stringToHex(X):X.raw instanceof Uint8Array?toHex(X.raw):X.raw)();return L.request({method:"personal_sign",params:[ie,te.address]})}async function signTypedData$1(L,{account:Z=L.account,domain:X,message:te,primaryType:ie,types:oe}){if(!Z)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const se=parseAccount(Z),ue={EIP712Domain:[typeof X?.name=="string"&&{name:"name",type:"string"},X?.version&&{name:"version",type:"string"},typeof X?.chainId=="number"&&{name:"chainId",type:"uint256"},X?.verifyingContract&&{name:"verifyingContract",type:"address"},X?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean),...oe};if(validateTypedData({domain:X,message:te,primaryType:ie,types:ue}),se.type==="local")return se.signTypedData({domain:X,primaryType:ie,types:ue,message:te});const ce=stringify({domain:X??{},primaryType:ie,types:ue,message:te},(le,de)=>isHex(de)?de.toLowerCase():de);return L.request({method:"eth_signTypedData_v4",params:[se.address,ce]})}async function switchChain(L,{id:Z}){await L.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(Z)}]})}async function watchAsset(L,Z){return await L.request({method:"wallet_watchAsset",params:Z})}function walletActions(L){return{addChain:Z=>addChain(L,Z),deployContract:Z=>deployContract(L,Z),getAddresses:()=>getAddresses(L),getChainId:()=>getChainId(L),getPermissions:()=>getPermissions(L),requestAddresses:()=>requestAddresses(L),requestPermissions:Z=>requestPermissions(L,Z),sendTransaction:Z=>sendTransaction(L,Z),signMessage:Z=>signMessage$1(L,Z),signTypedData:Z=>signTypedData$1(L,Z),switchChain:Z=>switchChain(L,Z),watchAsset:Z=>watchAsset(L,Z),writeContract:Z=>writeContract(L,Z)}}function createWalletClient(L){const{key:Z="wallet",name:X="Wallet Client",transport:te}=L;return createClient$1({...L,key:Z,name:X,transport:oe=>te({...oe,retryCount:0}),type:"walletClient"}).extend(walletActions)}function webSocket(L,Z={}){const{key:X="webSocket",name:te="WebSocket JSON-RPC",retryDelay:ie}=Z;return({chain:oe,retryCount:se,timeout:ue})=>{const ce=Z.retryCount??se,le=ue??Z.timeout??1e4,de=L||oe?.rpcUrls.default.webSocket?.[0];if(!de)throw new UrlRequiredError;return createTransport({key:X,name:te,async request({method:he,params:ge}){const _e={method:he,params:ge},Ae=await getSocket(de),{error:xe,result:Ie}=await rpc$1.webSocketAsync(Ae,{body:_e,timeout:le});if(xe)throw new RpcRequestError({body:_e,error:xe,url:de});return Ie},retryCount:ce,retryDelay:ie,timeout:le,type:"webSocket"},{getSocket(){return getSocket(de)},async subscribe({params:he,onData:ge,onError:_e}){const Ae=await getSocket(de),{result:xe}=await new Promise((Ie,Pe)=>rpc$1.webSocket(Ae,{body:{method:"eth_subscribe",params:he},onResponse(Ce){if(Ce.error){Pe(Ce.error),_e?.(Ce.error);return}if(typeof Ce.id=="number"){Ie(Ce);return}Ce.method==="eth_subscription"&&ge(Ce.params)}}));return{subscriptionId:xe,async unsubscribe(){return new Promise(Ie=>rpc$1.webSocket(Ae,{body:{method:"eth_unsubscribe",params:[xe]},onResponse:Ie}))}}}})}}function number(L){if(!Number.isSafeInteger(L)||L<0)throw new Error(`Wrong positive integer: ${L}`)}function bool(L){if(typeof L!="boolean")throw new Error(`Expected boolean, not ${L}`)}function bytes(L,...Z){if(!(L instanceof Uint8Array))throw new Error("Expected Uint8Array");if(Z.length>0&&!Z.includes(L.length))throw new Error(`Expected Uint8Array of length ${Z}, not of length=${L.length}`)}function hash(L){if(typeof L!="function"||typeof L.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(L.outputLen),number(L.blockLen)}function exists(L,Z=!0){if(L.destroyed)throw new Error("Hash instance has been destroyed");if(Z&&L.finished)throw new Error("Hash#digest() has already been called")}function output(L,Z){bytes(L);const X=Z.outputLen;if(L.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}const assert={number,bool,bytes,hash,exists,output},crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a=L=>L instanceof Uint8Array,createView=L=>new DataView(L.buffer,L.byteOffset,L.byteLength),rotr=(L,Z)=>L<<32-Z|L>>>Z,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(L,Z)=>Z.toString(16).padStart(2,"0"));function utf8ToBytes(L){if(typeof L!="string")throw new Error(`utf8ToBytes expected string, got ${typeof L}`);return new Uint8Array(new TextEncoder().encode(L))}function toBytes(L){if(typeof L=="string"&&(L=utf8ToBytes(L)),!u8a(L))throw new Error(`expected Uint8Array, got ${typeof L}`);return L}function concatBytes(...L){const Z=new Uint8Array(L.reduce((te,ie)=>te+ie.length,0));let X=0;return L.forEach(te=>{if(!u8a(te))throw new Error("Uint8Array expected");Z.set(te,X),X+=te.length}),Z}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(L){const Z=te=>L().update(toBytes(te)).digest(),X=L();return Z.outputLen=X.outputLen,Z.blockLen=X.blockLen,Z.create=()=>L(),Z}function randomBytes(L=32){if(crypto&&typeof crypto.getRandomValues=="function")return crypto.getRandomValues(new Uint8Array(L));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(L,Z,X,te){if(typeof L.setBigUint64=="function")return L.setBigUint64(Z,X,te);const ie=BigInt(32),oe=BigInt(4294967295),se=Number(X>>ie&oe),ue=Number(X&oe),ce=te?4:0,le=te?0:4;L.setUint32(Z+ce,se,te),L.setUint32(Z+le,ue,te)}class SHA2 extends Hash{constructor(Z,X,te,ie){super(),this.blockLen=Z,this.outputLen=X,this.padOffset=te,this.isLE=ie,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(Z),this.view=createView(this.buffer)}update(Z){assert.exists(this);const{view:X,buffer:te,blockLen:ie}=this;Z=toBytes(Z);const oe=Z.length;for(let se=0;se<oe;){const ue=Math.min(ie-this.pos,oe-se);if(ue===ie){const ce=createView(Z);for(;ie<=oe-se;se+=ie)this.process(ce,se);continue}te.set(Z.subarray(se,se+ue),this.pos),this.pos+=ue,se+=ue,this.pos===ie&&(this.process(X,0),this.pos=0)}return this.length+=Z.length,this.roundClean(),this}digestInto(Z){assert.exists(this),assert.output(Z,this),this.finished=!0;const{buffer:X,view:te,blockLen:ie,isLE:oe}=this;let{pos:se}=this;X[se++]=128,this.buffer.subarray(se).fill(0),this.padOffset>ie-se&&(this.process(te,0),se=0);for(let he=se;he<ie;he++)X[he]=0;setBigUint64(te,ie-8,BigInt(this.length*8),oe),this.process(te,0);const ue=createView(Z),ce=this.outputLen;if(ce%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const le=ce/4,de=this.get();if(le>de.length)throw new Error("_sha2: outputLen bigger than state");for(let he=0;he<le;he++)ue.setUint32(4*he,de[he],oe)}digest(){const{buffer:Z,outputLen:X}=this;this.digestInto(Z);const te=Z.slice(0,X);return this.destroy(),te}_cloneInto(Z){Z||(Z=new this.constructor),Z.set(...this.get());const{blockLen:X,buffer:te,length:ie,finished:oe,destroyed:se,pos:ue}=this;return Z.length=ie,Z.pos=ue,Z.finished=oe,Z.destroyed=se,ie%X&&Z.buffer.set(te),Z}}const Chi=(L,Z,X)=>L&Z^~L&X,Maj=(L,Z,X)=>L&Z^L&X^Z&X,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:Z,B:X,C:te,D:ie,E:oe,F:se,G:ue,H:ce}=this;return[Z,X,te,ie,oe,se,ue,ce]}set(Z,X,te,ie,oe,se,ue,ce){this.A=Z|0,this.B=X|0,this.C=te|0,this.D=ie|0,this.E=oe|0,this.F=se|0,this.G=ue|0,this.H=ce|0}process(Z,X){for(let he=0;he<16;he++,X+=4)SHA256_W[he]=Z.getUint32(X,!1);for(let he=16;he<64;he++){const ge=SHA256_W[he-15],_e=SHA256_W[he-2],Ae=rotr(ge,7)^rotr(ge,18)^ge>>>3,xe=rotr(_e,17)^rotr(_e,19)^_e>>>10;SHA256_W[he]=xe+SHA256_W[he-7]+Ae+SHA256_W[he-16]|0}let{A:te,B:ie,C:oe,D:se,E:ue,F:ce,G:le,H:de}=this;for(let he=0;he<64;he++){const ge=rotr(ue,6)^rotr(ue,11)^rotr(ue,25),_e=de+ge+Chi(ue,ce,le)+SHA256_K[he]+SHA256_W[he]|0,xe=(rotr(te,2)^rotr(te,13)^rotr(te,22))+Maj(te,ie,oe)|0;de=le,le=ce,ce=ue,ue=se+_e|0,se=oe,oe=ie,ie=te,te=_e+xe|0}te=te+this.A|0,ie=ie+this.B|0,oe=oe+this.C|0,se=se+this.D|0,ue=ue+this.E|0,ce=ce+this.F|0,le=le+this.G|0,de=de+this.H|0,this.set(te,ie,oe,se,ue,ce,le,de)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const sha256=wrapConstructor(()=>new SHA256);wrapConstructor(()=>new SHA224);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(L,Z){const X=L%Z;return X>=_0n$2?X:Z+X}function pow(L,Z,X){if(X<=_0n$2||Z<_0n$2)throw new Error("Expected power/modulo > 0");if(X===_1n$3)return _0n$2;let te=_1n$3;for(;Z>_0n$2;)Z&_1n$3&&(te=te*L%X),L=L*L%X,Z>>=_1n$3;return te}function pow2(L,Z,X){let te=L;for(;Z-- >_0n$2;)te*=te,te%=X;return te}function invert$1(L,Z){if(L===_0n$2||Z<=_0n$2)throw new Error(`invert: expected positive integers, got n=${L} mod=${Z}`);let X=mod(L,Z),te=Z,ie=_0n$2,oe=_1n$3;for(;X!==_0n$2;){const ue=te/X,ce=te%X,le=ie-oe*ue;te=X,X=ce,ie=oe,oe=le}if(te!==_1n$3)throw new Error("invert: does not exist");return mod(ie,Z)}function tonelliShanks(L){const Z=(L-_1n$3)/_2n$1;let X,te,ie;for(X=L-_1n$3,te=0;X%_2n$1===_0n$2;X/=_2n$1,te++);for(ie=_2n$1;ie<L&&pow(ie,Z,L)!==L-_1n$3;ie++);if(te===1){const se=(L+_1n$3)/_4n;return function(ce,le){const de=ce.pow(le,se);if(!ce.eql(ce.sqr(de),le))throw new Error("Cannot find square root");return de}}const oe=(X+_1n$3)/_2n$1;return function(ue,ce){if(ue.pow(ce,Z)===ue.neg(ue.ONE))throw new Error("Cannot find square root");let le=te,de=ue.pow(ue.mul(ue.ONE,ie),X),he=ue.pow(ce,oe),ge=ue.pow(ce,X);for(;!ue.eql(ge,ue.ONE);){if(ue.eql(ge,ue.ZERO))return ue.ZERO;let _e=1;for(let xe=ue.sqr(ge);_e<le&&!ue.eql(xe,ue.ONE);_e++)xe=ue.sqr(xe);const Ae=ue.pow(de,_1n$3<<BigInt(le-_e-1));de=ue.sqr(Ae),he=ue.mul(he,Ae),ge=ue.mul(ge,de),le=_e}return he}}function FpSqrt(L){if(L%_4n===_3n$1){const Z=(L+_1n$3)/_4n;return function(te,ie){const oe=te.pow(ie,Z);if(!te.eql(te.sqr(oe),ie))throw new Error("Cannot find square root");return oe}}if(L%_8n===_5n){const Z=(L-_5n)/_8n;return function(te,ie){const oe=te.mul(ie,_2n$1),se=te.pow(oe,Z),ue=te.mul(ie,se),ce=te.mul(te.mul(ue,_2n$1),se),le=te.mul(ue,te.sub(ce,te.ONE));if(!te.eql(te.sqr(le),ie))throw new Error("Cannot find square root");return le}}return tonelliShanks(L)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(L){const Z={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},X=FIELD_FIELDS.reduce((te,ie)=>(te[ie]="function",te),Z);return validateObject(L,X)}function FpPow(L,Z,X){if(X<_0n$2)throw new Error("Expected power > 0");if(X===_0n$2)return L.ONE;if(X===_1n$3)return Z;let te=L.ONE,ie=Z;for(;X>_0n$2;)X&_1n$3&&(te=L.mul(te,ie)),ie=L.sqr(ie),X>>=_1n$3;return te}function FpInvertBatch(L,Z){const X=new Array(Z.length),te=Z.reduce((oe,se,ue)=>L.is0(se)?oe:(X[ue]=oe,L.mul(oe,se)),L.ONE),ie=L.inv(te);return Z.reduceRight((oe,se,ue)=>L.is0(se)?oe:(X[ue]=L.mul(oe,X[ue]),L.mul(oe,se)),ie),X}function nLength(L,Z){const X=Z!==void 0?Z:L.toString(2).length,te=Math.ceil(X/8);return{nBitLength:X,nByteLength:te}}function Field(L,Z,X=!1,te={}){if(L<=_0n$2)throw new Error(`Expected Fp ORDER > 0, got ${L}`);const{nBitLength:ie,nByteLength:oe}=nLength(L,Z);if(oe>2048)throw new Error("Field lengths over 2048 bytes are not supported");const se=FpSqrt(L),ue=Object.freeze({ORDER:L,BITS:ie,BYTES:oe,MASK:bitMask(ie),ZERO:_0n$2,ONE:_1n$3,create:ce=>mod(ce,L),isValid:ce=>{if(typeof ce!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof ce}`);return _0n$2<=ce&&ce<L},is0:ce=>ce===_0n$2,isOdd:ce=>(ce&_1n$3)===_1n$3,neg:ce=>mod(-ce,L),eql:(ce,le)=>ce===le,sqr:ce=>mod(ce*ce,L),add:(ce,le)=>mod(ce+le,L),sub:(ce,le)=>mod(ce-le,L),mul:(ce,le)=>mod(ce*le,L),pow:(ce,le)=>FpPow(ue,ce,le),div:(ce,le)=>mod(ce*invert$1(le,L),L),sqrN:ce=>ce*ce,addN:(ce,le)=>ce+le,subN:(ce,le)=>ce-le,mulN:(ce,le)=>ce*le,inv:ce=>invert$1(ce,L),sqrt:te.sqrt||(ce=>se(ue,ce)),invertBatch:ce=>FpInvertBatch(ue,ce),cmov:(ce,le,de)=>de?le:ce,toBytes:ce=>X?numberToBytesLE(ce,oe):numberToBytesBE(ce,oe),fromBytes:ce=>{if(ce.length!==oe)throw new Error(`Fp.fromBytes: expected ${oe}, got ${ce.length}`);return X?bytesToNumberLE(ce):bytesToNumberBE(ce)}});return Object.freeze(ue)}function hashToPrivateScalar(L,Z,X=!1){L=ensureBytes("privateHash",L);const te=L.length,ie=nLength(Z).nByteLength+8;if(ie<24||te<ie||te>1024)throw new Error(`hashToPrivateScalar: expected ${ie}-1024 bytes of input, got ${te}`);const oe=X?bytesToNumberLE(L):bytesToNumberBE(L);return mod(oe,Z-_1n$3)+_1n$3}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function wNAF(L,Z){const X=(ie,oe)=>{const se=oe.negate();return ie?se:oe},te=ie=>{const oe=Math.ceil(Z/ie)+1,se=2**(ie-1);return{windows:oe,windowSize:se}};return{constTimeNegate:X,unsafeLadder(ie,oe){let se=L.ZERO,ue=ie;for(;oe>_0n$1;)oe&_1n$2&&(se=se.add(ue)),ue=ue.double(),oe>>=_1n$2;return se},precomputeWindow(ie,oe){const{windows:se,windowSize:ue}=te(oe),ce=[];let le=ie,de=le;for(let he=0;he<se;he++){de=le,ce.push(de);for(let ge=1;ge<ue;ge++)de=de.add(le),ce.push(de);le=de.double()}return ce},wNAF(ie,oe,se){const{windows:ue,windowSize:ce}=te(ie);let le=L.ZERO,de=L.BASE;const he=BigInt(2**ie-1),ge=2**ie,_e=BigInt(ie);for(let Ae=0;Ae<ue;Ae++){const xe=Ae*ce;let Ie=Number(se&he);se>>=_e,Ie>ce&&(Ie-=ge,se+=_1n$2);const Pe=xe,Ce=xe+Math.abs(Ie)-1,Be=Ae%2!==0,Ve=Ie<0;Ie===0?de=de.add(X(Be,oe[Pe])):le=le.add(X(Ve,oe[Ce]))}return{p:le,f:de}},wNAFCached(ie,oe,se,ue){const ce=ie._WINDOW_SIZE||1;let le=oe.get(ie);return le||(le=this.precomputeWindow(ie,ce),ce!==1&&oe.set(ie,ue(le))),this.wNAF(ce,le,se)}}}function validateBasic(L){return validateField(L.Fp),validateObject(L,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(L.n,L.nBitLength),...L,p:L.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(L){const Z=validateBasic(L);validateObject(Z,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:X,Fp:te,a:ie}=Z;if(X){if(!te.eql(ie,te.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof X!="object"||typeof X.beta!="bigint"||typeof X.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...Z})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut$1,DER={Err:class extends Error{constructor(Z=""){super(Z)}},_parseInt(L){const{Err:Z}=DER;if(L.length<2||L[0]!==2)throw new Z("Invalid signature integer tag");const X=L[1],te=L.subarray(2,X+2);if(!X||te.length!==X)throw new Z("Invalid signature integer: wrong length");if(te[0]&128)throw new Z("Invalid signature integer: negative");if(te[0]===0&&!(te[1]&128))throw new Z("Invalid signature integer: unnecessary leading zero");return{d:b2n(te),l:L.subarray(X+2)}},toSig(L){const{Err:Z}=DER,X=typeof L=="string"?h2b(L):L;if(!(X instanceof Uint8Array))throw new Error("ui8a expected");let te=X.length;if(te<2||X[0]!=48)throw new Z("Invalid signature tag");if(X[1]!==te-2)throw new Z("Invalid signature: incorrect length");const{d:ie,l:oe}=DER._parseInt(X.subarray(2)),{d:se,l:ue}=DER._parseInt(oe);if(ue.length)throw new Z("Invalid signature: left bytes after parsing");return{r:ie,s:se}},hexFromSig(L){const Z=le=>Number.parseInt(le[0],16)&8?"00"+le:le,X=le=>{const de=le.toString(16);return de.length&1?`0${de}`:de},te=Z(X(L.s)),ie=Z(X(L.r)),oe=te.length/2,se=ie.length/2,ue=X(oe),ce=X(se);return`30${X(se+oe+4)}02${ce}${ie}02${ue}${te}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(L){const Z=validatePointOpts(L),{Fp:X}=Z,te=Z.toBytes||((Ae,xe,Ie)=>{const Pe=xe.toAffine();return concatBytes$1(Uint8Array.from([4]),X.toBytes(Pe.x),X.toBytes(Pe.y))}),ie=Z.fromBytes||(Ae=>{const xe=Ae.subarray(1),Ie=X.fromBytes(xe.subarray(0,X.BYTES)),Pe=X.fromBytes(xe.subarray(X.BYTES,2*X.BYTES));return{x:Ie,y:Pe}});function oe(Ae){const{a:xe,b:Ie}=Z,Pe=X.sqr(Ae),Ce=X.mul(Pe,Ae);return X.add(X.add(Ce,X.mul(Ae,xe)),Ie)}if(!X.eql(X.sqr(Z.Gy),oe(Z.Gx)))throw new Error("bad generator point: equation left != right");function se(Ae){return typeof Ae=="bigint"&&_0n<Ae&&Ae<Z.n}function ue(Ae){if(!se(Ae))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ce(Ae){const{allowedPrivateKeyLengths:xe,nByteLength:Ie,wrapPrivateKey:Pe,n:Ce}=Z;if(xe&&typeof Ae!="bigint"){if(Ae instanceof Uint8Array&&(Ae=bytesToHex(Ae)),typeof Ae!="string"||!xe.includes(Ae.length))throw new Error("Invalid key");Ae=Ae.padStart(Ie*2,"0")}let Be;try{Be=typeof Ae=="bigint"?Ae:bytesToNumberBE(ensureBytes("private key",Ae,Ie))}catch{throw new Error(`private key must be ${Ie} bytes, hex or bigint, not ${typeof Ae}`)}return Pe&&(Be=mod(Be,Ce)),ue(Be),Be}const le=new Map;function de(Ae){if(!(Ae instanceof he))throw new Error("ProjectivePoint expected")}class he{constructor(xe,Ie,Pe){if(this.px=xe,this.py=Ie,this.pz=Pe,xe==null||!X.isValid(xe))throw new Error("x required");if(Ie==null||!X.isValid(Ie))throw new Error("y required");if(Pe==null||!X.isValid(Pe))throw new Error("z required")}static fromAffine(xe){const{x:Ie,y:Pe}=xe||{};if(!xe||!X.isValid(Ie)||!X.isValid(Pe))throw new Error("invalid affine point");if(xe instanceof he)throw new Error("projective point not allowed");const Ce=Be=>X.eql(Be,X.ZERO);return Ce(Ie)&&Ce(Pe)?he.ZERO:new he(Ie,Pe,X.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(xe){const Ie=X.invertBatch(xe.map(Pe=>Pe.pz));return xe.map((Pe,Ce)=>Pe.toAffine(Ie[Ce])).map(he.fromAffine)}static fromHex(xe){const Ie=he.fromAffine(ie(ensureBytes("pointHex",xe)));return Ie.assertValidity(),Ie}static fromPrivateKey(xe){return he.BASE.multiply(ce(xe))}_setWindowSize(xe){this._WINDOW_SIZE=xe,le.delete(this)}assertValidity(){if(this.is0()){if(Z.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:xe,y:Ie}=this.toAffine();if(!X.isValid(xe)||!X.isValid(Ie))throw new Error("bad point: x or y not FE");const Pe=X.sqr(Ie),Ce=oe(xe);if(!X.eql(Pe,Ce))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:xe}=this.toAffine();if(X.isOdd)return!X.isOdd(xe);throw new Error("Field doesn't support isOdd")}equals(xe){de(xe);const{px:Ie,py:Pe,pz:Ce}=this,{px:Be,py:Ve,pz:Ge}=xe,Ke=X.eql(X.mul(Ie,Ge),X.mul(Be,Ce)),Je=X.eql(X.mul(Pe,Ge),X.mul(Ve,Ce));return Ke&&Je}negate(){return new he(this.px,X.neg(this.py),this.pz)}double(){const{a:xe,b:Ie}=Z,Pe=X.mul(Ie,_3n),{px:Ce,py:Be,pz:Ve}=this;let Ge=X.ZERO,Ke=X.ZERO,Je=X.ZERO,et=X.mul(Ce,Ce),at=X.mul(Be,Be),dt=X.mul(Ve,Ve),st=X.mul(Ce,Be);return st=X.add(st,st),Je=X.mul(Ce,Ve),Je=X.add(Je,Je),Ge=X.mul(xe,Je),Ke=X.mul(Pe,dt),Ke=X.add(Ge,Ke),Ge=X.sub(at,Ke),Ke=X.add(at,Ke),Ke=X.mul(Ge,Ke),Ge=X.mul(st,Ge),Je=X.mul(Pe,Je),dt=X.mul(xe,dt),st=X.sub(et,dt),st=X.mul(xe,st),st=X.add(st,Je),Je=X.add(et,et),et=X.add(Je,et),et=X.add(et,dt),et=X.mul(et,st),Ke=X.add(Ke,et),dt=X.mul(Be,Ve),dt=X.add(dt,dt),et=X.mul(dt,st),Ge=X.sub(Ge,et),Je=X.mul(dt,at),Je=X.add(Je,Je),Je=X.add(Je,Je),new he(Ge,Ke,Je)}add(xe){de(xe);const{px:Ie,py:Pe,pz:Ce}=this,{px:Be,py:Ve,pz:Ge}=xe;let Ke=X.ZERO,Je=X.ZERO,et=X.ZERO;const at=Z.a,dt=X.mul(Z.b,_3n);let st=X.mul(Ie,Be),ht=X.mul(Pe,Ve),Fe=X.mul(Ce,Ge),pe=X.add(Ie,Pe),we=X.add(Be,Ve);pe=X.mul(pe,we),we=X.add(st,ht),pe=X.sub(pe,we),we=X.add(Ie,Ce);let $e=X.add(Be,Ge);return we=X.mul(we,$e),$e=X.add(st,Fe),we=X.sub(we,$e),$e=X.add(Pe,Ce),Ke=X.add(Ve,Ge),$e=X.mul($e,Ke),Ke=X.add(ht,Fe),$e=X.sub($e,Ke),et=X.mul(at,we),Ke=X.mul(dt,Fe),et=X.add(Ke,et),Ke=X.sub(ht,et),et=X.add(ht,et),Je=X.mul(Ke,et),ht=X.add(st,st),ht=X.add(ht,st),Fe=X.mul(at,Fe),we=X.mul(dt,we),ht=X.add(ht,Fe),Fe=X.sub(st,Fe),Fe=X.mul(at,Fe),we=X.add(we,Fe),st=X.mul(ht,we),Je=X.add(Je,st),st=X.mul($e,we),Ke=X.mul(pe,Ke),Ke=X.sub(Ke,st),st=X.mul(pe,ht),et=X.mul($e,et),et=X.add(et,st),new he(Ke,Je,et)}subtract(xe){return this.add(xe.negate())}is0(){return this.equals(he.ZERO)}wNAF(xe){return _e.wNAFCached(this,le,xe,Ie=>{const Pe=X.invertBatch(Ie.map(Ce=>Ce.pz));return Ie.map((Ce,Be)=>Ce.toAffine(Pe[Be])).map(he.fromAffine)})}multiplyUnsafe(xe){const Ie=he.ZERO;if(xe===_0n)return Ie;if(ue(xe),xe===_1n$1)return this;const{endo:Pe}=Z;if(!Pe)return _e.unsafeLadder(this,xe);let{k1neg:Ce,k1:Be,k2neg:Ve,k2:Ge}=Pe.splitScalar(xe),Ke=Ie,Je=Ie,et=this;for(;Be>_0n||Ge>_0n;)Be&_1n$1&&(Ke=Ke.add(et)),Ge&_1n$1&&(Je=Je.add(et)),et=et.double(),Be>>=_1n$1,Ge>>=_1n$1;return Ce&&(Ke=Ke.negate()),Ve&&(Je=Je.negate()),Je=new he(X.mul(Je.px,Pe.beta),Je.py,Je.pz),Ke.add(Je)}multiply(xe){ue(xe);let Ie=xe,Pe,Ce;const{endo:Be}=Z;if(Be){const{k1neg:Ve,k1:Ge,k2neg:Ke,k2:Je}=Be.splitScalar(Ie);let{p:et,f:at}=this.wNAF(Ge),{p:dt,f:st}=this.wNAF(Je);et=_e.constTimeNegate(Ve,et),dt=_e.constTimeNegate(Ke,dt),dt=new he(X.mul(dt.px,Be.beta),dt.py,dt.pz),Pe=et.add(dt),Ce=at.add(st)}else{const{p:Ve,f:Ge}=this.wNAF(Ie);Pe=Ve,Ce=Ge}return he.normalizeZ([Pe,Ce])[0]}multiplyAndAddUnsafe(xe,Ie,Pe){const Ce=he.BASE,Be=(Ge,Ke)=>Ke===_0n||Ke===_1n$1||!Ge.equals(Ce)?Ge.multiplyUnsafe(Ke):Ge.multiply(Ke),Ve=Be(this,Ie).add(Be(xe,Pe));return Ve.is0()?void 0:Ve}toAffine(xe){const{px:Ie,py:Pe,pz:Ce}=this,Be=this.is0();xe==null&&(xe=Be?X.ONE:X.inv(Ce));const Ve=X.mul(Ie,xe),Ge=X.mul(Pe,xe),Ke=X.mul(Ce,xe);if(Be)return{x:X.ZERO,y:X.ZERO};if(!X.eql(Ke,X.ONE))throw new Error("invZ was invalid");return{x:Ve,y:Ge}}isTorsionFree(){const{h:xe,isTorsionFree:Ie}=Z;if(xe===_1n$1)return!0;if(Ie)return Ie(he,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:xe,clearCofactor:Ie}=Z;return xe===_1n$1?this:Ie?Ie(he,this):this.multiplyUnsafe(Z.h)}toRawBytes(xe=!0){return this.assertValidity(),te(he,this,xe)}toHex(xe=!0){return bytesToHex(this.toRawBytes(xe))}}he.BASE=new he(Z.Gx,Z.Gy,X.ONE),he.ZERO=new he(X.ZERO,X.ONE,X.ZERO);const ge=Z.nBitLength,_e=wNAF(he,Z.endo?Math.ceil(ge/2):ge);return{CURVE:Z,ProjectivePoint:he,normPrivateKeyToScalar:ce,weierstrassEquation:oe,isWithinCurveOrder:se}}function validateOpts(L){const Z=validateBasic(L);return validateObject(Z,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...Z})}function weierstrass(L){const Z=validateOpts(L),{Fp:X,n:te}=Z,ie=X.BYTES+1,oe=2*X.BYTES+1;function se(we){return _0n<we&&we<X.ORDER}function ue(we){return mod(we,te)}function ce(we){return invert$1(we,te)}const{ProjectivePoint:le,normPrivateKeyToScalar:de,weierstrassEquation:he,isWithinCurveOrder:ge}=weierstrassPoints({...Z,toBytes(we,$e,Oe){const Me=$e.toAffine(),Ze=X.toBytes(Me.x),We=concatBytes$1;return Oe?We(Uint8Array.from([$e.hasEvenY()?2:3]),Ze):We(Uint8Array.from([4]),Ze,X.toBytes(Me.y))},fromBytes(we){const $e=we.length,Oe=we[0],Me=we.subarray(1);if($e===ie&&(Oe===2||Oe===3)){const Ze=bytesToNumberBE(Me);if(!se(Ze))throw new Error("Point is not on curve");const We=he(Ze);let Ne=X.sqrt(We);const ve=(Ne&_1n$1)===_1n$1;return(Oe&1)===1!==ve&&(Ne=X.neg(Ne)),{x:Ze,y:Ne}}else if($e===oe&&Oe===4){const Ze=X.fromBytes(Me.subarray(0,X.BYTES)),We=X.fromBytes(Me.subarray(X.BYTES,2*X.BYTES));return{x:Ze,y:We}}else throw new Error(`Point of length ${$e} was invalid. Expected ${ie} compressed bytes or ${oe} uncompressed bytes`)}}),_e=we=>bytesToHex(numberToBytesBE(we,Z.nByteLength));function Ae(we){const $e=te>>_1n$1;return we>$e}function xe(we){return Ae(we)?ue(-we):we}const Ie=(we,$e,Oe)=>bytesToNumberBE(we.slice($e,Oe));class Pe{constructor($e,Oe,Me){this.r=$e,this.s=Oe,this.recovery=Me,this.assertValidity()}static fromCompact($e){const Oe=Z.nByteLength;return $e=ensureBytes("compactSignature",$e,Oe*2),new Pe(Ie($e,0,Oe),Ie($e,Oe,2*Oe))}static fromDER($e){const{r:Oe,s:Me}=DER.toSig(ensureBytes("DER",$e));return new Pe(Oe,Me)}assertValidity(){if(!ge(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!ge(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit($e){return new Pe(this.r,this.s,$e)}recoverPublicKey($e){const{r:Oe,s:Me,recovery:Ze}=this,We=Je(ensureBytes("msgHash",$e));if(Ze==null||![0,1,2,3].includes(Ze))throw new Error("recovery id invalid");const Ne=Ze===2||Ze===3?Oe+Z.n:Oe;if(Ne>=X.ORDER)throw new Error("recovery id 2 or 3 invalid");const ve=Ze&1?"03":"02",Le=le.fromHex(ve+_e(Ne)),it=ce(Ne),Te=ue(-We*it),Ye=ue(Me*it),Ue=le.BASE.multiplyAndAddUnsafe(Le,Te,Ye);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return Ae(this.s)}normalizeS(){return this.hasHighS()?new Pe(this.r,ue(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return _e(this.r)+_e(this.s)}}const Ce={isValidPrivateKey(we){try{return de(we),!0}catch{return!1}},normPrivateKeyToScalar:de,randomPrivateKey:()=>{const we=Z.randomBytes(X.BYTES+8),$e=hashToPrivateScalar(we,te);return numberToBytesBE($e,Z.nByteLength)},precompute(we=8,$e=le.BASE){return $e._setWindowSize(we),$e.multiply(BigInt(3)),$e}};function Be(we,$e=!0){return le.fromPrivateKey(we).toRawBytes($e)}function Ve(we){const $e=we instanceof Uint8Array,Oe=typeof we=="string",Me=($e||Oe)&&we.length;return $e?Me===ie||Me===oe:Oe?Me===2*ie||Me===2*oe:we instanceof le}function Ge(we,$e,Oe=!0){if(Ve(we))throw new Error("first arg must be private key");if(!Ve($e))throw new Error("second arg must be public key");return le.fromHex($e).multiply(de(we)).toRawBytes(Oe)}const Ke=Z.bits2int||function(we){const $e=bytesToNumberBE(we),Oe=we.length*8-Z.nBitLength;return Oe>0?$e>>BigInt(Oe):$e},Je=Z.bits2int_modN||function(we){return ue(Ke(we))},et=bitMask(Z.nBitLength);function at(we){if(typeof we!="bigint")throw new Error("bigint expected");if(!(_0n<=we&&we<et))throw new Error(`bigint expected < 2^${Z.nBitLength}`);return numberToBytesBE(we,Z.nByteLength)}function dt(we,$e,Oe=st){if(["recovered","canonical"].some(Xe=>Xe in Oe))throw new Error("sign() legacy options not supported");const{hash:Me,randomBytes:Ze}=Z;let{lowS:We,prehash:Ne,extraEntropy:ve}=Oe;We==null&&(We=!0),we=ensureBytes("msgHash",we),Ne&&(we=ensureBytes("prehashed msgHash",Me(we)));const Le=Je(we),it=de($e),Te=[at(it),at(Le)];if(ve!=null){const Xe=ve===!0?Ze(X.BYTES):ve;Te.push(ensureBytes("extraEntropy",Xe,X.BYTES))}const Ye=concatBytes$1(...Te),Ue=Le;function qe(Xe){const nt=Ke(Xe);if(!ge(nt))return;const tt=ce(nt),Qe=le.BASE.multiply(nt).toAffine(),ft=ue(Qe.x);if(ft===_0n)return;const rt=ue(tt*ue(Ue+ft*it));if(rt===_0n)return;let lt=(Qe.x===ft?0:2)|Number(Qe.y&_1n$1),qt=rt;return We&&Ae(rt)&&(qt=xe(rt),lt^=1),new Pe(ft,qt,lt)}return{seed:Ye,k2sig:qe}}const st={lowS:Z.lowS,prehash:!1},ht={lowS:Z.lowS,prehash:!1};function Fe(we,$e,Oe=st){const{seed:Me,k2sig:Ze}=dt(we,$e,Oe),We=Z;return createHmacDrbg(We.hash.outputLen,We.nByteLength,We.hmac)(Me,Ze)}le.BASE._setWindowSize(8);function pe(we,$e,Oe,Me=ht){const Ze=we;if($e=ensureBytes("msgHash",$e),Oe=ensureBytes("publicKey",Oe),"strict"in Me)throw new Error("options.strict was renamed to lowS");const{lowS:We,prehash:Ne}=Me;let ve,Le;try{if(typeof Ze=="string"||Ze instanceof Uint8Array)try{ve=Pe.fromDER(Ze)}catch(Qe){if(!(Qe instanceof DER.Err))throw Qe;ve=Pe.fromCompact(Ze)}else if(typeof Ze=="object"&&typeof Ze.r=="bigint"&&typeof Ze.s=="bigint"){const{r:Qe,s:ft}=Ze;ve=new Pe(Qe,ft)}else throw new Error("PARSE");Le=le.fromHex(Oe)}catch(Qe){if(Qe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(We&&ve.hasHighS())return!1;Ne&&($e=Z.hash($e));const{r:it,s:Te}=ve,Ye=Je($e),Ue=ce(Te),qe=ue(Ye*Ue),Xe=ue(it*Ue),nt=le.BASE.multiplyAndAddUnsafe(Le,qe,Xe)?.toAffine();return nt?ue(nt.x)===it:!1}return{CURVE:Z,getPublicKey:Be,getSharedSecret:Ge,sign:Fe,verify:pe,ProjectivePoint:le,Signature:Pe,utils:Ce}}class HMAC extends Hash{constructor(Z,X){super(),this.finished=!1,this.destroyed=!1,assert.hash(Z);const te=toBytes(X);if(this.iHash=Z.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ie=this.blockLen,oe=new Uint8Array(ie);oe.set(te.length>ie?Z.create().update(te).digest():te);for(let se=0;se<oe.length;se++)oe[se]^=54;this.iHash.update(oe),this.oHash=Z.create();for(let se=0;se<oe.length;se++)oe[se]^=106;this.oHash.update(oe),oe.fill(0)}update(Z){return assert.exists(this),this.iHash.update(Z),this}digestInto(Z){assert.exists(this),assert.bytes(Z,this.outputLen),this.finished=!0,this.iHash.digestInto(Z),this.oHash.update(Z),this.oHash.digestInto(Z),this.destroy()}digest(){const Z=new Uint8Array(this.oHash.outputLen);return this.digestInto(Z),Z}_cloneInto(Z){Z||(Z=Object.create(Object.getPrototypeOf(this),{}));const{oHash:X,iHash:te,finished:ie,destroyed:oe,blockLen:se,outputLen:ue}=this;return Z=Z,Z.finished=ie,Z.destroyed=oe,Z.blockLen=se,Z.outputLen=ue,Z.oHash=X._cloneInto(Z.oHash),Z.iHash=te._cloneInto(Z.iHash),Z}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(L,Z,X)=>new HMAC(L,Z).update(X).digest();hmac.create=(L,Z)=>new HMAC(L,Z);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(L){return{hash:L,hmac:(Z,...X)=>hmac(L,Z,concatBytes(...X)),randomBytes}}function createCurve(L,Z){const X=te=>weierstrass({...L,...getHash(te)});return Object.freeze({...X(Z),create:X})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(L,Z)=>(L+Z/_2n)/Z;function sqrtMod(L){const Z=secp256k1P,X=BigInt(3),te=BigInt(6),ie=BigInt(11),oe=BigInt(22),se=BigInt(23),ue=BigInt(44),ce=BigInt(88),le=L*L*L%Z,de=le*le*L%Z,he=pow2(de,X,Z)*de%Z,ge=pow2(he,X,Z)*de%Z,_e=pow2(ge,_2n,Z)*le%Z,Ae=pow2(_e,ie,Z)*_e%Z,xe=pow2(Ae,oe,Z)*Ae%Z,Ie=pow2(xe,ue,Z)*xe%Z,Pe=pow2(Ie,ce,Z)*Ie%Z,Ce=pow2(Pe,ue,Z)*xe%Z,Be=pow2(Ce,X,Z)*de%Z,Ve=pow2(Be,se,Z)*Ae%Z,Ge=pow2(Ve,te,Z)*le%Z,Ke=pow2(Ge,_2n,Z);if(!Fp.eql(Fp.sqr(Ke),L))throw new Error("Cannot find square root");return Ke}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:L=>{const Z=secp256k1N,X=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),te=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ie=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),oe=X,se=BigInt("0x100000000000000000000000000000000"),ue=divNearest(oe*L,Z),ce=divNearest(-te*L,Z);let le=mod(L-ue*X-ce*ie,Z),de=mod(-ue*te-ce*oe,Z);const he=le>se,ge=de>se;if(he&&(le=Z-le),ge&&(de=Z-de),le>se||de>se)throw new Error("splitScalar: Endomorphism failed, k="+L);return{k1neg:he,k1:le,k2neg:ge,k2:de}}}},sha256);BigInt(0);secp256k1.ProjectivePoint;function signatureToHex({r:L,s:Z,v:X}){return`0x${new secp256k1.Signature(hexToBigInt(L),hexToBigInt(Z)).toCompactHex()}${toHex(X).slice(2)}`}function t$3(L,Z){throw new Error(Z??`Unexpected value: ${L}`)}function u$2(...L){return L.reduce((Z,X)=>X<Z?X:Z)}function m$3(L,Z){return L<Z?-1:L>Z?1:0}function*f$3(L,Z){for(let X=0;X<L.length;X+=Z)yield L.slice(X,X+Z)}function P$5(L){return L!==void 0}function b$3(L){return new Promise(Z=>setTimeout(()=>Z(),L))}var r$2=class extends Error{name="MUDError"};function ne(L){let Z=[],X=[];for(let te of L)T$2(te)?X.push(te):Z.push(te);return{staticFields:Z,dynamicFields:X}}var d$4=class extends r$2{name="InvalidHexValueError";constructor(Z){super(`Hex value "${Z}" is an odd length (${Z.length-2}). It must be an even length.`)}},f$2=class extends r$2{name="InvalidHexLengthForSchemaError";constructor(Z){super(`Hex value "${Z}" has length of ${Z.length-2}, but expected length of 64 for a schema.`)}},x$5=class extends r$2{name="InvalidHexLengthForPackedCounterError";constructor(Z){super(`Hex value "${Z}" has length of ${Z.length-2}, but expected length of 64 for a packed counter.`)}},g$5=class extends r$2{name="InvalidHexLengthForStaticFieldError";constructor(Z,X){super(`Hex value "${X}" has length of ${X.length-2}, but expected length of ${A$2[Z]*2} for ${Z} type.`)}},S$1=class extends r$2{name="InvalidHexLengthForArrayFieldError";constructor(Z,X){super(`Hex value "${X}" has length of ${X.length-2}, but expected a multiple of ${A$2[Z]*2} for ${Z}[] type.`)}},A$1=class extends r$2{name="SchemaStaticLengthMismatchError";constructor(Z,X,te){super(`Schema "${Z}" static data length (${X}) did not match the summed length of all static fields (${te}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`)}},v$3=class extends r$2{name="PackedCounterLengthMismatchError";constructor(Z,X,te){super(`PackedCounter "${Z}" total bytes length (${X}) did not match the summed length of all field byte lengths (${te}).`)}};function p$1(L,Z){if(Z.length>3&&Z.length%2!==0)throw new d$4(Z);if((Z.length-2)/2!==A$2[L])throw new g$5(L,Z);switch(L){case"uint8":case"uint16":case"uint24":case"uint32":case"uint40":case"uint48":case"uint56":case"uint64":case"uint72":case"uint80":case"uint88":case"uint96":case"uint104":case"uint112":case"uint120":case"uint128":case"uint136":case"uint144":case"uint152":case"uint160":case"uint168":case"uint176":case"uint184":case"uint192":case"uint200":case"uint208":case"uint216":case"uint224":case"uint232":case"uint240":case"uint248":case"uint256":case"int8":case"int16":case"int24":case"int32":case"int40":case"int48":case"int56":case"int64":case"int72":case"int80":case"int88":case"int96":case"int104":case"int112":case"int120":case"int128":case"int136":case"int144":case"int152":case"int160":case"int168":case"int176":case"int184":case"int192":case"int200":case"int208":case"int216":case"int224":case"int232":case"int240":case"int248":case"int256":{let X=hexToBigInt(Z,{signed:L.startsWith("int")}),te=typeof a$3[L];if(te==="number")return Number(X);if(te==="bigint")return X;throw new Error(`Unexpected default value type (${te}) for ABI type (${L})`)}case"bytes1":case"bytes2":case"bytes3":case"bytes4":case"bytes5":case"bytes6":case"bytes7":case"bytes8":case"bytes9":case"bytes10":case"bytes11":case"bytes12":case"bytes13":case"bytes14":case"bytes15":case"bytes16":case"bytes17":case"bytes18":case"bytes19":case"bytes20":case"bytes21":case"bytes22":case"bytes23":case"bytes24":case"bytes25":case"bytes26":case"bytes27":case"bytes28":case"bytes29":case"bytes30":case"bytes31":case"bytes32":return Z;case"bool":return hexToBool(Z);case"address":return getAddress(Z)}return t$3(L,`Unsupported static ABI type: ${L}`)}function h$3(L,Z){if(L==="bytes")return Z;if(L==="string")return hexToString(Z);if(Z.length>3&&Z.length%2!==0)throw new d$4(Z);let X=(Z.length-2)/2;switch(L){case"uint8[]":case"uint16[]":case"uint24[]":case"uint32[]":case"uint40[]":case"uint48[]":case"uint56[]":case"uint64[]":case"uint72[]":case"uint80[]":case"uint88[]":case"uint96[]":case"uint104[]":case"uint112[]":case"uint120[]":case"uint128[]":case"uint136[]":case"uint144[]":case"uint152[]":case"uint160[]":case"uint168[]":case"uint176[]":case"uint184[]":case"uint192[]":case"uint200[]":case"uint208[]":case"uint216[]":case"uint224[]":case"uint232[]":case"uint240[]":case"uint248[]":case"uint256[]":case"int8[]":case"int16[]":case"int24[]":case"int32[]":case"int40[]":case"int48[]":case"int56[]":case"int64[]":case"int72[]":case"int80[]":case"int88[]":case"int96[]":case"int104[]":case"int112[]":case"int120[]":case"int128[]":case"int136[]":case"int144[]":case"int152[]":case"int160[]":case"int168[]":case"int176[]":case"int184[]":case"int192[]":case"int200[]":case"int208[]":case"int216[]":case"int224[]":case"int232[]":case"int240[]":case"int248[]":case"int256[]":case"bytes1[]":case"bytes2[]":case"bytes3[]":case"bytes4[]":case"bytes5[]":case"bytes6[]":case"bytes7[]":case"bytes8[]":case"bytes9[]":case"bytes10[]":case"bytes11[]":case"bytes12[]":case"bytes13[]":case"bytes14[]":case"bytes15[]":case"bytes16[]":case"bytes17[]":case"bytes18[]":case"bytes19[]":case"bytes20[]":case"bytes21[]":case"bytes22[]":case"bytes23[]":case"bytes24[]":case"bytes25[]":case"bytes26[]":case"bytes27[]":case"bytes28[]":case"bytes29[]":case"bytes30[]":case"bytes31[]":case"bytes32[]":case"bool[]":case"address[]":{let te=r$3(L),ie=A$2[te];if(X%ie!==0)throw new S$1(te,Z);return new Array(X/ie).fill(void 0).map((oe,se)=>{let ue=sliceHex(Z,se*ie,(se+1)*ie);return p$1(te,ue)})}}return t$3(L,`Unsupported dynamic ABI type: ${L}`)}function ke(L,Z){return T$2(L)?h$3(L,Z):p$1(L,Z)}function ze(L,Z){if(L.staticFields.length!==Z.length)throw new Error(`key tuple length ${Z.length} does not match key schema length ${L.staticFields.length}`);return Z.map((X,te)=>decodeAbiParameters([{type:L.staticFields[te]}],X)[0])}function B$2(L){if(L.length!==66)throw new x$5(L);let Z=p$1("uint56",sliceHex(L,32-7,32)),X=h$3("uint40[]",sliceHex(L,0,32-7)),te=Object.freeze([...X].reverse()),ie=BigInt(te.reduce((oe,se)=>oe+se,0));if(ie!==Z)throw new v$3(L,Z,ie);return{totalByteLength:Z,fieldByteLengths:te}}function P$4(L){return L.reduce((Z,X)=>Z+A$2[X],0)}function ct(L,Z){let X=[],te=0;L.staticFields.forEach(se=>{let ue=A$2[se],ce=p$1(se,sliceHex(Z,te,te+ue));te+=ue,X.push(ce)});let ie=P$4(L.staticFields),oe=te;if(oe!==ie&&console.warn("Decoded static data length does not match schema's expected static data length. Data may get corrupted. Is `getStaticByteLength` outdated?",{expectedLength:ie,actualLength:oe,bytesOffset:te}),L.dynamicFields.length>0){let se=B$2(sliceHex(Z,te,te+32));te+=32,L.dynamicFields.forEach((ce,le)=>{let de=se.fieldByteLengths[le];if(de>0){let he=h$3(ce,sliceHex(Z,te,te+de));te+=de,X.push(he)}else X.push(s$3[ce])});let ue=te-32-oe;BigInt(ue)!==se.totalByteLength&&console.warn("Decoded dynamic data length does not match data layout's expected data length. Data may get corrupted. Did the data layout change?",{expectedLength:se.totalByteLength,actualLength:ue,bytesOffset:te})}return X}function D$1(L){if(L.length!==66)throw new f$2(L);let Z=hexToNumber$1(sliceHex(L,0,2)),X=hexToNumber$1(sliceHex(L,2,3)),te=hexToNumber$1(sliceHex(L,3,4)),ie=[],oe=[];for(let ue=4;ue<4+X;ue++){let ce=hexToNumber$1(sliceHex(L,ue,ue+1));ie.push(n$1[ce])}for(let ue=4+X;ue<4+X+te;ue++){let ce=hexToNumber$1(sliceHex(L,ue,ue+1));oe.push(n$1[ce])}let se=ie.reduce((ue,ce)=>ue+A$2[ce],0);if(se!==Z)throw console.warn(`Schema "${L}" static data length (${Z}) did not match the summed length of all static fields (${se}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`),new A$1(L,Z,se);return{staticFields:ie,dynamicFields:oe}}var browserExports={},browser={get exports(){return browserExports},set exports(L){browserExports=L}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var L=1e3,Z=L*60,X=Z*60,te=X*24,ie=te*7,oe=te*365.25;ms=function(de,he){he=he||{};var ge=typeof de;if(ge==="string"&&de.length>0)return se(de);if(ge==="number"&&isFinite(de))return he.long?ce(de):ue(de);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(de))};function se(de){if(de=String(de),!(de.length>100)){var he=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(de);if(he){var ge=parseFloat(he[1]),_e=(he[2]||"ms").toLowerCase();switch(_e){case"years":case"year":case"yrs":case"yr":case"y":return ge*oe;case"weeks":case"week":case"w":return ge*ie;case"days":case"day":case"d":return ge*te;case"hours":case"hour":case"hrs":case"hr":case"h":return ge*X;case"minutes":case"minute":case"mins":case"min":case"m":return ge*Z;case"seconds":case"second":case"secs":case"sec":case"s":return ge*L;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return ge;default:return}}}}function ue(de){var he=Math.abs(de);return he>=te?Math.round(de/te)+"d":he>=X?Math.round(de/X)+"h":he>=Z?Math.round(de/Z)+"m":he>=L?Math.round(de/L)+"s":de+"ms"}function ce(de){var he=Math.abs(de);return he>=te?le(de,he,te,"day"):he>=X?le(de,he,X,"hour"):he>=Z?le(de,he,Z,"minute"):he>=L?le(de,he,L,"second"):de+" ms"}function le(de,he,ge,_e){var Ae=he>=ge*1.5;return Math.round(de/ge)+" "+_e+(Ae?"s":"")}return ms}function setup$1(L){X.debug=X,X.default=X,X.coerce=ce,X.disable=oe,X.enable=ie,X.enabled=se,X.humanize=requireMs(),X.destroy=le,Object.keys(L).forEach(de=>{X[de]=L[de]}),X.names=[],X.skips=[],X.formatters={};function Z(de){let he=0;for(let ge=0;ge<de.length;ge++)he=(he<<5)-he+de.charCodeAt(ge),he|=0;return X.colors[Math.abs(he)%X.colors.length]}X.selectColor=Z;function X(de){let he,ge=null,_e,Ae;function xe(...Ie){if(!xe.enabled)return;const Pe=xe,Ce=Number(new Date),Be=Ce-(he||Ce);Pe.diff=Be,Pe.prev=he,Pe.curr=Ce,he=Ce,Ie[0]=X.coerce(Ie[0]),typeof Ie[0]!="string"&&Ie.unshift("%O");let Ve=0;Ie[0]=Ie[0].replace(/%([a-zA-Z%])/g,(Ke,Je)=>{if(Ke==="%%")return"%";Ve++;const et=X.formatters[Je];if(typeof et=="function"){const at=Ie[Ve];Ke=et.call(Pe,at),Ie.splice(Ve,1),Ve--}return Ke}),X.formatArgs.call(Pe,Ie),(Pe.log||X.log).apply(Pe,Ie)}return xe.namespace=de,xe.useColors=X.useColors(),xe.color=X.selectColor(de),xe.extend=te,xe.destroy=X.destroy,Object.defineProperty(xe,"enabled",{enumerable:!0,configurable:!1,get:()=>ge!==null?ge:(_e!==X.namespaces&&(_e=X.namespaces,Ae=X.enabled(de)),Ae),set:Ie=>{ge=Ie}}),typeof X.init=="function"&&X.init(xe),xe}function te(de,he){const ge=X(this.namespace+(typeof he>"u"?":":he)+de);return ge.log=this.log,ge}function ie(de){X.save(de),X.namespaces=de,X.names=[],X.skips=[];let he;const ge=(typeof de=="string"?de:"").split(/[\s,]+/),_e=ge.length;for(he=0;he<_e;he++)ge[he]&&(de=ge[he].replace(/\*/g,".*?"),de[0]==="-"?X.skips.push(new RegExp("^"+de.slice(1)+"$")):X.names.push(new RegExp("^"+de+"$")))}function oe(){const de=[...X.names.map(ue),...X.skips.map(ue).map(he=>"-"+he)].join(",");return X.enable(""),de}function se(de){if(de[de.length-1]==="*")return!0;let he,ge;for(he=0,ge=X.skips.length;he<ge;he++)if(X.skips[he].test(de))return!1;for(he=0,ge=X.names.length;he<ge;he++)if(X.names[he].test(de))return!0;return!1}function ue(de){return de.toString().substring(2,de.toString().length-2).replace(/\.\*\?$/,"*")}function ce(de){return de instanceof Error?de.stack||de.message:de}function le(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return X.enable(X.load()),X}var common=setup$1;(function(L,Z){Z.formatArgs=te,Z.save=ie,Z.load=oe,Z.useColors=X,Z.storage=se(),Z.destroy=(()=>{let ce=!1;return()=>{ce||(ce=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),Z.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function X(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function te(ce){if(ce[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+ce[0]+(this.useColors?"%c ":" ")+"+"+L.exports.humanize(this.diff),!this.useColors)return;const le="color: "+this.color;ce.splice(1,0,le,"color: inherit");let de=0,he=0;ce[0].replace(/%[a-zA-Z%]/g,ge=>{ge!=="%%"&&(de++,ge==="%c"&&(he=de))}),ce.splice(he,0,le)}Z.log=console.debug||console.log||(()=>{});function ie(ce){try{ce?Z.storage.setItem("debug",ce):Z.storage.removeItem("debug")}catch{}}function oe(){let ce;try{ce=Z.storage.getItem("debug")}catch{}return!ce&&typeof process<"u"&&"env"in process&&(ce={}.DEBUG),ce}function se(){try{return localStorage}catch{}}L.exports=common(Z);const{formatters:ue}=L.exports;ue.j=function(ce){try{return JSON.stringify(ce)}catch(le){return"[UnexpectedJSONParseError]: "+le.message}}})(browser,browserExports);const g$4=browserExports;function generatePrivateKey(){return toHex(secp256k1.utils.randomPrivateKey())}function toAccount(L){if(typeof L=="string"){if(!isAddress(L))throw new InvalidAddressError({address:L});return{address:L,type:"json-rpc"}}if(!isAddress(L.address))throw new InvalidAddressError({address:L.address});return{address:L.address,signMessage:L.signMessage,signTransaction:L.signTransaction,signTypedData:L.signTypedData,source:"custom",type:"local"}}async function sign({hash:L,privateKey:Z}){const{r:X,s:te,recovery:ie}=secp256k1.sign(L.slice(2),Z.slice(2));return{r:toHex(X),s:toHex(te),v:ie?28n:27n}}async function signMessage({message:L,privateKey:Z}){const X=await sign({hash:hashMessage(L),privateKey:Z});return signatureToHex(X)}async function signTransaction({privateKey:L,transaction:Z,serializer:X=serializeTransaction}){const te=await sign({hash:keccak256(X(Z)),privateKey:L});return X(Z,te)}async function signTypedData({privateKey:L,...Z}){const X=await sign({hash:hashTypedData(Z),privateKey:L});return signatureToHex(X)}function privateKeyToAccount(L){const Z=toHex(secp256k1.getPublicKey(L.slice(2),!1)),X=publicKeyToAddress(Z);return{...toAccount({address:X,async signMessage({message:ie}){return signMessage({message:ie,privateKey:L})},async signTransaction(ie,{serializer:oe}={}){return signTransaction({privateKey:L,transaction:ie,serializer:oe})},async signTypedData(ie){return signTypedData({...ie,privateKey:L})}}),publicKey:Z,source:"privateKey"}}var retryExports={},retry$3={get exports(){return retryExports},set exports(L){retryExports=L}},retry$2={};function RetryOperation(L,Z){typeof Z=="boolean"&&(Z={forever:Z}),this._originalTimeouts=JSON.parse(JSON.stringify(L)),this._timeouts=L,this._options=Z||{},this._maxRetryTime=Z&&Z.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(L){if(this._timeout&&clearTimeout(this._timeout),!L)return!1;var Z=new Date().getTime();if(L&&Z-this._operationStart>=this._maxRetryTime)return this._errors.push(L),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(L);var X=this._timeouts.shift();if(X===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),X=this._cachedTimeouts.slice(-1);else return!1;var te=this;return this._timer=setTimeout(function(){te._attempts++,te._operationTimeoutCb&&(te._timeout=setTimeout(function(){te._operationTimeoutCb(te._attempts)},te._operationTimeout),te._options.unref&&te._timeout.unref()),te._fn(te._attempts)},X),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(L,Z){this._fn=L,Z&&(Z.timeout&&(this._operationTimeout=Z.timeout),Z.cb&&(this._operationTimeoutCb=Z.cb));var X=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){X._operationTimeoutCb()},X._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(L){console.log("Using RetryOperation.try() is deprecated"),this.attempt(L)};RetryOperation.prototype.start=function(L){console.log("Using RetryOperation.start() is deprecated"),this.attempt(L)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var L={},Z=null,X=0,te=0;te<this._errors.length;te++){var ie=this._errors[te],oe=ie.message,se=(L[oe]||0)+1;L[oe]=se,se>=X&&(Z=ie,X=se)}return Z};(function(L){var Z=retry_operation;L.operation=function(X){var te=L.timeouts(X);return new Z(te,{forever:X&&(X.forever||X.retries===1/0),unref:X&&X.unref,maxRetryTime:X&&X.maxRetryTime})},L.timeouts=function(X){if(X instanceof Array)return[].concat(X);var te={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var ie in X)te[ie]=X[ie];if(te.minTimeout>te.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var oe=[],se=0;se<te.retries;se++)oe.push(this.createTimeout(se,te));return X&&X.forever&&!oe.length&&oe.push(this.createTimeout(se,te)),oe.sort(function(ue,ce){return ue-ce}),oe},L.createTimeout=function(X,te){var ie=te.randomize?Math.random()+1:1,oe=Math.round(ie*Math.max(te.minTimeout,1)*Math.pow(te.factor,X));return oe=Math.min(oe,te.maxTimeout),oe},L.wrap=function(X,te,ie){if(te instanceof Array&&(ie=te,te=null),!ie){ie=[];for(var oe in X)typeof X[oe]=="function"&&ie.push(oe)}for(var se=0;se<ie.length;se++){var ue=ie[se],ce=X[ue];X[ue]=function(de){var he=L.operation(te),ge=Array.prototype.slice.call(arguments,1),_e=ge.pop();ge.push(function(Ae){he.retry(Ae)||(Ae&&(arguments[0]=he.mainError()),_e.apply(this,arguments))}),he.attempt(function(){de.apply(X,ge)})}.bind(X,ce),X[ue].options=te}}})(retry$2);(function(L){L.exports=retry$2})(retry$3);const retry$1=getDefaultExportFromCjs(retryExports),networkErrorMsgs=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);let AbortError$1=class extends Error{constructor(Z){super(),Z instanceof Error?(this.originalError=Z,{message:Z}=Z):(this.originalError=new Error(Z),this.originalError.stack=this.stack),this.name="AbortError",this.message=Z}};const decorateErrorWithCounts=(L,Z,X)=>{const te=X.retries-(Z-1);return L.attemptNumber=Z,L.retriesLeft=te,L},isNetworkError=L=>networkErrorMsgs.has(L),getDOMException=L=>globalThis.DOMException===void 0?new Error(L):new DOMException(L);async function pRetry(L,Z){return new Promise((X,te)=>{Z={onFailedAttempt(){},retries:10,...Z};const ie=retry$1.operation(Z);ie.attempt(async oe=>{try{X(await L(oe))}catch(se){if(!(se instanceof Error)){te(new TypeError(`Non-error was thrown: "${se}". You should only throw errors.`));return}if(se instanceof AbortError$1)ie.stop(),te(se.originalError);else if(se instanceof TypeError&&!isNetworkError(se.message))ie.stop(),te(se);else{decorateErrorWithCounts(se,oe,Z);try{await Z.onFailedAttempt(se)}catch(ue){te(ue);return}ie.retry(se)||te(ie.mainError())}}}),Z.signal&&!Z.signal.aborted&&Z.signal.addEventListener("abort",()=>{ie.stop();const oe=Z.signal.reason===void 0?getDOMException("The operation was aborted."):Z.signal.reason;te(oe instanceof Error?oe:getDOMException(oe))},{once:!0})})}function J(L){return{...privateKeyToAccount(L)}}var p=g$4("mud:common"),x$4=p.extend("createNonceManager");function b$2({publicClient:L,address:Z,blockTag:X}){let te={current:-1},ie=typeof BroadcastChannel<"u"?new BroadcastChannel(`mud:createNonceManager:${L.chain?.id}:${Z}`):null;ie&&ie.addEventListener("message",le=>{let de=JSON.parse(le.data);x$4("got nonce from broadcast channel",de),te.current=de});function oe(){return te.current>=0}function se(){if(!oe())throw new Error("call resetNonce before using nextNonce");let le=te.current++;return ie?.postMessage(JSON.stringify(te.current)),le}async function ue(){let le=await L.getTransactionCount({address:Z,blockTag:X});te.current=le,ie?.postMessage(JSON.stringify(te.current)),x$4("reset nonce to",te.current)}function ce(le){return le instanceof BaseError&&le.walk(de=>de instanceof NonceTooLowError||de instanceof NonceTooHighError)!=null}return{hasNonce:oe,nextNonce:se,resetNonce:ue,shouldResetNonce:ce}}var m$2=p.extend("createContract");function E$1(L){let Z=L.length&&Array.isArray(L[0]),X=Z?L[0]:[],te=(Z?L[1]:L[0])??{};return{args:X,options:te}}function me({abi:L,address:Z,publicClient:X,walletClient:te,onWrite:ie}){let oe=getContract({abi:L,address:Z,publicClient:X,walletClient:te});if(oe.write){let se=0,ue=b$2({publicClient:X,address:te.account.address});oe.write=new Proxy({},{get(ce,le){async function de(ge){if(ge.gas)return m$2("gas provided, skipping simulate",le,ge),ge;m$2("simulating write",le,ge);let{request:_e}=await X.simulateContract({...ge,account:ge.account??te.account});return _e}async function he(ge){let _e=await de(ge);return await pRetry(async()=>{ue.hasNonce()||await ue.resetNonce();let Ae=ue.nextNonce();return m$2("calling write function with nonce",Ae,_e),await te.writeContract({nonce:Ae,..._e})},{retries:3,onFailedAttempt:async Ae=>{if(ue.shouldResetNonce(Ae)){m$2("got nonce error, retrying",Ae),await ue.resetNonce();return}throw Ae}})}return(...ge)=>{let _e=`${te.chain.id}:${te.account.address}:${se++}`,{args:Ae,options:xe}=E$1(ge),Ie={address:Z,abi:L,functionName:le,args:Ae,...xe},Pe=he(Ie);return ie?.({id:_e,request:Ie,result:Pe}),Pe}}})}return oe}function B$1(L,Z){if(!isHex(L))throw console.error("Private key found in cache is not valid hex",{privateKey:L,cacheKey:Z}),new Error(`Private key found in cache (${Z}) is not valid hex`);privateKeyToAccount(L)}function be$1(L="mud:burnerWallet"){let Z=localStorage.getItem(L);if(Z!=null)return B$1(Z,L),Z;let X=generatePrivateKey();return console.log("New burner wallet created:",privateKeyToAccount(X)),localStorage.setItem(L,X),X}function ye(L){let Z=hexToString(sliceHex(L,0,16)).replace(/\0+$/,""),X=hexToString(sliceHex(L,16,32)).replace(/\0+$/,"");return{namespace:Z,name:X}}function He(L,Z){return concatHex([stringToHex(L.substring(0,16),{size:16}),stringToHex(Z.substring(0,16),{size:16})])}var I$2=p.extend("transportObserver");function Ee(L){return Z=>{let X=L(Z);return{...X,request:async te=>{if(te.method==="eth_sendRawTransaction"&&te.params instanceof Array){let ie=te.params.map(oe=>keccak256(oe));I$2("saw txs",ie)}return X.request(te)}}}}var I$1=(L=>(L[L.UINT8=0]="UINT8",L[L.UINT16=1]="UINT16",L[L.UINT24=2]="UINT24",L[L.UINT32=3]="UINT32",L[L.UINT40=4]="UINT40",L[L.UINT48=5]="UINT48",L[L.UINT56=6]="UINT56",L[L.UINT64=7]="UINT64",L[L.UINT72=8]="UINT72",L[L.UINT80=9]="UINT80",L[L.UINT88=10]="UINT88",L[L.UINT96=11]="UINT96",L[L.UINT104=12]="UINT104",L[L.UINT112=13]="UINT112",L[L.UINT120=14]="UINT120",L[L.UINT128=15]="UINT128",L[L.UINT136=16]="UINT136",L[L.UINT144=17]="UINT144",L[L.UINT152=18]="UINT152",L[L.UINT160=19]="UINT160",L[L.UINT168=20]="UINT168",L[L.UINT176=21]="UINT176",L[L.UINT184=22]="UINT184",L[L.UINT192=23]="UINT192",L[L.UINT200=24]="UINT200",L[L.UINT208=25]="UINT208",L[L.UINT216=26]="UINT216",L[L.UINT224=27]="UINT224",L[L.UINT232=28]="UINT232",L[L.UINT240=29]="UINT240",L[L.UINT248=30]="UINT248",L[L.UINT256=31]="UINT256",L[L.INT8=32]="INT8",L[L.INT16=33]="INT16",L[L.INT24=34]="INT24",L[L.INT32=35]="INT32",L[L.INT40=36]="INT40",L[L.INT48=37]="INT48",L[L.INT56=38]="INT56",L[L.INT64=39]="INT64",L[L.INT72=40]="INT72",L[L.INT80=41]="INT80",L[L.INT88=42]="INT88",L[L.INT96=43]="INT96",L[L.INT104=44]="INT104",L[L.INT112=45]="INT112",L[L.INT120=46]="INT120",L[L.INT128=47]="INT128",L[L.INT136=48]="INT136",L[L.INT144=49]="INT144",L[L.INT152=50]="INT152",L[L.INT160=51]="INT160",L[L.INT168=52]="INT168",L[L.INT176=53]="INT176",L[L.INT184=54]="INT184",L[L.INT192=55]="INT192",L[L.INT200=56]="INT200",L[L.INT208=57]="INT208",L[L.INT216=58]="INT216",L[L.INT224=59]="INT224",L[L.INT232=60]="INT232",L[L.INT240=61]="INT240",L[L.INT248=62]="INT248",L[L.INT256=63]="INT256",L[L.BYTES1=64]="BYTES1",L[L.BYTES2=65]="BYTES2",L[L.BYTES3=66]="BYTES3",L[L.BYTES4=67]="BYTES4",L[L.BYTES5=68]="BYTES5",L[L.BYTES6=69]="BYTES6",L[L.BYTES7=70]="BYTES7",L[L.BYTES8=71]="BYTES8",L[L.BYTES9=72]="BYTES9",L[L.BYTES10=73]="BYTES10",L[L.BYTES11=74]="BYTES11",L[L.BYTES12=75]="BYTES12",L[L.BYTES13=76]="BYTES13",L[L.BYTES14=77]="BYTES14",L[L.BYTES15=78]="BYTES15",L[L.BYTES16=79]="BYTES16",L[L.BYTES17=80]="BYTES17",L[L.BYTES18=81]="BYTES18",L[L.BYTES19=82]="BYTES19",L[L.BYTES20=83]="BYTES20",L[L.BYTES21=84]="BYTES21",L[L.BYTES22=85]="BYTES22",L[L.BYTES23=86]="BYTES23",L[L.BYTES24=87]="BYTES24",L[L.BYTES25=88]="BYTES25",L[L.BYTES26=89]="BYTES26",L[L.BYTES27=90]="BYTES27",L[L.BYTES28=91]="BYTES28",L[L.BYTES29=92]="BYTES29",L[L.BYTES30=93]="BYTES30",L[L.BYTES31=94]="BYTES31",L[L.BYTES32=95]="BYTES32",L[L.BOOL=96]="BOOL",L[L.ADDRESS=97]="ADDRESS",L[L.UINT8_ARRAY=98]="UINT8_ARRAY",L[L.UINT16_ARRAY=99]="UINT16_ARRAY",L[L.UINT24_ARRAY=100]="UINT24_ARRAY",L[L.UINT32_ARRAY=101]="UINT32_ARRAY",L[L.UINT40_ARRAY=102]="UINT40_ARRAY",L[L.UINT48_ARRAY=103]="UINT48_ARRAY",L[L.UINT56_ARRAY=104]="UINT56_ARRAY",L[L.UINT64_ARRAY=105]="UINT64_ARRAY",L[L.UINT72_ARRAY=106]="UINT72_ARRAY",L[L.UINT80_ARRAY=107]="UINT80_ARRAY",L[L.UINT88_ARRAY=108]="UINT88_ARRAY",L[L.UINT96_ARRAY=109]="UINT96_ARRAY",L[L.UINT104_ARRAY=110]="UINT104_ARRAY",L[L.UINT112_ARRAY=111]="UINT112_ARRAY",L[L.UINT120_ARRAY=112]="UINT120_ARRAY",L[L.UINT128_ARRAY=113]="UINT128_ARRAY",L[L.UINT136_ARRAY=114]="UINT136_ARRAY",L[L.UINT144_ARRAY=115]="UINT144_ARRAY",L[L.UINT152_ARRAY=116]="UINT152_ARRAY",L[L.UINT160_ARRAY=117]="UINT160_ARRAY",L[L.UINT168_ARRAY=118]="UINT168_ARRAY",L[L.UINT176_ARRAY=119]="UINT176_ARRAY",L[L.UINT184_ARRAY=120]="UINT184_ARRAY",L[L.UINT192_ARRAY=121]="UINT192_ARRAY",L[L.UINT200_ARRAY=122]="UINT200_ARRAY",L[L.UINT208_ARRAY=123]="UINT208_ARRAY",L[L.UINT216_ARRAY=124]="UINT216_ARRAY",L[L.UINT224_ARRAY=125]="UINT224_ARRAY",L[L.UINT232_ARRAY=126]="UINT232_ARRAY",L[L.UINT240_ARRAY=127]="UINT240_ARRAY",L[L.UINT248_ARRAY=128]="UINT248_ARRAY",L[L.UINT256_ARRAY=129]="UINT256_ARRAY",L[L.INT8_ARRAY=130]="INT8_ARRAY",L[L.INT16_ARRAY=131]="INT16_ARRAY",L[L.INT24_ARRAY=132]="INT24_ARRAY",L[L.INT32_ARRAY=133]="INT32_ARRAY",L[L.INT40_ARRAY=134]="INT40_ARRAY",L[L.INT48_ARRAY=135]="INT48_ARRAY",L[L.INT56_ARRAY=136]="INT56_ARRAY",L[L.INT64_ARRAY=137]="INT64_ARRAY",L[L.INT72_ARRAY=138]="INT72_ARRAY",L[L.INT80_ARRAY=139]="INT80_ARRAY",L[L.INT88_ARRAY=140]="INT88_ARRAY",L[L.INT96_ARRAY=141]="INT96_ARRAY",L[L.INT104_ARRAY=142]="INT104_ARRAY",L[L.INT112_ARRAY=143]="INT112_ARRAY",L[L.INT120_ARRAY=144]="INT120_ARRAY",L[L.INT128_ARRAY=145]="INT128_ARRAY",L[L.INT136_ARRAY=146]="INT136_ARRAY",L[L.INT144_ARRAY=147]="INT144_ARRAY",L[L.INT152_ARRAY=148]="INT152_ARRAY",L[L.INT160_ARRAY=149]="INT160_ARRAY",L[L.INT168_ARRAY=150]="INT168_ARRAY",L[L.INT176_ARRAY=151]="INT176_ARRAY",L[L.INT184_ARRAY=152]="INT184_ARRAY",L[L.INT192_ARRAY=153]="INT192_ARRAY",L[L.INT200_ARRAY=154]="INT200_ARRAY",L[L.INT208_ARRAY=155]="INT208_ARRAY",L[L.INT216_ARRAY=156]="INT216_ARRAY",L[L.INT224_ARRAY=157]="INT224_ARRAY",L[L.INT232_ARRAY=158]="INT232_ARRAY",L[L.INT240_ARRAY=159]="INT240_ARRAY",L[L.INT248_ARRAY=160]="INT248_ARRAY",L[L.INT256_ARRAY=161]="INT256_ARRAY",L[L.BYTES1_ARRAY=162]="BYTES1_ARRAY",L[L.BYTES2_ARRAY=163]="BYTES2_ARRAY",L[L.BYTES3_ARRAY=164]="BYTES3_ARRAY",L[L.BYTES4_ARRAY=165]="BYTES4_ARRAY",L[L.BYTES5_ARRAY=166]="BYTES5_ARRAY",L[L.BYTES6_ARRAY=167]="BYTES6_ARRAY",L[L.BYTES7_ARRAY=168]="BYTES7_ARRAY",L[L.BYTES8_ARRAY=169]="BYTES8_ARRAY",L[L.BYTES9_ARRAY=170]="BYTES9_ARRAY",L[L.BYTES10_ARRAY=171]="BYTES10_ARRAY",L[L.BYTES11_ARRAY=172]="BYTES11_ARRAY",L[L.BYTES12_ARRAY=173]="BYTES12_ARRAY",L[L.BYTES13_ARRAY=174]="BYTES13_ARRAY",L[L.BYTES14_ARRAY=175]="BYTES14_ARRAY",L[L.BYTES15_ARRAY=176]="BYTES15_ARRAY",L[L.BYTES16_ARRAY=177]="BYTES16_ARRAY",L[L.BYTES17_ARRAY=178]="BYTES17_ARRAY",L[L.BYTES18_ARRAY=179]="BYTES18_ARRAY",L[L.BYTES19_ARRAY=180]="BYTES19_ARRAY",L[L.BYTES20_ARRAY=181]="BYTES20_ARRAY",L[L.BYTES21_ARRAY=182]="BYTES21_ARRAY",L[L.BYTES22_ARRAY=183]="BYTES22_ARRAY",L[L.BYTES23_ARRAY=184]="BYTES23_ARRAY",L[L.BYTES24_ARRAY=185]="BYTES24_ARRAY",L[L.BYTES25_ARRAY=186]="BYTES25_ARRAY",L[L.BYTES26_ARRAY=187]="BYTES26_ARRAY",L[L.BYTES27_ARRAY=188]="BYTES27_ARRAY",L[L.BYTES28_ARRAY=189]="BYTES28_ARRAY",L[L.BYTES29_ARRAY=190]="BYTES29_ARRAY",L[L.BYTES30_ARRAY=191]="BYTES30_ARRAY",L[L.BYTES31_ARRAY=192]="BYTES31_ARRAY",L[L.BYTES32_ARRAY=193]="BYTES32_ARRAY",L[L.BOOL_ARRAY=194]="BOOL_ARRAY",L[L.ADDRESS_ARRAY=195]="ADDRESS_ARRAY",L[L.BYTES=196]="BYTES",L[L.STRING=197]="STRING",L))(I$1||{}),Y$1={[0]:"uint8",[1]:"uint16",[2]:"uint24",[3]:"uint32",[4]:"uint40",[5]:"uint48",[6]:"uint56",[7]:"uint64",[8]:"uint72",[9]:"uint80",[10]:"uint88",[11]:"uint96",[12]:"uint104",[13]:"uint112",[14]:"uint120",[15]:"uint128",[16]:"uint136",[17]:"uint144",[18]:"uint152",[19]:"uint160",[20]:"uint168",[21]:"uint176",[22]:"uint184",[23]:"uint192",[24]:"uint200",[25]:"uint208",[26]:"uint216",[27]:"uint224",[28]:"uint232",[29]:"uint240",[30]:"uint248",[31]:"uint256",[32]:"int8",[33]:"int16",[34]:"int24",[35]:"int32",[36]:"int40",[37]:"int48",[38]:"int56",[39]:"int64",[40]:"int72",[41]:"int80",[42]:"int88",[43]:"int96",[44]:"int104",[45]:"int112",[46]:"int120",[47]:"int128",[48]:"int136",[49]:"int144",[50]:"int152",[51]:"int160",[52]:"int168",[53]:"int176",[54]:"int184",[55]:"int192",[56]:"int200",[57]:"int208",[58]:"int216",[59]:"int224",[60]:"int232",[61]:"int240",[62]:"int248",[63]:"int256",[64]:"bytes1",[65]:"bytes2",[66]:"bytes3",[67]:"bytes4",[68]:"bytes5",[69]:"bytes6",[70]:"bytes7",[71]:"bytes8",[72]:"bytes9",[73]:"bytes10",[74]:"bytes11",[75]:"bytes12",[76]:"bytes13",[77]:"bytes14",[78]:"bytes15",[79]:"bytes16",[80]:"bytes17",[81]:"bytes18",[82]:"bytes19",[83]:"bytes20",[84]:"bytes21",[85]:"bytes22",[86]:"bytes23",[87]:"bytes24",[88]:"bytes25",[89]:"bytes26",[90]:"bytes27",[91]:"bytes28",[92]:"bytes29",[93]:"bytes30",[94]:"bytes31",[95]:"bytes32",[96]:"bool",[97]:"address",[98]:"uint8[]",[99]:"uint16[]",[100]:"uint24[]",[101]:"uint32[]",[102]:"uint40[]",[103]:"uint48[]",[104]:"uint56[]",[105]:"uint64[]",[106]:"uint72[]",[107]:"uint80[]",[108]:"uint88[]",[109]:"uint96[]",[110]:"uint104[]",[111]:"uint112[]",[112]:"uint120[]",[113]:"uint128[]",[114]:"uint136[]",[115]:"uint144[]",[116]:"uint152[]",[117]:"uint160[]",[118]:"uint168[]",[119]:"uint176[]",[120]:"uint184[]",[121]:"uint192[]",[122]:"uint200[]",[123]:"uint208[]",[124]:"uint216[]",[125]:"uint224[]",[126]:"uint232[]",[127]:"uint240[]",[128]:"uint248[]",[129]:"uint256[]",[130]:"int8[]",[131]:"int16[]",[132]:"int24[]",[133]:"int32[]",[134]:"int40[]",[135]:"int48[]",[136]:"int56[]",[137]:"int64[]",[138]:"int72[]",[139]:"int80[]",[140]:"int88[]",[141]:"int96[]",[142]:"int104[]",[143]:"int112[]",[144]:"int120[]",[145]:"int128[]",[146]:"int136[]",[147]:"int144[]",[148]:"int152[]",[149]:"int160[]",[150]:"int168[]",[151]:"int176[]",[152]:"int184[]",[153]:"int192[]",[154]:"int200[]",[155]:"int208[]",[156]:"int216[]",[157]:"int224[]",[158]:"int232[]",[159]:"int240[]",[160]:"int248[]",[161]:"int256[]",[162]:"bytes1[]",[163]:"bytes2[]",[164]:"bytes3[]",[165]:"bytes4[]",[166]:"bytes5[]",[167]:"bytes6[]",[168]:"bytes7[]",[169]:"bytes8[]",[170]:"bytes9[]",[171]:"bytes10[]",[172]:"bytes11[]",[173]:"bytes12[]",[174]:"bytes13[]",[175]:"bytes14[]",[176]:"bytes15[]",[177]:"bytes16[]",[178]:"bytes17[]",[179]:"bytes18[]",[180]:"bytes19[]",[181]:"bytes20[]",[182]:"bytes21[]",[183]:"bytes22[]",[184]:"bytes23[]",[185]:"bytes24[]",[186]:"bytes25[]",[187]:"bytes26[]",[188]:"bytes27[]",[189]:"bytes28[]",[190]:"bytes29[]",[191]:"bytes30[]",[192]:"bytes31[]",[193]:"bytes32[]",[194]:"bool[]",[195]:"address[]",[196]:"bytes",[197]:"string"},s$2=Object.values(Y$1),_$1=Object.fromEntries(Object.entries(Y$1).map(([L,Z])=>[Z,parseInt(L)]));function n(L){let Z=L.valueOf();return Z<32?Z+1:Z<64?Z+1-32:Z<96?Z+1-64:L==96?1:L==97?20:0}var U$3=s$2.filter(L=>n(_$1[L])>0),util$5;(function(L){L.assertEqual=ie=>ie;function Z(ie){}L.assertIs=Z;function X(ie){throw new Error}L.assertNever=X,L.arrayToEnum=ie=>{const oe={};for(const se of ie)oe[se]=se;return oe},L.getValidEnumValues=ie=>{const oe=L.objectKeys(ie).filter(ue=>typeof ie[ie[ue]]!="number"),se={};for(const ue of oe)se[ue]=ie[ue];return L.objectValues(se)},L.objectValues=ie=>L.objectKeys(ie).map(function(oe){return ie[oe]}),L.objectKeys=typeof Object.keys=="function"?ie=>Object.keys(ie):ie=>{const oe=[];for(const se in ie)Object.prototype.hasOwnProperty.call(ie,se)&&oe.push(se);return oe},L.find=(ie,oe)=>{for(const se of ie)if(oe(se))return se},L.isInteger=typeof Number.isInteger=="function"?ie=>Number.isInteger(ie):ie=>typeof ie=="number"&&isFinite(ie)&&Math.floor(ie)===ie;function te(ie,oe=" | "){return ie.map(se=>typeof se=="string"?`'${se}'`:se).join(oe)}L.joinValues=te,L.jsonStringifyReplacer=(ie,oe)=>typeof oe=="bigint"?oe.toString():oe})(util$5||(util$5={}));var objectUtil;(function(L){L.mergeShapes=(Z,X)=>({...Z,...X})})(objectUtil||(objectUtil={}));const ZodParsedType=util$5.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=L=>{switch(typeof L){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(L)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(L)?ZodParsedType.array:L===null?ZodParsedType.null:L.then&&typeof L.then=="function"&&L.catch&&typeof L.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&L instanceof Map?ZodParsedType.map:typeof Set<"u"&&L instanceof Set?ZodParsedType.set:typeof Date<"u"&&L instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$5.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=L=>JSON.stringify(L,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(Z){super(),this.issues=[],this.addIssue=te=>{this.issues=[...this.issues,te]},this.addIssues=(te=[])=>{this.issues=[...this.issues,...te]};const X=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,X):this.__proto__=X,this.name="ZodError",this.issues=Z}get errors(){return this.issues}format(Z){const X=Z||function(oe){return oe.message},te={_errors:[]},ie=oe=>{for(const se of oe.issues)if(se.code==="invalid_union")se.unionErrors.map(ie);else if(se.code==="invalid_return_type")ie(se.returnTypeError);else if(se.code==="invalid_arguments")ie(se.argumentsError);else if(se.path.length===0)te._errors.push(X(se));else{let ue=te,ce=0;for(;ce<se.path.length;){const le=se.path[ce];ce===se.path.length-1?(ue[le]=ue[le]||{_errors:[]},ue[le]._errors.push(X(se))):ue[le]=ue[le]||{_errors:[]},ue=ue[le],ce++}}};return ie(this),te}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$5.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(Z=X=>X.message){const X={},te=[];for(const ie of this.issues)ie.path.length>0?(X[ie.path[0]]=X[ie.path[0]]||[],X[ie.path[0]].push(Z(ie))):te.push(Z(ie));return{formErrors:te,fieldErrors:X}}get formErrors(){return this.flatten()}}ZodError.create=L=>new ZodError(L);const errorMap=(L,Z)=>{let X;switch(L.code){case ZodIssueCode.invalid_type:L.received===ZodParsedType.undefined?X="Required":X=`Expected ${L.expected}, received ${L.received}`;break;case ZodIssueCode.invalid_literal:X=`Invalid literal value, expected ${JSON.stringify(L.expected,util$5.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:X=`Unrecognized key(s) in object: ${util$5.joinValues(L.keys,", ")}`;break;case ZodIssueCode.invalid_union:X="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:X=`Invalid discriminator value. Expected ${util$5.joinValues(L.options)}`;break;case ZodIssueCode.invalid_enum_value:X=`Invalid enum value. Expected ${util$5.joinValues(L.options)}, received '${L.received}'`;break;case ZodIssueCode.invalid_arguments:X="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:X="Invalid function return type";break;case ZodIssueCode.invalid_date:X="Invalid date";break;case ZodIssueCode.invalid_string:typeof L.validation=="object"?"includes"in L.validation?(X=`Invalid input: must include "${L.validation.includes}"`,typeof L.validation.position=="number"&&(X=`${X} at one or more positions greater than or equal to ${L.validation.position}`)):"startsWith"in L.validation?X=`Invalid input: must start with "${L.validation.startsWith}"`:"endsWith"in L.validation?X=`Invalid input: must end with "${L.validation.endsWith}"`:util$5.assertNever(L.validation):L.validation!=="regex"?X=`Invalid ${L.validation}`:X="Invalid";break;case ZodIssueCode.too_small:L.type==="array"?X=`Array must contain ${L.exact?"exactly":L.inclusive?"at least":"more than"} ${L.minimum} element(s)`:L.type==="string"?X=`String must contain ${L.exact?"exactly":L.inclusive?"at least":"over"} ${L.minimum} character(s)`:L.type==="number"?X=`Number must be ${L.exact?"exactly equal to ":L.inclusive?"greater than or equal to ":"greater than "}${L.minimum}`:L.type==="date"?X=`Date must be ${L.exact?"exactly equal to ":L.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(L.minimum))}`:X="Invalid input";break;case ZodIssueCode.too_big:L.type==="array"?X=`Array must contain ${L.exact?"exactly":L.inclusive?"at most":"less than"} ${L.maximum} element(s)`:L.type==="string"?X=`String must contain ${L.exact?"exactly":L.inclusive?"at most":"under"} ${L.maximum} character(s)`:L.type==="number"?X=`Number must be ${L.exact?"exactly":L.inclusive?"less than or equal to":"less than"} ${L.maximum}`:L.type==="bigint"?X=`BigInt must be ${L.exact?"exactly":L.inclusive?"less than or equal to":"less than"} ${L.maximum}`:L.type==="date"?X=`Date must be ${L.exact?"exactly":L.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(L.maximum))}`:X="Invalid input";break;case ZodIssueCode.custom:X="Invalid input";break;case ZodIssueCode.invalid_intersection_types:X="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:X=`Number must be a multiple of ${L.multipleOf}`;break;case ZodIssueCode.not_finite:X="Number must be finite";break;default:X=Z.defaultError,util$5.assertNever(L)}return{message:X}};let overrideErrorMap=errorMap;function setErrorMap(L){overrideErrorMap=L}function getErrorMap(){return overrideErrorMap}const makeIssue=L=>{const{data:Z,path:X,errorMaps:te,issueData:ie}=L,oe=[...X,...ie.path||[]],se={...ie,path:oe};let ue="";const ce=te.filter(le=>!!le).slice().reverse();for(const le of ce)ue=le(se,{data:Z,defaultError:ue}).message;return{...ie,path:oe,message:ie.message||ue}},EMPTY_PATH=[];function addIssueToContext(L,Z){const X=makeIssue({issueData:Z,data:L.data,path:L.path,errorMaps:[L.common.contextualErrorMap,L.schemaErrorMap,getErrorMap(),errorMap].filter(te=>!!te)});L.common.issues.push(X)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(Z,X){const te=[];for(const ie of X){if(ie.status==="aborted")return INVALID;ie.status==="dirty"&&Z.dirty(),te.push(ie.value)}return{status:Z.value,value:te}}static async mergeObjectAsync(Z,X){const te=[];for(const ie of X)te.push({key:await ie.key,value:await ie.value});return ParseStatus.mergeObjectSync(Z,te)}static mergeObjectSync(Z,X){const te={};for(const ie of X){const{key:oe,value:se}=ie;if(oe.status==="aborted"||se.status==="aborted")return INVALID;oe.status==="dirty"&&Z.dirty(),se.status==="dirty"&&Z.dirty(),oe.value!=="__proto__"&&(typeof se.value<"u"||ie.alwaysSet)&&(te[oe.value]=se.value)}return{status:Z.value,value:te}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=L=>({status:"dirty",value:L}),OK=L=>({status:"valid",value:L}),isAborted=L=>L.status==="aborted",isDirty=L=>L.status==="dirty",isValid=L=>L.status==="valid",isAsync=L=>typeof Promise<"u"&&L instanceof Promise;var errorUtil;(function(L){L.errToObj=Z=>typeof Z=="string"?{message:Z}:Z||{},L.toString=Z=>typeof Z=="string"?Z:Z?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(Z,X,te,ie){this._cachedPath=[],this.parent=Z,this.data=X,this._path=te,this._key=ie}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(L,Z)=>{if(isValid(Z))return{success:!0,data:Z.value};if(!L.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const X=new ZodError(L.common.issues);return this._error=X,this._error}}};function processCreateParams(L){if(!L)return{};const{errorMap:Z,invalid_type_error:X,required_error:te,description:ie}=L;if(Z&&(X||te))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return Z?{errorMap:Z,description:ie}:{errorMap:(se,ue)=>se.code!=="invalid_type"?{message:ue.defaultError}:typeof ue.data>"u"?{message:te??ue.defaultError}:{message:X??ue.defaultError},description:ie}}class ZodType{constructor(Z){this.spa=this.safeParseAsync,this._def=Z,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(Z){return getParsedType(Z.data)}_getOrReturnCtx(Z,X){return X||{common:Z.parent.common,data:Z.data,parsedType:getParsedType(Z.data),schemaErrorMap:this._def.errorMap,path:Z.path,parent:Z.parent}}_processInputParams(Z){return{status:new ParseStatus,ctx:{common:Z.parent.common,data:Z.data,parsedType:getParsedType(Z.data),schemaErrorMap:this._def.errorMap,path:Z.path,parent:Z.parent}}}_parseSync(Z){const X=this._parse(Z);if(isAsync(X))throw new Error("Synchronous parse encountered promise.");return X}_parseAsync(Z){const X=this._parse(Z);return Promise.resolve(X)}parse(Z,X){const te=this.safeParse(Z,X);if(te.success)return te.data;throw te.error}safeParse(Z,X){var te;const ie={common:{issues:[],async:(te=X?.async)!==null&&te!==void 0?te:!1,contextualErrorMap:X?.errorMap},path:X?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:Z,parsedType:getParsedType(Z)},oe=this._parseSync({data:Z,path:ie.path,parent:ie});return handleResult(ie,oe)}async parseAsync(Z,X){const te=await this.safeParseAsync(Z,X);if(te.success)return te.data;throw te.error}async safeParseAsync(Z,X){const te={common:{issues:[],contextualErrorMap:X?.errorMap,async:!0},path:X?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:Z,parsedType:getParsedType(Z)},ie=this._parse({data:Z,path:te.path,parent:te}),oe=await(isAsync(ie)?ie:Promise.resolve(ie));return handleResult(te,oe)}refine(Z,X){const te=ie=>typeof X=="string"||typeof X>"u"?{message:X}:typeof X=="function"?X(ie):X;return this._refinement((ie,oe)=>{const se=Z(ie),ue=()=>oe.addIssue({code:ZodIssueCode.custom,...te(ie)});return typeof Promise<"u"&&se instanceof Promise?se.then(ce=>ce?!0:(ue(),!1)):se?!0:(ue(),!1)})}refinement(Z,X){return this._refinement((te,ie)=>Z(te)?!0:(ie.addIssue(typeof X=="function"?X(te,ie):X),!1))}_refinement(Z){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:Z}})}superRefine(Z){return this._refinement(Z)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(Z){return ZodUnion.create([this,Z],this._def)}and(Z){return ZodIntersection.create(this,Z,this._def)}transform(Z){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:Z}})}default(Z){const X=typeof Z=="function"?Z:()=>Z;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:X,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(Z){const X=typeof Z=="function"?Z:()=>Z;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:X,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(Z){const X=this.constructor;return new X({...this._def,description:Z})}pipe(Z){return ZodPipeline.create(this,Z)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,emailRegex=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,emojiRegex=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=L=>L.precision?L.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${L.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${L.precision}}Z$`):L.precision===0?L.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):L.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(L,Z){return!!((Z==="v4"||!Z)&&ipv4Regex.test(L)||(Z==="v6"||!Z)&&ipv6Regex.test(L))}class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(Z,X,te)=>this.refinement(ie=>Z.test(ie),{validation:X,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(te)}),this.nonempty=Z=>this.min(1,errorUtil.errToObj(Z)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(Z){if(this._def.coerce&&(Z.data=String(Z.data)),this._getType(Z)!==ZodParsedType.string){const oe=this._getOrReturnCtx(Z);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:oe.parsedType}),INVALID}const te=new ParseStatus;let ie;for(const oe of this._def.checks)if(oe.kind==="min")Z.data.length<oe.value&&(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{code:ZodIssueCode.too_small,minimum:oe.value,type:"string",inclusive:!0,exact:!1,message:oe.message}),te.dirty());else if(oe.kind==="max")Z.data.length>oe.value&&(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{code:ZodIssueCode.too_big,maximum:oe.value,type:"string",inclusive:!0,exact:!1,message:oe.message}),te.dirty());else if(oe.kind==="length"){const se=Z.data.length>oe.value,ue=Z.data.length<oe.value;(se||ue)&&(ie=this._getOrReturnCtx(Z,ie),se?addIssueToContext(ie,{code:ZodIssueCode.too_big,maximum:oe.value,type:"string",inclusive:!0,exact:!0,message:oe.message}):ue&&addIssueToContext(ie,{code:ZodIssueCode.too_small,minimum:oe.value,type:"string",inclusive:!0,exact:!0,message:oe.message}),te.dirty())}else if(oe.kind==="email")emailRegex.test(Z.data)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{validation:"email",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="emoji")emojiRegex.test(Z.data)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{validation:"emoji",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="uuid")uuidRegex.test(Z.data)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{validation:"uuid",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="cuid")cuidRegex.test(Z.data)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{validation:"cuid",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="cuid2")cuid2Regex.test(Z.data)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="ulid")ulidRegex.test(Z.data)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{validation:"ulid",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty());else if(oe.kind==="url")try{new URL(Z.data)}catch{ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{validation:"url",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty()}else oe.kind==="regex"?(oe.regex.lastIndex=0,oe.regex.test(Z.data)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{validation:"regex",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty())):oe.kind==="trim"?Z.data=Z.data.trim():oe.kind==="includes"?Z.data.includes(oe.value,oe.position)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{code:ZodIssueCode.invalid_string,validation:{includes:oe.value,position:oe.position},message:oe.message}),te.dirty()):oe.kind==="toLowerCase"?Z.data=Z.data.toLowerCase():oe.kind==="toUpperCase"?Z.data=Z.data.toUpperCase():oe.kind==="startsWith"?Z.data.startsWith(oe.value)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{code:ZodIssueCode.invalid_string,validation:{startsWith:oe.value},message:oe.message}),te.dirty()):oe.kind==="endsWith"?Z.data.endsWith(oe.value)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{code:ZodIssueCode.invalid_string,validation:{endsWith:oe.value},message:oe.message}),te.dirty()):oe.kind==="datetime"?datetimeRegex(oe).test(Z.data)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{code:ZodIssueCode.invalid_string,validation:"datetime",message:oe.message}),te.dirty()):oe.kind==="ip"?isValidIP(Z.data,oe.version)||(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{validation:"ip",code:ZodIssueCode.invalid_string,message:oe.message}),te.dirty()):util$5.assertNever(oe);return{status:te.value,value:Z.data}}_addCheck(Z){return new ZodString({...this._def,checks:[...this._def.checks,Z]})}email(Z){return this._addCheck({kind:"email",...errorUtil.errToObj(Z)})}url(Z){return this._addCheck({kind:"url",...errorUtil.errToObj(Z)})}emoji(Z){return this._addCheck({kind:"emoji",...errorUtil.errToObj(Z)})}uuid(Z){return this._addCheck({kind:"uuid",...errorUtil.errToObj(Z)})}cuid(Z){return this._addCheck({kind:"cuid",...errorUtil.errToObj(Z)})}cuid2(Z){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(Z)})}ulid(Z){return this._addCheck({kind:"ulid",...errorUtil.errToObj(Z)})}ip(Z){return this._addCheck({kind:"ip",...errorUtil.errToObj(Z)})}datetime(Z){var X;return typeof Z=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:Z}):this._addCheck({kind:"datetime",precision:typeof Z?.precision>"u"?null:Z?.precision,offset:(X=Z?.offset)!==null&&X!==void 0?X:!1,...errorUtil.errToObj(Z?.message)})}regex(Z,X){return this._addCheck({kind:"regex",regex:Z,...errorUtil.errToObj(X)})}includes(Z,X){return this._addCheck({kind:"includes",value:Z,position:X?.position,...errorUtil.errToObj(X?.message)})}startsWith(Z,X){return this._addCheck({kind:"startsWith",value:Z,...errorUtil.errToObj(X)})}endsWith(Z,X){return this._addCheck({kind:"endsWith",value:Z,...errorUtil.errToObj(X)})}min(Z,X){return this._addCheck({kind:"min",value:Z,...errorUtil.errToObj(X)})}max(Z,X){return this._addCheck({kind:"max",value:Z,...errorUtil.errToObj(X)})}length(Z,X){return this._addCheck({kind:"length",value:Z,...errorUtil.errToObj(X)})}get isDatetime(){return!!this._def.checks.find(Z=>Z.kind==="datetime")}get isEmail(){return!!this._def.checks.find(Z=>Z.kind==="email")}get isURL(){return!!this._def.checks.find(Z=>Z.kind==="url")}get isEmoji(){return!!this._def.checks.find(Z=>Z.kind==="emoji")}get isUUID(){return!!this._def.checks.find(Z=>Z.kind==="uuid")}get isCUID(){return!!this._def.checks.find(Z=>Z.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(Z=>Z.kind==="cuid2")}get isULID(){return!!this._def.checks.find(Z=>Z.kind==="ulid")}get isIP(){return!!this._def.checks.find(Z=>Z.kind==="ip")}get minLength(){let Z=null;for(const X of this._def.checks)X.kind==="min"&&(Z===null||X.value>Z)&&(Z=X.value);return Z}get maxLength(){let Z=null;for(const X of this._def.checks)X.kind==="max"&&(Z===null||X.value<Z)&&(Z=X.value);return Z}}ZodString.create=L=>{var Z;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(Z=L?.coerce)!==null&&Z!==void 0?Z:!1,...processCreateParams(L)})};function floatSafeRemainder(L,Z){const X=(L.toString().split(".")[1]||"").length,te=(Z.toString().split(".")[1]||"").length,ie=X>te?X:te,oe=parseInt(L.toFixed(ie).replace(".","")),se=parseInt(Z.toFixed(ie).replace(".",""));return oe%se/Math.pow(10,ie)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(Z){if(this._def.coerce&&(Z.data=Number(Z.data)),this._getType(Z)!==ZodParsedType.number){const oe=this._getOrReturnCtx(Z);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:oe.parsedType}),INVALID}let te;const ie=new ParseStatus;for(const oe of this._def.checks)oe.kind==="int"?util$5.isInteger(Z.data)||(te=this._getOrReturnCtx(Z,te),addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:oe.message}),ie.dirty()):oe.kind==="min"?(oe.inclusive?Z.data<oe.value:Z.data<=oe.value)&&(te=this._getOrReturnCtx(Z,te),addIssueToContext(te,{code:ZodIssueCode.too_small,minimum:oe.value,type:"number",inclusive:oe.inclusive,exact:!1,message:oe.message}),ie.dirty()):oe.kind==="max"?(oe.inclusive?Z.data>oe.value:Z.data>=oe.value)&&(te=this._getOrReturnCtx(Z,te),addIssueToContext(te,{code:ZodIssueCode.too_big,maximum:oe.value,type:"number",inclusive:oe.inclusive,exact:!1,message:oe.message}),ie.dirty()):oe.kind==="multipleOf"?floatSafeRemainder(Z.data,oe.value)!==0&&(te=this._getOrReturnCtx(Z,te),addIssueToContext(te,{code:ZodIssueCode.not_multiple_of,multipleOf:oe.value,message:oe.message}),ie.dirty()):oe.kind==="finite"?Number.isFinite(Z.data)||(te=this._getOrReturnCtx(Z,te),addIssueToContext(te,{code:ZodIssueCode.not_finite,message:oe.message}),ie.dirty()):util$5.assertNever(oe);return{status:ie.value,value:Z.data}}gte(Z,X){return this.setLimit("min",Z,!0,errorUtil.toString(X))}gt(Z,X){return this.setLimit("min",Z,!1,errorUtil.toString(X))}lte(Z,X){return this.setLimit("max",Z,!0,errorUtil.toString(X))}lt(Z,X){return this.setLimit("max",Z,!1,errorUtil.toString(X))}setLimit(Z,X,te,ie){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:Z,value:X,inclusive:te,message:errorUtil.toString(ie)}]})}_addCheck(Z){return new ZodNumber({...this._def,checks:[...this._def.checks,Z]})}int(Z){return this._addCheck({kind:"int",message:errorUtil.toString(Z)})}positive(Z){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(Z)})}negative(Z){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(Z)})}nonpositive(Z){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(Z)})}nonnegative(Z){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(Z)})}multipleOf(Z,X){return this._addCheck({kind:"multipleOf",value:Z,message:errorUtil.toString(X)})}finite(Z){return this._addCheck({kind:"finite",message:errorUtil.toString(Z)})}safe(Z){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(Z)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(Z)})}get minValue(){let Z=null;for(const X of this._def.checks)X.kind==="min"&&(Z===null||X.value>Z)&&(Z=X.value);return Z}get maxValue(){let Z=null;for(const X of this._def.checks)X.kind==="max"&&(Z===null||X.value<Z)&&(Z=X.value);return Z}get isInt(){return!!this._def.checks.find(Z=>Z.kind==="int"||Z.kind==="multipleOf"&&util$5.isInteger(Z.value))}get isFinite(){let Z=null,X=null;for(const te of this._def.checks){if(te.kind==="finite"||te.kind==="int"||te.kind==="multipleOf")return!0;te.kind==="min"?(X===null||te.value>X)&&(X=te.value):te.kind==="max"&&(Z===null||te.value<Z)&&(Z=te.value)}return Number.isFinite(X)&&Number.isFinite(Z)}}ZodNumber.create=L=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:L?.coerce||!1,...processCreateParams(L)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(Z){if(this._def.coerce&&(Z.data=BigInt(Z.data)),this._getType(Z)!==ZodParsedType.bigint){const oe=this._getOrReturnCtx(Z);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:oe.parsedType}),INVALID}let te;const ie=new ParseStatus;for(const oe of this._def.checks)oe.kind==="min"?(oe.inclusive?Z.data<oe.value:Z.data<=oe.value)&&(te=this._getOrReturnCtx(Z,te),addIssueToContext(te,{code:ZodIssueCode.too_small,type:"bigint",minimum:oe.value,inclusive:oe.inclusive,message:oe.message}),ie.dirty()):oe.kind==="max"?(oe.inclusive?Z.data>oe.value:Z.data>=oe.value)&&(te=this._getOrReturnCtx(Z,te),addIssueToContext(te,{code:ZodIssueCode.too_big,type:"bigint",maximum:oe.value,inclusive:oe.inclusive,message:oe.message}),ie.dirty()):oe.kind==="multipleOf"?Z.data%oe.value!==BigInt(0)&&(te=this._getOrReturnCtx(Z,te),addIssueToContext(te,{code:ZodIssueCode.not_multiple_of,multipleOf:oe.value,message:oe.message}),ie.dirty()):util$5.assertNever(oe);return{status:ie.value,value:Z.data}}gte(Z,X){return this.setLimit("min",Z,!0,errorUtil.toString(X))}gt(Z,X){return this.setLimit("min",Z,!1,errorUtil.toString(X))}lte(Z,X){return this.setLimit("max",Z,!0,errorUtil.toString(X))}lt(Z,X){return this.setLimit("max",Z,!1,errorUtil.toString(X))}setLimit(Z,X,te,ie){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:Z,value:X,inclusive:te,message:errorUtil.toString(ie)}]})}_addCheck(Z){return new ZodBigInt({...this._def,checks:[...this._def.checks,Z]})}positive(Z){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(Z)})}negative(Z){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(Z)})}nonpositive(Z){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(Z)})}nonnegative(Z){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(Z)})}multipleOf(Z,X){return this._addCheck({kind:"multipleOf",value:Z,message:errorUtil.toString(X)})}get minValue(){let Z=null;for(const X of this._def.checks)X.kind==="min"&&(Z===null||X.value>Z)&&(Z=X.value);return Z}get maxValue(){let Z=null;for(const X of this._def.checks)X.kind==="max"&&(Z===null||X.value<Z)&&(Z=X.value);return Z}}ZodBigInt.create=L=>{var Z;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(Z=L?.coerce)!==null&&Z!==void 0?Z:!1,...processCreateParams(L)})};class ZodBoolean extends ZodType{_parse(Z){if(this._def.coerce&&(Z.data=!!Z.data),this._getType(Z)!==ZodParsedType.boolean){const te=this._getOrReturnCtx(Z);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:te.parsedType}),INVALID}return OK(Z.data)}}ZodBoolean.create=L=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:L?.coerce||!1,...processCreateParams(L)});class ZodDate extends ZodType{_parse(Z){if(this._def.coerce&&(Z.data=new Date(Z.data)),this._getType(Z)!==ZodParsedType.date){const oe=this._getOrReturnCtx(Z);return addIssueToContext(oe,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:oe.parsedType}),INVALID}if(isNaN(Z.data.getTime())){const oe=this._getOrReturnCtx(Z);return addIssueToContext(oe,{code:ZodIssueCode.invalid_date}),INVALID}const te=new ParseStatus;let ie;for(const oe of this._def.checks)oe.kind==="min"?Z.data.getTime()<oe.value&&(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{code:ZodIssueCode.too_small,message:oe.message,inclusive:!0,exact:!1,minimum:oe.value,type:"date"}),te.dirty()):oe.kind==="max"?Z.data.getTime()>oe.value&&(ie=this._getOrReturnCtx(Z,ie),addIssueToContext(ie,{code:ZodIssueCode.too_big,message:oe.message,inclusive:!0,exact:!1,maximum:oe.value,type:"date"}),te.dirty()):util$5.assertNever(oe);return{status:te.value,value:new Date(Z.data.getTime())}}_addCheck(Z){return new ZodDate({...this._def,checks:[...this._def.checks,Z]})}min(Z,X){return this._addCheck({kind:"min",value:Z.getTime(),message:errorUtil.toString(X)})}max(Z,X){return this._addCheck({kind:"max",value:Z.getTime(),message:errorUtil.toString(X)})}get minDate(){let Z=null;for(const X of this._def.checks)X.kind==="min"&&(Z===null||X.value>Z)&&(Z=X.value);return Z!=null?new Date(Z):null}get maxDate(){let Z=null;for(const X of this._def.checks)X.kind==="max"&&(Z===null||X.value<Z)&&(Z=X.value);return Z!=null?new Date(Z):null}}ZodDate.create=L=>new ZodDate({checks:[],coerce:L?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(L)});class ZodSymbol extends ZodType{_parse(Z){if(this._getType(Z)!==ZodParsedType.symbol){const te=this._getOrReturnCtx(Z);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:te.parsedType}),INVALID}return OK(Z.data)}}ZodSymbol.create=L=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(L)});class ZodUndefined extends ZodType{_parse(Z){if(this._getType(Z)!==ZodParsedType.undefined){const te=this._getOrReturnCtx(Z);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:te.parsedType}),INVALID}return OK(Z.data)}}ZodUndefined.create=L=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(L)});class ZodNull extends ZodType{_parse(Z){if(this._getType(Z)!==ZodParsedType.null){const te=this._getOrReturnCtx(Z);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:te.parsedType}),INVALID}return OK(Z.data)}}ZodNull.create=L=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(L)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(Z){return OK(Z.data)}}ZodAny.create=L=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(L)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(Z){return OK(Z.data)}}ZodUnknown.create=L=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(L)});class ZodNever extends ZodType{_parse(Z){const X=this._getOrReturnCtx(Z);return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:X.parsedType}),INVALID}}ZodNever.create=L=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(L)});class ZodVoid extends ZodType{_parse(Z){if(this._getType(Z)!==ZodParsedType.undefined){const te=this._getOrReturnCtx(Z);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:te.parsedType}),INVALID}return OK(Z.data)}}ZodVoid.create=L=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(L)});class ZodArray extends ZodType{_parse(Z){const{ctx:X,status:te}=this._processInputParams(Z),ie=this._def;if(X.parsedType!==ZodParsedType.array)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:X.parsedType}),INVALID;if(ie.exactLength!==null){const se=X.data.length>ie.exactLength.value,ue=X.data.length<ie.exactLength.value;(se||ue)&&(addIssueToContext(X,{code:se?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:ue?ie.exactLength.value:void 0,maximum:se?ie.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:ie.exactLength.message}),te.dirty())}if(ie.minLength!==null&&X.data.length<ie.minLength.value&&(addIssueToContext(X,{code:ZodIssueCode.too_small,minimum:ie.minLength.value,type:"array",inclusive:!0,exact:!1,message:ie.minLength.message}),te.dirty()),ie.maxLength!==null&&X.data.length>ie.maxLength.value&&(addIssueToContext(X,{code:ZodIssueCode.too_big,maximum:ie.maxLength.value,type:"array",inclusive:!0,exact:!1,message:ie.maxLength.message}),te.dirty()),X.common.async)return Promise.all([...X.data].map((se,ue)=>ie.type._parseAsync(new ParseInputLazyPath(X,se,X.path,ue)))).then(se=>ParseStatus.mergeArray(te,se));const oe=[...X.data].map((se,ue)=>ie.type._parseSync(new ParseInputLazyPath(X,se,X.path,ue)));return ParseStatus.mergeArray(te,oe)}get element(){return this._def.type}min(Z,X){return new ZodArray({...this._def,minLength:{value:Z,message:errorUtil.toString(X)}})}max(Z,X){return new ZodArray({...this._def,maxLength:{value:Z,message:errorUtil.toString(X)}})}length(Z,X){return new ZodArray({...this._def,exactLength:{value:Z,message:errorUtil.toString(X)}})}nonempty(Z){return this.min(1,Z)}}ZodArray.create=(L,Z)=>new ZodArray({type:L,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(Z)});function deepPartialify(L){if(L instanceof ZodObject){const Z={};for(const X in L.shape){const te=L.shape[X];Z[X]=ZodOptional.create(deepPartialify(te))}return new ZodObject({...L._def,shape:()=>Z})}else return L instanceof ZodArray?new ZodArray({...L._def,type:deepPartialify(L.element)}):L instanceof ZodOptional?ZodOptional.create(deepPartialify(L.unwrap())):L instanceof ZodNullable?ZodNullable.create(deepPartialify(L.unwrap())):L instanceof ZodTuple?ZodTuple.create(L.items.map(Z=>deepPartialify(Z))):L}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const Z=this._def.shape(),X=util$5.objectKeys(Z);return this._cached={shape:Z,keys:X}}_parse(Z){if(this._getType(Z)!==ZodParsedType.object){const le=this._getOrReturnCtx(Z);return addIssueToContext(le,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:le.parsedType}),INVALID}const{status:te,ctx:ie}=this._processInputParams(Z),{shape:oe,keys:se}=this._getCached(),ue=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const le in ie.data)se.includes(le)||ue.push(le);const ce=[];for(const le of se){const de=oe[le],he=ie.data[le];ce.push({key:{status:"valid",value:le},value:de._parse(new ParseInputLazyPath(ie,he,ie.path,le)),alwaysSet:le in ie.data})}if(this._def.catchall instanceof ZodNever){const le=this._def.unknownKeys;if(le==="passthrough")for(const de of ue)ce.push({key:{status:"valid",value:de},value:{status:"valid",value:ie.data[de]}});else if(le==="strict")ue.length>0&&(addIssueToContext(ie,{code:ZodIssueCode.unrecognized_keys,keys:ue}),te.dirty());else if(le!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const le=this._def.catchall;for(const de of ue){const he=ie.data[de];ce.push({key:{status:"valid",value:de},value:le._parse(new ParseInputLazyPath(ie,he,ie.path,de)),alwaysSet:de in ie.data})}}return ie.common.async?Promise.resolve().then(async()=>{const le=[];for(const de of ce){const he=await de.key;le.push({key:he,value:await de.value,alwaysSet:de.alwaysSet})}return le}).then(le=>ParseStatus.mergeObjectSync(te,le)):ParseStatus.mergeObjectSync(te,ce)}get shape(){return this._def.shape()}strict(Z){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...Z!==void 0?{errorMap:(X,te)=>{var ie,oe,se,ue;const ce=(se=(oe=(ie=this._def).errorMap)===null||oe===void 0?void 0:oe.call(ie,X,te).message)!==null&&se!==void 0?se:te.defaultError;return X.code==="unrecognized_keys"?{message:(ue=errorUtil.errToObj(Z).message)!==null&&ue!==void 0?ue:ce}:{message:ce}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(Z){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...Z})})}merge(Z){return new ZodObject({unknownKeys:Z._def.unknownKeys,catchall:Z._def.catchall,shape:()=>({...this._def.shape(),...Z._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(Z,X){return this.augment({[Z]:X})}catchall(Z){return new ZodObject({...this._def,catchall:Z})}pick(Z){const X={};return util$5.objectKeys(Z).forEach(te=>{Z[te]&&this.shape[te]&&(X[te]=this.shape[te])}),new ZodObject({...this._def,shape:()=>X})}omit(Z){const X={};return util$5.objectKeys(this.shape).forEach(te=>{Z[te]||(X[te]=this.shape[te])}),new ZodObject({...this._def,shape:()=>X})}deepPartial(){return deepPartialify(this)}partial(Z){const X={};return util$5.objectKeys(this.shape).forEach(te=>{const ie=this.shape[te];Z&&!Z[te]?X[te]=ie:X[te]=ie.optional()}),new ZodObject({...this._def,shape:()=>X})}required(Z){const X={};return util$5.objectKeys(this.shape).forEach(te=>{if(Z&&!Z[te])X[te]=this.shape[te];else{let oe=this.shape[te];for(;oe instanceof ZodOptional;)oe=oe._def.innerType;X[te]=oe}}),new ZodObject({...this._def,shape:()=>X})}keyof(){return createZodEnum(util$5.objectKeys(this.shape))}}ZodObject.create=(L,Z)=>new ZodObject({shape:()=>L,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(Z)});ZodObject.strictCreate=(L,Z)=>new ZodObject({shape:()=>L,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(Z)});ZodObject.lazycreate=(L,Z)=>new ZodObject({shape:L,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(Z)});class ZodUnion extends ZodType{_parse(Z){const{ctx:X}=this._processInputParams(Z),te=this._def.options;function ie(oe){for(const ue of oe)if(ue.result.status==="valid")return ue.result;for(const ue of oe)if(ue.result.status==="dirty")return X.common.issues.push(...ue.ctx.common.issues),ue.result;const se=oe.map(ue=>new ZodError(ue.ctx.common.issues));return addIssueToContext(X,{code:ZodIssueCode.invalid_union,unionErrors:se}),INVALID}if(X.common.async)return Promise.all(te.map(async oe=>{const se={...X,common:{...X.common,issues:[]},parent:null};return{result:await oe._parseAsync({data:X.data,path:X.path,parent:se}),ctx:se}})).then(ie);{let oe;const se=[];for(const ce of te){const le={...X,common:{...X.common,issues:[]},parent:null},de=ce._parseSync({data:X.data,path:X.path,parent:le});if(de.status==="valid")return de;de.status==="dirty"&&!oe&&(oe={result:de,ctx:le}),le.common.issues.length&&se.push(le.common.issues)}if(oe)return X.common.issues.push(...oe.ctx.common.issues),oe.result;const ue=se.map(ce=>new ZodError(ce));return addIssueToContext(X,{code:ZodIssueCode.invalid_union,unionErrors:ue}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(L,Z)=>new ZodUnion({options:L,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(Z)});const getDiscriminator=L=>L instanceof ZodLazy?getDiscriminator(L.schema):L instanceof ZodEffects?getDiscriminator(L.innerType()):L instanceof ZodLiteral?[L.value]:L instanceof ZodEnum?L.options:L instanceof ZodNativeEnum?Object.keys(L.enum):L instanceof ZodDefault?getDiscriminator(L._def.innerType):L instanceof ZodUndefined?[void 0]:L instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(Z){const{ctx:X}=this._processInputParams(Z);if(X.parsedType!==ZodParsedType.object)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:X.parsedType}),INVALID;const te=this.discriminator,ie=X.data[te],oe=this.optionsMap.get(ie);return oe?X.common.async?oe._parseAsync({data:X.data,path:X.path,parent:X}):oe._parseSync({data:X.data,path:X.path,parent:X}):(addIssueToContext(X,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[te]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(Z,X,te){const ie=new Map;for(const oe of X){const se=getDiscriminator(oe.shape[Z]);if(!se)throw new Error(`A discriminator value for key \`${Z}\` could not be extracted from all schema options`);for(const ue of se){if(ie.has(ue))throw new Error(`Discriminator property ${String(Z)} has duplicate value ${String(ue)}`);ie.set(ue,oe)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:Z,options:X,optionsMap:ie,...processCreateParams(te)})}}function mergeValues(L,Z){const X=getParsedType(L),te=getParsedType(Z);if(L===Z)return{valid:!0,data:L};if(X===ZodParsedType.object&&te===ZodParsedType.object){const ie=util$5.objectKeys(Z),oe=util$5.objectKeys(L).filter(ue=>ie.indexOf(ue)!==-1),se={...L,...Z};for(const ue of oe){const ce=mergeValues(L[ue],Z[ue]);if(!ce.valid)return{valid:!1};se[ue]=ce.data}return{valid:!0,data:se}}else if(X===ZodParsedType.array&&te===ZodParsedType.array){if(L.length!==Z.length)return{valid:!1};const ie=[];for(let oe=0;oe<L.length;oe++){const se=L[oe],ue=Z[oe],ce=mergeValues(se,ue);if(!ce.valid)return{valid:!1};ie.push(ce.data)}return{valid:!0,data:ie}}else return X===ZodParsedType.date&&te===ZodParsedType.date&&+L==+Z?{valid:!0,data:L}:{valid:!1}}class ZodIntersection extends ZodType{_parse(Z){const{status:X,ctx:te}=this._processInputParams(Z),ie=(oe,se)=>{if(isAborted(oe)||isAborted(se))return INVALID;const ue=mergeValues(oe.value,se.value);return ue.valid?((isDirty(oe)||isDirty(se))&&X.dirty(),{status:X.value,value:ue.data}):(addIssueToContext(te,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return te.common.async?Promise.all([this._def.left._parseAsync({data:te.data,path:te.path,parent:te}),this._def.right._parseAsync({data:te.data,path:te.path,parent:te})]).then(([oe,se])=>ie(oe,se)):ie(this._def.left._parseSync({data:te.data,path:te.path,parent:te}),this._def.right._parseSync({data:te.data,path:te.path,parent:te}))}}ZodIntersection.create=(L,Z,X)=>new ZodIntersection({left:L,right:Z,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(X)});class ZodTuple extends ZodType{_parse(Z){const{status:X,ctx:te}=this._processInputParams(Z);if(te.parsedType!==ZodParsedType.array)return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:te.parsedType}),INVALID;if(te.data.length<this._def.items.length)return addIssueToContext(te,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&te.data.length>this._def.items.length&&(addIssueToContext(te,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X.dirty());const oe=[...te.data].map((se,ue)=>{const ce=this._def.items[ue]||this._def.rest;return ce?ce._parse(new ParseInputLazyPath(te,se,te.path,ue)):null}).filter(se=>!!se);return te.common.async?Promise.all(oe).then(se=>ParseStatus.mergeArray(X,se)):ParseStatus.mergeArray(X,oe)}get items(){return this._def.items}rest(Z){return new ZodTuple({...this._def,rest:Z})}}ZodTuple.create=(L,Z)=>{if(!Array.isArray(L))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:L,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(Z)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(Z){const{status:X,ctx:te}=this._processInputParams(Z);if(te.parsedType!==ZodParsedType.object)return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:te.parsedType}),INVALID;const ie=[],oe=this._def.keyType,se=this._def.valueType;for(const ue in te.data)ie.push({key:oe._parse(new ParseInputLazyPath(te,ue,te.path,ue)),value:se._parse(new ParseInputLazyPath(te,te.data[ue],te.path,ue))});return te.common.async?ParseStatus.mergeObjectAsync(X,ie):ParseStatus.mergeObjectSync(X,ie)}get element(){return this._def.valueType}static create(Z,X,te){return X instanceof ZodType?new ZodRecord({keyType:Z,valueType:X,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(te)}):new ZodRecord({keyType:ZodString.create(),valueType:Z,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(X)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(Z){const{status:X,ctx:te}=this._processInputParams(Z);if(te.parsedType!==ZodParsedType.map)return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:te.parsedType}),INVALID;const ie=this._def.keyType,oe=this._def.valueType,se=[...te.data.entries()].map(([ue,ce],le)=>({key:ie._parse(new ParseInputLazyPath(te,ue,te.path,[le,"key"])),value:oe._parse(new ParseInputLazyPath(te,ce,te.path,[le,"value"]))}));if(te.common.async){const ue=new Map;return Promise.resolve().then(async()=>{for(const ce of se){const le=await ce.key,de=await ce.value;if(le.status==="aborted"||de.status==="aborted")return INVALID;(le.status==="dirty"||de.status==="dirty")&&X.dirty(),ue.set(le.value,de.value)}return{status:X.value,value:ue}})}else{const ue=new Map;for(const ce of se){const le=ce.key,de=ce.value;if(le.status==="aborted"||de.status==="aborted")return INVALID;(le.status==="dirty"||de.status==="dirty")&&X.dirty(),ue.set(le.value,de.value)}return{status:X.value,value:ue}}}}ZodMap.create=(L,Z,X)=>new ZodMap({valueType:Z,keyType:L,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(X)});class ZodSet extends ZodType{_parse(Z){const{status:X,ctx:te}=this._processInputParams(Z);if(te.parsedType!==ZodParsedType.set)return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:te.parsedType}),INVALID;const ie=this._def;ie.minSize!==null&&te.data.size<ie.minSize.value&&(addIssueToContext(te,{code:ZodIssueCode.too_small,minimum:ie.minSize.value,type:"set",inclusive:!0,exact:!1,message:ie.minSize.message}),X.dirty()),ie.maxSize!==null&&te.data.size>ie.maxSize.value&&(addIssueToContext(te,{code:ZodIssueCode.too_big,maximum:ie.maxSize.value,type:"set",inclusive:!0,exact:!1,message:ie.maxSize.message}),X.dirty());const oe=this._def.valueType;function se(ce){const le=new Set;for(const de of ce){if(de.status==="aborted")return INVALID;de.status==="dirty"&&X.dirty(),le.add(de.value)}return{status:X.value,value:le}}const ue=[...te.data.values()].map((ce,le)=>oe._parse(new ParseInputLazyPath(te,ce,te.path,le)));return te.common.async?Promise.all(ue).then(ce=>se(ce)):se(ue)}min(Z,X){return new ZodSet({...this._def,minSize:{value:Z,message:errorUtil.toString(X)}})}max(Z,X){return new ZodSet({...this._def,maxSize:{value:Z,message:errorUtil.toString(X)}})}size(Z,X){return this.min(Z,X).max(Z,X)}nonempty(Z){return this.min(1,Z)}}ZodSet.create=(L,Z)=>new ZodSet({valueType:L,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(Z)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(Z){const{ctx:X}=this._processInputParams(Z);if(X.parsedType!==ZodParsedType.function)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:X.parsedType}),INVALID;function te(ue,ce){return makeIssue({data:ue,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,getErrorMap(),errorMap].filter(le=>!!le),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:ce}})}function ie(ue,ce){return makeIssue({data:ue,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,getErrorMap(),errorMap].filter(le=>!!le),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:ce}})}const oe={errorMap:X.common.contextualErrorMap},se=X.data;if(this._def.returns instanceof ZodPromise){const ue=this;return OK(async function(...ce){const le=new ZodError([]),de=await ue._def.args.parseAsync(ce,oe).catch(_e=>{throw le.addIssue(te(ce,_e)),le}),he=await Reflect.apply(se,this,de);return await ue._def.returns._def.type.parseAsync(he,oe).catch(_e=>{throw le.addIssue(ie(he,_e)),le})})}else{const ue=this;return OK(function(...ce){const le=ue._def.args.safeParse(ce,oe);if(!le.success)throw new ZodError([te(ce,le.error)]);const de=Reflect.apply(se,this,le.data),he=ue._def.returns.safeParse(de,oe);if(!he.success)throw new ZodError([ie(de,he.error)]);return he.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...Z){return new ZodFunction({...this._def,args:ZodTuple.create(Z).rest(ZodUnknown.create())})}returns(Z){return new ZodFunction({...this._def,returns:Z})}implement(Z){return this.parse(Z)}strictImplement(Z){return this.parse(Z)}static create(Z,X,te){return new ZodFunction({args:Z||ZodTuple.create([]).rest(ZodUnknown.create()),returns:X||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(te)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(Z){const{ctx:X}=this._processInputParams(Z);return this._def.getter()._parse({data:X.data,path:X.path,parent:X})}}ZodLazy.create=(L,Z)=>new ZodLazy({getter:L,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(Z)});class ZodLiteral extends ZodType{_parse(Z){if(Z.data!==this._def.value){const X=this._getOrReturnCtx(Z);return addIssueToContext(X,{received:X.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:Z.data}}get value(){return this._def.value}}ZodLiteral.create=(L,Z)=>new ZodLiteral({value:L,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(Z)});function createZodEnum(L,Z){return new ZodEnum({values:L,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(Z)})}class ZodEnum extends ZodType{_parse(Z){if(typeof Z.data!="string"){const X=this._getOrReturnCtx(Z),te=this._def.values;return addIssueToContext(X,{expected:util$5.joinValues(te),received:X.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(Z.data)===-1){const X=this._getOrReturnCtx(Z),te=this._def.values;return addIssueToContext(X,{received:X.data,code:ZodIssueCode.invalid_enum_value,options:te}),INVALID}return OK(Z.data)}get options(){return this._def.values}get enum(){const Z={};for(const X of this._def.values)Z[X]=X;return Z}get Values(){const Z={};for(const X of this._def.values)Z[X]=X;return Z}get Enum(){const Z={};for(const X of this._def.values)Z[X]=X;return Z}extract(Z){return ZodEnum.create(Z)}exclude(Z){return ZodEnum.create(this.options.filter(X=>!Z.includes(X)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(Z){const X=util$5.getValidEnumValues(this._def.values),te=this._getOrReturnCtx(Z);if(te.parsedType!==ZodParsedType.string&&te.parsedType!==ZodParsedType.number){const ie=util$5.objectValues(X);return addIssueToContext(te,{expected:util$5.joinValues(ie),received:te.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(X.indexOf(Z.data)===-1){const ie=util$5.objectValues(X);return addIssueToContext(te,{received:te.data,code:ZodIssueCode.invalid_enum_value,options:ie}),INVALID}return OK(Z.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(L,Z)=>new ZodNativeEnum({values:L,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(Z)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(Z){const{ctx:X}=this._processInputParams(Z);if(X.parsedType!==ZodParsedType.promise&&X.common.async===!1)return addIssueToContext(X,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:X.parsedType}),INVALID;const te=X.parsedType===ZodParsedType.promise?X.data:Promise.resolve(X.data);return OK(te.then(ie=>this._def.type.parseAsync(ie,{path:X.path,errorMap:X.common.contextualErrorMap})))}}ZodPromise.create=(L,Z)=>new ZodPromise({type:L,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(Z)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(Z){const{status:X,ctx:te}=this._processInputParams(Z),ie=this._def.effect||null,oe={addIssue:se=>{addIssueToContext(te,se),se.fatal?X.abort():X.dirty()},get path(){return te.path}};if(oe.addIssue=oe.addIssue.bind(oe),ie.type==="preprocess"){const se=ie.transform(te.data,oe);return te.common.issues.length?{status:"dirty",value:te.data}:te.common.async?Promise.resolve(se).then(ue=>this._def.schema._parseAsync({data:ue,path:te.path,parent:te})):this._def.schema._parseSync({data:se,path:te.path,parent:te})}if(ie.type==="refinement"){const se=ue=>{const ce=ie.refinement(ue,oe);if(te.common.async)return Promise.resolve(ce);if(ce instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return ue};if(te.common.async===!1){const ue=this._def.schema._parseSync({data:te.data,path:te.path,parent:te});return ue.status==="aborted"?INVALID:(ue.status==="dirty"&&X.dirty(),se(ue.value),{status:X.value,value:ue.value})}else return this._def.schema._parseAsync({data:te.data,path:te.path,parent:te}).then(ue=>ue.status==="aborted"?INVALID:(ue.status==="dirty"&&X.dirty(),se(ue.value).then(()=>({status:X.value,value:ue.value}))))}if(ie.type==="transform")if(te.common.async===!1){const se=this._def.schema._parseSync({data:te.data,path:te.path,parent:te});if(!isValid(se))return se;const ue=ie.transform(se.value,oe);if(ue instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:X.value,value:ue}}else return this._def.schema._parseAsync({data:te.data,path:te.path,parent:te}).then(se=>isValid(se)?Promise.resolve(ie.transform(se.value,oe)).then(ue=>({status:X.value,value:ue})):se);util$5.assertNever(ie)}}ZodEffects.create=(L,Z,X)=>new ZodEffects({schema:L,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:Z,...processCreateParams(X)});ZodEffects.createWithPreprocess=(L,Z,X)=>new ZodEffects({schema:Z,effect:{type:"preprocess",transform:L},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(X)});class ZodOptional extends ZodType{_parse(Z){return this._getType(Z)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(Z)}unwrap(){return this._def.innerType}}ZodOptional.create=(L,Z)=>new ZodOptional({innerType:L,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(Z)});class ZodNullable extends ZodType{_parse(Z){return this._getType(Z)===ZodParsedType.null?OK(null):this._def.innerType._parse(Z)}unwrap(){return this._def.innerType}}ZodNullable.create=(L,Z)=>new ZodNullable({innerType:L,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(Z)});class ZodDefault extends ZodType{_parse(Z){const{ctx:X}=this._processInputParams(Z);let te=X.data;return X.parsedType===ZodParsedType.undefined&&(te=this._def.defaultValue()),this._def.innerType._parse({data:te,path:X.path,parent:X})}removeDefault(){return this._def.innerType}}ZodDefault.create=(L,Z)=>new ZodDefault({innerType:L,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof Z.default=="function"?Z.default:()=>Z.default,...processCreateParams(Z)});class ZodCatch extends ZodType{_parse(Z){const{ctx:X}=this._processInputParams(Z),te={...X,common:{...X.common,issues:[]}},ie=this._def.innerType._parse({data:te.data,path:te.path,parent:{...te}});return isAsync(ie)?ie.then(oe=>({status:"valid",value:oe.status==="valid"?oe.value:this._def.catchValue({get error(){return new ZodError(te.common.issues)},input:te.data})})):{status:"valid",value:ie.status==="valid"?ie.value:this._def.catchValue({get error(){return new ZodError(te.common.issues)},input:te.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(L,Z)=>new ZodCatch({innerType:L,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof Z.catch=="function"?Z.catch:()=>Z.catch,...processCreateParams(Z)});class ZodNaN extends ZodType{_parse(Z){if(this._getType(Z)!==ZodParsedType.nan){const te=this._getOrReturnCtx(Z);return addIssueToContext(te,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:te.parsedType}),INVALID}return{status:"valid",value:Z.data}}}ZodNaN.create=L=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(L)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(Z){const{ctx:X}=this._processInputParams(Z),te=X.data;return this._def.type._parse({data:te,path:X.path,parent:X})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(Z){const{status:X,ctx:te}=this._processInputParams(Z);if(te.common.async)return(async()=>{const oe=await this._def.in._parseAsync({data:te.data,path:te.path,parent:te});return oe.status==="aborted"?INVALID:oe.status==="dirty"?(X.dirty(),DIRTY(oe.value)):this._def.out._parseAsync({data:oe.value,path:te.path,parent:te})})();{const ie=this._def.in._parseSync({data:te.data,path:te.path,parent:te});return ie.status==="aborted"?INVALID:ie.status==="dirty"?(X.dirty(),{status:"dirty",value:ie.value}):this._def.out._parseSync({data:ie.value,path:te.path,parent:te})}}static create(Z,X){return new ZodPipeline({in:Z,out:X,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(Z){const X=this._def.innerType._parse(Z);return isValid(X)&&(X.value=Object.freeze(X.value)),X}}ZodReadonly.create=(L,Z)=>new ZodReadonly({innerType:L,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(Z)});const custom=(L,Z={},X)=>L?ZodAny.create().superRefine((te,ie)=>{var oe,se;if(!L(te)){const ue=typeof Z=="function"?Z(te):typeof Z=="string"?{message:Z}:Z,ce=(se=(oe=ue.fatal)!==null&&oe!==void 0?oe:X)!==null&&se!==void 0?se:!0,le=typeof ue=="string"?{message:ue}:ue;ie.addIssue({code:"custom",...le,fatal:ce})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(L){L.ZodString="ZodString",L.ZodNumber="ZodNumber",L.ZodNaN="ZodNaN",L.ZodBigInt="ZodBigInt",L.ZodBoolean="ZodBoolean",L.ZodDate="ZodDate",L.ZodSymbol="ZodSymbol",L.ZodUndefined="ZodUndefined",L.ZodNull="ZodNull",L.ZodAny="ZodAny",L.ZodUnknown="ZodUnknown",L.ZodNever="ZodNever",L.ZodVoid="ZodVoid",L.ZodArray="ZodArray",L.ZodObject="ZodObject",L.ZodUnion="ZodUnion",L.ZodDiscriminatedUnion="ZodDiscriminatedUnion",L.ZodIntersection="ZodIntersection",L.ZodTuple="ZodTuple",L.ZodRecord="ZodRecord",L.ZodMap="ZodMap",L.ZodSet="ZodSet",L.ZodFunction="ZodFunction",L.ZodLazy="ZodLazy",L.ZodLiteral="ZodLiteral",L.ZodEnum="ZodEnum",L.ZodEffects="ZodEffects",L.ZodNativeEnum="ZodNativeEnum",L.ZodOptional="ZodOptional",L.ZodNullable="ZodNullable",L.ZodDefault="ZodDefault",L.ZodCatch="ZodCatch",L.ZodPromise="ZodPromise",L.ZodBranded="ZodBranded",L.ZodPipeline="ZodPipeline",L.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(L,Z={message:`Input not instance of ${L.name}`})=>custom(X=>X instanceof L,Z),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:L=>ZodString.create({...L,coerce:!0}),number:L=>ZodNumber.create({...L,coerce:!0}),boolean:L=>ZodBoolean.create({...L,coerce:!0}),bigint:L=>ZodBigInt.create({...L,coerce:!0}),date:L=>ZodDate.create({...L,coerce:!0})},NEVER=INVALID;var z$2=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$5},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const ANSI_BACKGROUND_OFFSET=10,wrapAnsi16=(L=0)=>Z=>`\x1B[${Z+L}m`,wrapAnsi256=(L=0)=>Z=>`\x1B[${38+L};5;${Z}m`,wrapAnsi16m=(L=0)=>(Z,X,te)=>`\x1B[${38+L};2;${Z};${X};${te}m`,styles$1={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(styles$1.modifier);const foregroundColorNames=Object.keys(styles$1.color),backgroundColorNames=Object.keys(styles$1.bgColor);[...foregroundColorNames,...backgroundColorNames];function assembleStyles(){const L=new Map;for(const[Z,X]of Object.entries(styles$1)){for(const[te,ie]of Object.entries(X))styles$1[te]={open:`\x1B[${ie[0]}m`,close:`\x1B[${ie[1]}m`},X[te]=styles$1[te],L.set(ie[0],ie[1]);Object.defineProperty(styles$1,Z,{value:X,enumerable:!1})}return Object.defineProperty(styles$1,"codes",{value:L,enumerable:!1}),styles$1.color.close="\x1B[39m",styles$1.bgColor.close="\x1B[49m",styles$1.color.ansi=wrapAnsi16(),styles$1.color.ansi256=wrapAnsi256(),styles$1.color.ansi16m=wrapAnsi16m(),styles$1.bgColor.ansi=wrapAnsi16(ANSI_BACKGROUND_OFFSET),styles$1.bgColor.ansi256=wrapAnsi256(ANSI_BACKGROUND_OFFSET),styles$1.bgColor.ansi16m=wrapAnsi16m(ANSI_BACKGROUND_OFFSET),Object.defineProperties(styles$1,{rgbToAnsi256:{value(Z,X,te){return Z===X&&X===te?Z<8?16:Z>248?231:Math.round((Z-8)/247*24)+232:16+36*Math.round(Z/255*5)+6*Math.round(X/255*5)+Math.round(te/255*5)},enumerable:!1},hexToRgb:{value(Z){const X=/[a-f\d]{6}|[a-f\d]{3}/i.exec(Z.toString(16));if(!X)return[0,0,0];let[te]=X;te.length===3&&(te=[...te].map(oe=>oe+oe).join(""));const ie=Number.parseInt(te,16);return[ie>>16&255,ie>>8&255,ie&255]},enumerable:!1},hexToAnsi256:{value:Z=>styles$1.rgbToAnsi256(...styles$1.hexToRgb(Z)),enumerable:!1},ansi256ToAnsi:{value(Z){if(Z<8)return 30+Z;if(Z<16)return 90+(Z-8);let X,te,ie;if(Z>=232)X=((Z-232)*10+8)/255,te=X,ie=X;else{Z-=16;const ue=Z%36;X=Math.floor(Z/36)/5,te=Math.floor(ue/6)/5,ie=ue%6/5}const oe=Math.max(X,te,ie)*2;if(oe===0)return 30;let se=30+(Math.round(ie)<<2|Math.round(te)<<1|Math.round(X));return oe===2&&(se+=60),se},enumerable:!1},rgbToAnsi:{value:(Z,X,te)=>styles$1.ansi256ToAnsi(styles$1.rgbToAnsi256(Z,X,te)),enumerable:!1},hexToAnsi:{value:Z=>styles$1.ansi256ToAnsi(styles$1.hexToAnsi256(Z)),enumerable:!1}}),styles$1}const ansiStyles=assembleStyles(),ansiStyles$1=ansiStyles,level=(()=>{if(navigator.userAgentData){const L=navigator.userAgentData.brands.find(({brand:Z})=>Z==="Chromium");if(L&&L.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),colorSupport=level!==0&&{level,hasBasic:!0,has256:level>=2,has16m:level>=3},supportsColor={stdout:colorSupport,stderr:colorSupport},supportsColor$1=supportsColor;function stringReplaceAll(L,Z,X){let te=L.indexOf(Z);if(te===-1)return L;const ie=Z.length;let oe=0,se="";do se+=L.slice(oe,te)+Z+X,oe=te+ie,te=L.indexOf(Z,oe);while(te!==-1);return se+=L.slice(oe),se}function stringEncaseCRLFWithFirstIndex(L,Z,X,te){let ie=0,oe="";do{const se=L[te-1]==="\r";oe+=L.slice(ie,se?te-1:te)+Z+(se?`\r
`:`
`)+X,ie=te+1,te=L.indexOf(`
`,ie)}while(te!==-1);return oe+=L.slice(ie),oe}const{stdout:stdoutColor,stderr:stderrColor}=supportsColor$1,GENERATOR=Symbol("GENERATOR"),STYLER=Symbol("STYLER"),IS_EMPTY=Symbol("IS_EMPTY"),levelMapping=["ansi","ansi","ansi256","ansi16m"],styles=Object.create(null),applyOptions=(L,Z={})=>{if(Z.level&&!(Number.isInteger(Z.level)&&Z.level>=0&&Z.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const X=stdoutColor?stdoutColor.level:0;L.level=Z.level===void 0?X:Z.level},chalkFactory=L=>{const Z=(...X)=>X.join(" ");return applyOptions(Z,L),Object.setPrototypeOf(Z,createChalk.prototype),Z};function createChalk(L){return chalkFactory(L)}Object.setPrototypeOf(createChalk.prototype,Function.prototype);for(const[L,Z]of Object.entries(ansiStyles$1))styles[L]={get(){const X=createBuilder(this,createStyler(Z.open,Z.close,this[STYLER]),this[IS_EMPTY]);return Object.defineProperty(this,L,{value:X}),X}};styles.visible={get(){const L=createBuilder(this,this[STYLER],!0);return Object.defineProperty(this,"visible",{value:L}),L}};const getModelAnsi=(L,Z,X,...te)=>L==="rgb"?Z==="ansi16m"?ansiStyles$1[X].ansi16m(...te):Z==="ansi256"?ansiStyles$1[X].ansi256(ansiStyles$1.rgbToAnsi256(...te)):ansiStyles$1[X].ansi(ansiStyles$1.rgbToAnsi(...te)):L==="hex"?getModelAnsi("rgb",Z,X,...ansiStyles$1.hexToRgb(...te)):ansiStyles$1[X][L](...te),usedModels=["rgb","hex","ansi256"];for(const L of usedModels){styles[L]={get(){const{level:X}=this;return function(...te){const ie=createStyler(getModelAnsi(L,levelMapping[X],"color",...te),ansiStyles$1.color.close,this[STYLER]);return createBuilder(this,ie,this[IS_EMPTY])}}};const Z="bg"+L[0].toUpperCase()+L.slice(1);styles[Z]={get(){const{level:X}=this;return function(...te){const ie=createStyler(getModelAnsi(L,levelMapping[X],"bgColor",...te),ansiStyles$1.bgColor.close,this[STYLER]);return createBuilder(this,ie,this[IS_EMPTY])}}}}const proto=Object.defineProperties(()=>{},{...styles,level:{enumerable:!0,get(){return this[GENERATOR].level},set(L){this[GENERATOR].level=L}}}),createStyler=(L,Z,X)=>{let te,ie;return X===void 0?(te=L,ie=Z):(te=X.openAll+L,ie=Z+X.closeAll),{open:L,close:Z,openAll:te,closeAll:ie,parent:X}},createBuilder=(L,Z,X)=>{const te=(...ie)=>applyStyle(te,ie.length===1?""+ie[0]:ie.join(" "));return Object.setPrototypeOf(te,proto),te[GENERATOR]=L,te[STYLER]=Z,te[IS_EMPTY]=X,te},applyStyle=(L,Z)=>{if(L.level<=0||!Z)return L[IS_EMPTY]?"":Z;let X=L[STYLER];if(X===void 0)return Z;const{openAll:te,closeAll:ie}=X;if(Z.includes("\x1B"))for(;X!==void 0;)Z=stringReplaceAll(Z,X.close,X.open),X=X.parent;const oe=Z.indexOf(`
`);return oe!==-1&&(Z=stringEncaseCRLFWithFirstIndex(Z,ie,te,oe)),te+Z+ie};Object.defineProperties(createChalk.prototype,styles);const chalk=createChalk();createChalk({level:stderrColor?stderrColor.level:0});const d$3=chalk,identifierRegex=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function joinPath(L){return L.length===1?L[0].toString():L.reduce((Z,X)=>{if(typeof X=="number")return Z+"["+X.toString()+"]";if(X.includes('"'))return Z+'["'+escapeQuotes(X)+'"]';if(!identifierRegex.test(X))return Z+'["'+X+'"]';const te=Z.length===0?"":".";return Z+te+X},"")}function escapeQuotes(L){return L.replace(/"/g,'\\"')}function isNonEmptyArray(L){return L.length!==0}const MAX_ISSUES_IN_MESSAGE=99,ISSUE_SEPARATOR="; ",UNION_SEPARATOR=", or ",PREFIX="Validation error",PREFIX_SEPARATOR=": ";class ValidationError extends Error{details;name;constructor(Z,X=[]){super(Z),this.details=X,this.name="ZodValidationError"}toString(){return this.message}}function getMessageFromZodIssue(L,Z,X){if(L.code==="invalid_union")return L.unionErrors.reduce((te,ie)=>{const oe=ie.issues.map(se=>getMessageFromZodIssue(se,Z,X)).join(Z);return te.includes(oe)||te.push(oe),te},[]).join(X);if(isNonEmptyArray(L.path)){if(L.path.length===1){const te=L.path[0];if(typeof te=="number")return`${L.message} at index ${te}`}return`${L.message} at "${joinPath(L.path)}"`}return L.message}function conditionallyPrefixMessage(L,Z,X){return Z!==null?L.length>0?[Z,L].join(X):Z:L.length>0?L:PREFIX}function fromZodError(L,Z={}){const{maxIssuesInMessage:X=MAX_ISSUES_IN_MESSAGE,issueSeparator:te=ISSUE_SEPARATOR,unionSeparator:ie=UNION_SEPARATOR,prefixSeparator:oe=PREFIX_SEPARATOR,prefix:se=PREFIX}=Z,ue=L.errors.slice(0,X).map(le=>getMessageFromZodIssue(le,te,ie)).join(te),ce=conditionallyPrefixMessage(ue,se,oe);return new ValidationError(ce,L.errors)}var a$2=Object.defineProperty,m$1=(L,Z,X)=>Z in L?a$2(L,Z,{enumerable:!0,configurable:!0,writable:!0,value:X}):L[Z]=X,x$3=(L,Z,X)=>(m$1(L,typeof Z!="symbol"?Z+"":Z,X),X),t$2=class extends Error{name="MUDContextAlreadyCreatedError";message="MUD context was already created"},s$1=class extends Error{name="MUDContextNotCreatedError";message="MUD context has not been created"};function l$2(L,Z){return fromZodError(L,{prefix:d$3.red(Z),prefixSeparator:`
- `,issueSeparator:`
- `})}var g$3=16;function d$2(L,Z){/^\w+$/.test(L)||Z.addIssue({code:ZodIssueCode.custom,message:"Name must contain only alphanumeric & underscore characters"})}function x$2(L,Z){d$2(L,Z),/^[A-Z]/.test(L)||Z.addIssue({code:ZodIssueCode.custom,message:"Name must start with a capital letter"})}function C$1(L,Z){d$2(L,Z),/^[a-z]/.test(L)||Z.addIssue({code:ZodIssueCode.custom,message:"Name must start with a lowercase letter"})}function h$2(L,Z){L.length===0&&Z.addIssue({code:ZodIssueCode.custom,message:"Enum must not be empty"}),L.length>=256&&Z.addIssue({code:ZodIssueCode.custom,message:"Length of enum must be < 256"});let X=M$3(L);X.length>0&&Z.addIssue({code:ZodIssueCode.custom,message:`Enum must not have duplicate names for: ${X.join(", ")}`})}function c$1(L,Z){return(X,te)=>{if(X===""){L&&te.addIssue({code:ZodIssueCode.custom,message:"Route must not be empty"});return}X[0]!=="/"&&te.addIssue({code:ZodIssueCode.custom,message:'Route must start with "/"'}),X[X.length-1]==="/"&&te.addIssue({code:ZodIssueCode.custom,message:'Route must not end with "/"'});let ie=X.split("/");Z&&ie.length>2&&te.addIssue({code:ZodIssueCode.custom,message:'Route must only have one level (e.g. "/foo")'});for(let oe=1;oe<ie.length;oe++)ie[oe]===""&&te.addIssue({code:ZodIssueCode.custom,message:'Route must not contain empty route fragments (e.g. "//")'}),/^\w+$/.test(ie[oe])||te.addIssue({code:ZodIssueCode.custom,message:"Route must contain only alphanumeric & underscore characters"})}}var y$1=c$1(!0,!1),R$1=c$1(!1,!1),b$1=c$1(!0,!0);function D(L,Z){isAddress$1(L)||Z.addIssue({code:ZodIssueCode.custom,message:"Address must be a valid Ethereum address"})}function M$3(L){let Z=new Set,X=new Set;for(let te of L)Z.has(te)&&X.add(te),Z.add(te);return[...X]}function U$2(L,Z){L.length>g$3&&Z.addIssue({code:ZodIssueCode.custom,message:`Selector must be <= ${g$3} characters`}),/^\w*$/.test(L)||Z.addIssue({code:ZodIssueCode.custom,message:"Selector must contain only alphanumeric & underscore characters"})}function z$1(L){let Z=L.match(/^(\w+)\[(\d+)\]$/);return Z?{elementType:Z[1],staticLength:Number.parseInt(Z[2])}:null}var v$2=z$2.string().superRefine(x$2),$$1=z$2.string().superRefine(C$1);z$2.string().superRefine(d$2);var G$2=z$2.array(v$2).superRefine(h$2);z$2.string().superRefine(y$1);z$2.string().superRefine(b$1);z$2.string().superRefine(R$1);var k$1=z$2.string().superRefine(D),P$3=z$2.string().superRefine(U$2),l$1=class{static isCreated(){return this._global.__mudCoreContext!==void 0}static createContext(){if(this.isCreated())throw new t$2;let Z=this._global,X=new l$1;return Z.__mudCoreContext=X,X}static getContext(){let Z=this._global.__mudCoreContext;if(Z===void 0)throw new s$1;return Z}configExtenders=[]},i=l$1;x$3(i,"_global",typeof global>"u"?window.global??{}:global);function Y(L){let Z=L,X=i.getContext();for(let te of X.configExtenders)Z=te(Z);return Z}function q$1(L){i.getContext().configExtenders.push(L)}var w$1=(L=>(L[L.TABLE_ID=0]="TABLE_ID",L[L.SYSTEM_ADDRESS=1]="SYSTEM_ADDRESS",L))(w$1||{});function ee(L){return{type:0,input:L}}var l={storeImportPath:"@latticexyz/store/src/",userTypesPath:"Types",codegenDirectory:"codegen"},g$2={namespace:"",enums:{}},m={directory:"tables",keySchema:{key:"bytes32"},tableIdArgument:!1,storeArgument:!0,ephemeral:!1},j=v$2,O$2=$$1,v$1=$$1,I=v$2,d$1=z$2.string(),_=z$2.string(),P$2=z$2.record(O$2,_).default(m.keySchema),U$1=z$2.record(v$1,d$1).refine(L=>Object.keys(L).length>0,"Table schema may not be empty"),K=d$1.transform(L=>U$1.parse({value:L})),q=U$1.or(K),h$1=z$2.object({directory:z$2.string().default(m.directory),name:P$3.optional(),tableIdArgument:z$2.boolean().default(m.tableIdArgument),storeArgument:z$2.boolean().default(m.storeArgument),dataStruct:z$2.boolean().optional(),keySchema:P$2,schema:q,ephemeral:z$2.boolean().default(m.ephemeral)}).transform(L=>(Object.keys(L.schema).length===1?L.dataStruct??=!1:L.dataStruct??=!0,L)),B=d$1.transform(L=>h$1.parse({schema:{value:L}})),M$2=h$1.or(B),$=z$2.record(j,M$2).transform(L=>{for(let Z of Object.keys(L)){let X=L[Z];X.name=Z.slice(0,g$3),L[Z]=X}return L}),H=z$2.object({enums:z$2.record(I,G$2).default(g$2.enums)}),x$1=z$2.object({namespace:P$3.default(g$2.namespace),storeImportPath:z$2.string().default(l.storeImportPath),tables:$,userTypesPath:z$2.string().default(l.userTypesPath),codegenDirectory:z$2.string().default(l.codegenDirectory)}).merge(H);x$1.superRefine(C);var re=x$1.catchall(z$2.any()).superRefine(C);function C(L,Z){for(let le of Object.values(L.tables)){let de=Object.keys(le.keySchema),he=Object.keys(le.schema),ge=M$3([...de,...he]);ge.length>0&&Z.addIssue({code:ZodIssueCode.custom,message:`Field and key names within one table must be unique: ${ge.join(", ")}`})}let X=Object.keys(L.tables),te=Object.keys(L.enums),ie=te,oe=[...X,...ie],se=M$3(oe);se.length>0&&Z.addIssue({code:ZodIssueCode.custom,message:`Table library names, enum names must be globally unique: ${se.join(", ")}`});let ue=Object.values(L.tables).map(({name:le})=>le),ce=M$3(ue);ce.length>0&&Z.addIssue({code:ZodIssueCode.custom,message:`Table names must be unique: ${ce.join(", ")}`});for(let le of Object.values(L.tables)){for(let de of Object.values(le.keySchema))F(te,de,Z);for(let de of Object.values(le.schema))G$1(ie,te,de,Z)}}function G$1(L,Z,X,te){if(!s$2.includes(X)&&!L.includes(X)){let ie=z$1(X);ie?V(Z,ie.elementType,ie.staticLength,te):te.addIssue({code:ZodIssueCode.custom,message:`${X} is not a valid abi type, and is not defined in userTypes`})}}function F(L,Z,X){!U$3.includes(Z)&&!L.includes(Z)&&X.addIssue({code:ZodIssueCode.custom,message:`${Z} is not a static type`})}function V(L,Z,X,te){F(L,Z,te),X===0?te.addIssue({code:ZodIssueCode.custom,message:"Static array length must not be 0"}):X>=2**16&&te.addIssue({code:ZodIssueCode.custom,message:"Static array length must be less than 2**16"})}i.isCreated()||i.createContext();q$1(L=>{try{return re.parse(L)}catch(Z){throw Z instanceof ZodError?l$2(Z,"StoreConfig Validation Error"):Z}});function s(L){return Y(L)}var a$1=s({storeImportPath:"../../",namespace:"mudstore",enums:{ExampleEnum:["None","First","Second","Third"]},tables:{Hooks:"address[]",Callbacks:"bytes24[]",Tables:{keySchema:{tableId:"bytes32"},schema:{keySchema:"bytes32",valueSchema:"bytes32",abiEncodedKeyNames:"bytes",abiEncodedFieldNames:"bytes"}},Mixed:{schema:{u32:"uint32",u128:"uint128",a32:"uint32[]",s:"string"}},Vector2:{schema:{x:"uint32",y:"uint32"}},KeyEncoding:{keySchema:{k1:"uint256",k2:"int32",k3:"bytes16",k4:"address",k5:"bool",k6:"ExampleEnum"},schema:"bool"}}}),g$1=g$4("mud:store-sync"),k=a$1.tables.Tables,A=He(a$1.namespace,k.name);function G({registerTables:L,getTables:Z,storeOperations:X}){return async te=>{let ie=te.logs.map(ce=>{if(ce.eventName!=="StoreSetRecord"||ce.args.table!==A)return;let[le,...de]=ce.args.key;de.length&&console.warn("registerSchema event is expected to have only one key in key tuple, but got multiple",ce);let he=ye(le),ge=ct(ne(Object.values(k.schema)),ce.args.data),_e=Object.fromEntries(Object.keys(k.schema).map((Be,Ve)=>[Be,ge[Ve]])),Ae=D$1(_e.keySchema),xe=D$1(_e.valueSchema),Ie=decodeAbiParameters(parseAbiParameters("string[]"),_e.abiEncodedKeyNames)[0],Pe=decodeAbiParameters(parseAbiParameters("string[]"),_e.abiEncodedFieldNames)[0],Ce=[...xe.staticFields,...xe.dynamicFields];return{address:ce.address,tableId:le,namespace:he.namespace,name:he.name,keySchema:Object.fromEntries(Ae.staticFields.map((Be,Ve)=>[Ie[Ve],Be])),valueSchema:Object.fromEntries(Ce.map((Be,Ve)=>[Pe[Ve],Be]))}}).filter(P$5);ie.length>0&&await L({blockNumber:te.blockNumber,tables:ie});let oe=Array.from(new Set(te.logs.map(ce=>JSON.stringify({address:getAddress(ce.address),tableId:ce.args.table,...ye(ce.args.table)})))).map(ce=>JSON.parse(ce)),se=Object.fromEntries((await Z({blockNumber:te.blockNumber,tables:oe})).map(ce=>[`${getAddress(ce.address)}:${ce.tableId}`,ce])),ue=te.logs.map(ce=>{let le=se[`${getAddress(ce.address)}:${ce.args.table}`];if(!le){g$1("no table found for event, skipping",ye(ce.args.table),ce);return}let de=Object.keys(le.keySchema),he=ze({staticFields:Object.values(le.keySchema),dynamicFields:[]},ce.args.key),ge=Object.fromEntries(he.map((Ie,Pe)=>[de[Pe],Ie])),_e=Object.values(le.valueSchema),Ae=ne(_e),xe=Object.keys(le.valueSchema);if(ce.eventName==="StoreSetRecord"||ce.eventName==="StoreEphemeralRecord"){let Ie=ct(Ae,ce.args.data),Pe=Object.fromEntries(xe.map((Ce,Be)=>[Ce,Ie[Be]]));return{log:ce,address:getAddress(ce.address),namespace:le.namespace,name:le.name,type:"SetRecord",key:ge,value:Pe}}if(ce.eventName==="StoreSetField"){let Ie=xe[ce.args.schemaIndex],Pe=ke(_e[ce.args.schemaIndex],ce.args.data);return{log:ce,address:getAddress(ce.address),namespace:le.namespace,name:le.name,type:"SetField",key:ge,fieldName:Ie,fieldValue:Pe}}if(ce.eventName==="StoreDeleteRecord")return{log:ce,address:getAddress(ce.address),namespace:le.namespace,name:le.name,type:"DeleteRecord",key:ge};g$1("unknown store event or log, skipping",ce)}).filter(P$5);return await X({blockNumber:te.blockNumber,operations:ue}),{blockNumber:te.blockNumber,operations:ue}}}var w=(L=>(L.INITIALIZE="initialize",L.SNAPSHOT="snapshot",L.RPC="rpc",L.LIVE="live",L))(w||{});function invert(L){const Z=Object.create(null);for(const X in L){const te=L[X];Z[te]=X}return Z}const TRPC_ERROR_CODES_BY_KEY={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};invert(TRPC_ERROR_CODES_BY_KEY);invert(TRPC_ERROR_CODES_BY_KEY);const noop$1=()=>{};function createInnerProxy(L,Z){return new Proxy(noop$1,{get(te,ie){if(!(typeof ie!="string"||ie==="then"))return createInnerProxy(L,[...Z,ie])},apply(te,ie,oe){const se=Z[Z.length-1]==="apply";return L({args:se?oe.length>=2?oe[1]:[]:oe,path:se?Z.slice(0,-1):Z})}})}const createRecursiveProxy=L=>createInnerProxy(L,[]),createFlatProxy=L=>new Proxy(noop$1,{get(Z,X){if(!(typeof X!="string"||X==="then"))return L(X)}});typeof window>"u"||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||globalThis.process?.env?.JEST_WORKER_ID||globalThis.process?.env?.VITEST_WORKER_ID;var DoubleIndexedKV=function(){function L(){this.keyToValue=new Map,this.valueToKey=new Map}return L.prototype.set=function(Z,X){this.keyToValue.set(Z,X),this.valueToKey.set(X,Z)},L.prototype.getByKey=function(Z){return this.keyToValue.get(Z)},L.prototype.getByValue=function(Z){return this.valueToKey.get(Z)},L.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},L}(),Registry=function(){function L(Z){this.generateIdentifier=Z,this.kv=new DoubleIndexedKV}return L.prototype.register=function(Z,X){this.kv.getByValue(Z)||(X||(X=this.generateIdentifier(Z)),this.kv.set(X,Z))},L.prototype.clear=function(){this.kv.clear()},L.prototype.getIdentifier=function(Z){return this.kv.getByValue(Z)},L.prototype.getValue=function(Z){return this.kv.getByKey(Z)},L}(),__extends=globalThis&&globalThis.__extends||function(){var L=function(Z,X){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,ie){te.__proto__=ie}||function(te,ie){for(var oe in ie)Object.prototype.hasOwnProperty.call(ie,oe)&&(te[oe]=ie[oe])},L(Z,X)};return function(Z,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");L(Z,X);function te(){this.constructor=Z}Z.prototype=X===null?Object.create(X):(te.prototype=X.prototype,new te)}}(),ClassRegistry=function(L){__extends(Z,L);function Z(){var X=L.call(this,function(te){return te.name})||this;return X.classToAllowedProps=new Map,X}return Z.prototype.register=function(X,te){typeof te=="object"?(te.allowProps&&this.classToAllowedProps.set(X,te.allowProps),L.prototype.register.call(this,X,te.identifier)):L.prototype.register.call(this,X,te)},Z.prototype.getAllowedProps=function(X){return this.classToAllowedProps.get(X)},Z}(Registry),__read$3=globalThis&&globalThis.__read||function(L,Z){var X=typeof Symbol=="function"&&L[Symbol.iterator];if(!X)return L;var te=X.call(L),ie,oe=[],se;try{for(;(Z===void 0||Z-- >0)&&!(ie=te.next()).done;)oe.push(ie.value)}catch(ue){se={error:ue}}finally{try{ie&&!ie.done&&(X=te.return)&&X.call(te)}finally{if(se)throw se.error}}return oe};function valuesOfObj(L){if("values"in Object)return Object.values(L);var Z=[];for(var X in L)L.hasOwnProperty(X)&&Z.push(L[X]);return Z}function find(L,Z){var X=valuesOfObj(L);if("find"in X)return X.find(Z);for(var te=X,ie=0;ie<te.length;ie++){var oe=te[ie];if(Z(oe))return oe}}function forEach(L,Z){Object.entries(L).forEach(function(X){var te=__read$3(X,2),ie=te[0],oe=te[1];return Z(oe,ie)})}function includes(L,Z){return L.indexOf(Z)!==-1}function findArr(L,Z){for(var X=0;X<L.length;X++){var te=L[X];if(Z(te))return te}}var CustomTransformerRegistry=function(){function L(){this.transfomers={}}return L.prototype.register=function(Z){this.transfomers[Z.name]=Z},L.prototype.findApplicable=function(Z){return find(this.transfomers,function(X){return X.isApplicable(Z)})},L.prototype.findByName=function(Z){return this.transfomers[Z]},L}(),getType$1=function(L){return Object.prototype.toString.call(L).slice(8,-1)},isUndefined=function(L){return typeof L>"u"},isNull=function(L){return L===null},isPlainObject$1=function(L){return typeof L!="object"||L===null||L===Object.prototype?!1:Object.getPrototypeOf(L)===null?!0:Object.getPrototypeOf(L)===Object.prototype},isEmptyObject=function(L){return isPlainObject$1(L)&&Object.keys(L).length===0},isArray$1=function(L){return Array.isArray(L)},isString=function(L){return typeof L=="string"},isNumber=function(L){return typeof L=="number"&&!isNaN(L)},isBoolean=function(L){return typeof L=="boolean"},isRegExp=function(L){return L instanceof RegExp},isMap=function(L){return L instanceof Map},isSet=function(L){return L instanceof Set},isSymbol=function(L){return getType$1(L)==="Symbol"},isDate=function(L){return L instanceof Date&&!isNaN(L.valueOf())},isError=function(L){return L instanceof Error},isNaNValue=function(L){return typeof L=="number"&&isNaN(L)},isPrimitive=function(L){return isBoolean(L)||isNull(L)||isUndefined(L)||isNumber(L)||isString(L)||isSymbol(L)},isBigint=function(L){return typeof L=="bigint"},isInfinite=function(L){return L===1/0||L===-1/0},isTypedArray=function(L){return ArrayBuffer.isView(L)&&!(L instanceof DataView)},isURL=function(L){return L instanceof URL},escapeKey=function(L){return L.replace(/\./g,"\\.")},stringifyPath=function(L){return L.map(String).map(escapeKey).join(".")},parsePath=function(L){for(var Z=[],X="",te=0;te<L.length;te++){var ie=L.charAt(te),oe=ie==="\\"&&L.charAt(te+1)===".";if(oe){X+=".",te++;continue}var se=ie===".";if(se){Z.push(X),X="";continue}X+=ie}var ue=X;return Z.push(ue),Z},__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(L){for(var Z,X=1,te=arguments.length;X<te;X++){Z=arguments[X];for(var ie in Z)Object.prototype.hasOwnProperty.call(Z,ie)&&(L[ie]=Z[ie])}return L},__assign$1.apply(this,arguments)},__read$2=globalThis&&globalThis.__read||function(L,Z){var X=typeof Symbol=="function"&&L[Symbol.iterator];if(!X)return L;var te=X.call(L),ie,oe=[],se;try{for(;(Z===void 0||Z-- >0)&&!(ie=te.next()).done;)oe.push(ie.value)}catch(ue){se={error:ue}}finally{try{ie&&!ie.done&&(X=te.return)&&X.call(te)}finally{if(se)throw se.error}}return oe},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(L,Z){for(var X=0,te=Z.length,ie=L.length;X<te;X++,ie++)L[ie]=Z[X];return L};function simpleTransformation(L,Z,X,te){return{isApplicable:L,annotation:Z,transform:X,untransform:te}}var simpleRules=[simpleTransformation(isUndefined,"undefined",function(){return null},function(){}),simpleTransformation(isBigint,"bigint",function(L){return L.toString()},function(L){return typeof BigInt<"u"?BigInt(L):(console.error("Please add a BigInt polyfill."),L)}),simpleTransformation(isDate,"Date",function(L){return L.toISOString()},function(L){return new Date(L)}),simpleTransformation(isError,"Error",function(L,Z){var X={name:L.name,message:L.message};return Z.allowedErrorProps.forEach(function(te){X[te]=L[te]}),X},function(L,Z){var X=new Error(L.message);return X.name=L.name,X.stack=L.stack,Z.allowedErrorProps.forEach(function(te){X[te]=L[te]}),X}),simpleTransformation(isRegExp,"regexp",function(L){return""+L},function(L){var Z=L.slice(1,L.lastIndexOf("/")),X=L.slice(L.lastIndexOf("/")+1);return new RegExp(Z,X)}),simpleTransformation(isSet,"set",function(L){return __spreadArray$2([],__read$2(L.values()))},function(L){return new Set(L)}),simpleTransformation(isMap,"map",function(L){return __spreadArray$2([],__read$2(L.entries()))},function(L){return new Map(L)}),simpleTransformation(function(L){return isNaNValue(L)||isInfinite(L)},"number",function(L){return isNaNValue(L)?"NaN":L>0?"Infinity":"-Infinity"},Number),simpleTransformation(function(L){return L===0&&1/L===-1/0},"number",function(){return"-0"},Number),simpleTransformation(isURL,"URL",function(L){return L.toString()},function(L){return new URL(L)})];function compositeTransformation(L,Z,X,te){return{isApplicable:L,annotation:Z,transform:X,untransform:te}}var symbolRule=compositeTransformation(function(L,Z){if(isSymbol(L)){var X=!!Z.symbolRegistry.getIdentifier(L);return X}return!1},function(L,Z){var X=Z.symbolRegistry.getIdentifier(L);return["symbol",X]},function(L){return L.description},function(L,Z,X){var te=X.symbolRegistry.getValue(Z[1]);if(!te)throw new Error("Trying to deserialize unknown symbol");return te}),constructorToName=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(L,Z){return L[Z.name]=Z,L},{}),typedArrayRule=compositeTransformation(isTypedArray,function(L){return["typed-array",L.constructor.name]},function(L){return __spreadArray$2([],__read$2(L))},function(L,Z){var X=constructorToName[Z[1]];if(!X)throw new Error("Trying to deserialize unknown typed array");return new X(L)});function isInstanceOfRegisteredClass(L,Z){if(L?.constructor){var X=!!Z.classRegistry.getIdentifier(L.constructor);return X}return!1}var classRule=compositeTransformation(isInstanceOfRegisteredClass,function(L,Z){var X=Z.classRegistry.getIdentifier(L.constructor);return["class",X]},function(L,Z){var X=Z.classRegistry.getAllowedProps(L.constructor);if(!X)return __assign$1({},L);var te={};return X.forEach(function(ie){te[ie]=L[ie]}),te},function(L,Z,X){var te=X.classRegistry.getValue(Z[1]);if(!te)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(te.prototype),L)}),customRule=compositeTransformation(function(L,Z){return!!Z.customTransformerRegistry.findApplicable(L)},function(L,Z){var X=Z.customTransformerRegistry.findApplicable(L);return["custom",X.name]},function(L,Z){var X=Z.customTransformerRegistry.findApplicable(L);return X.serialize(L)},function(L,Z,X){var te=X.customTransformerRegistry.findByName(Z[1]);if(!te)throw new Error("Trying to deserialize unknown custom value");return te.deserialize(L)}),compositeRules=[classRule,symbolRule,customRule,typedArrayRule],transformValue=function(L,Z){var X=findArr(compositeRules,function(ie){return ie.isApplicable(L,Z)});if(X)return{value:X.transform(L,Z),type:X.annotation(L,Z)};var te=findArr(simpleRules,function(ie){return ie.isApplicable(L,Z)});if(te)return{value:te.transform(L,Z),type:te.annotation}},simpleRulesByAnnotation={};simpleRules.forEach(function(L){simpleRulesByAnnotation[L.annotation]=L});var untransformValue=function(L,Z,X){if(isArray$1(Z))switch(Z[0]){case"symbol":return symbolRule.untransform(L,Z,X);case"class":return classRule.untransform(L,Z,X);case"custom":return customRule.untransform(L,Z,X);case"typed-array":return typedArrayRule.untransform(L,Z,X);default:throw new Error("Unknown transformation: "+Z)}else{var te=simpleRulesByAnnotation[Z];if(!te)throw new Error("Unknown transformation: "+Z);return te.untransform(L,X)}},getNthKey=function(L,Z){for(var X=L.keys();Z>0;)X.next(),Z--;return X.next().value};function validatePath(L){if(includes(L,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(includes(L,"prototype"))throw new Error("prototype is not allowed as a property");if(includes(L,"constructor"))throw new Error("constructor is not allowed as a property")}var getDeep=function(L,Z){validatePath(Z);for(var X=0;X<Z.length;X++){var te=Z[X];if(isSet(L))L=getNthKey(L,+te);else if(isMap(L)){var ie=+te,oe=+Z[++X]==0?"key":"value",se=getNthKey(L,ie);switch(oe){case"key":L=se;break;case"value":L=L.get(se);break}}else L=L[te]}return L},setDeep=function(L,Z,X){if(validatePath(Z),Z.length===0)return X(L);for(var te=L,ie=0;ie<Z.length-1;ie++){var oe=Z[ie];if(isArray$1(te)){var se=+oe;te=te[se]}else if(isPlainObject$1(te))te=te[oe];else if(isSet(te)){var ue=+oe;te=getNthKey(te,ue)}else if(isMap(te)){var ce=ie===Z.length-2;if(ce)break;var ue=+oe,le=+Z[++ie]==0?"key":"value",de=getNthKey(te,ue);switch(le){case"key":te=de;break;case"value":te=te.get(de);break}}}var he=Z[Z.length-1];if(isArray$1(te)?te[+he]=X(te[+he]):isPlainObject$1(te)&&(te[he]=X(te[he])),isSet(te)){var ge=getNthKey(te,+he),_e=X(ge);ge!==_e&&(te.delete(ge),te.add(_e))}if(isMap(te)){var ue=+Z[Z.length-2],Ae=getNthKey(te,ue),le=+he==0?"key":"value";switch(le){case"key":{var xe=X(Ae);te.set(xe,te.get(Ae)),xe!==Ae&&te.delete(Ae);break}case"value":{te.set(Ae,X(te.get(Ae)));break}}}return L},__read$1=globalThis&&globalThis.__read||function(L,Z){var X=typeof Symbol=="function"&&L[Symbol.iterator];if(!X)return L;var te=X.call(L),ie,oe=[],se;try{for(;(Z===void 0||Z-- >0)&&!(ie=te.next()).done;)oe.push(ie.value)}catch(ue){se={error:ue}}finally{try{ie&&!ie.done&&(X=te.return)&&X.call(te)}finally{if(se)throw se.error}}return oe},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(L,Z){for(var X=0,te=Z.length,ie=L.length;X<te;X++,ie++)L[ie]=Z[X];return L};function traverse(L,Z,X){if(X===void 0&&(X=[]),!!L){if(!isArray$1(L)){forEach(L,function(se,ue){return traverse(se,Z,__spreadArray$1(__spreadArray$1([],__read$1(X)),__read$1(parsePath(ue))))});return}var te=__read$1(L,2),ie=te[0],oe=te[1];oe&&forEach(oe,function(se,ue){traverse(se,Z,__spreadArray$1(__spreadArray$1([],__read$1(X)),__read$1(parsePath(ue))))}),Z(ie,X)}}function applyValueAnnotations(L,Z,X){return traverse(Z,function(te,ie){L=setDeep(L,ie,function(oe){return untransformValue(oe,te,X)})}),L}function applyReferentialEqualityAnnotations(L,Z){function X(se,ue){var ce=getDeep(L,parsePath(ue));se.map(parsePath).forEach(function(le){L=setDeep(L,le,function(){return ce})})}if(isArray$1(Z)){var te=__read$1(Z,2),ie=te[0],oe=te[1];ie.forEach(function(se){L=setDeep(L,parsePath(se),function(){return L})}),oe&&forEach(oe,X)}else forEach(Z,X);return L}var isDeep=function(L,Z){return isPlainObject$1(L)||isArray$1(L)||isMap(L)||isSet(L)||isInstanceOfRegisteredClass(L,Z)};function addIdentity(L,Z,X){var te=X.get(L);te?te.push(Z):X.set(L,[Z])}function generateReferentialEqualityAnnotations(L){var Z={},X=void 0;return L.forEach(function(te){if(!(te.length<=1)){var ie=__read$1(te.map(function(ue){return ue.map(String)}).sort(function(ue,ce){return ue.length-ce.length})),oe=ie[0],se=ie.slice(1);oe.length===0?X=se.map(stringifyPath):Z[stringifyPath(oe)]=se.map(stringifyPath)}}),X?isEmptyObject(Z)?[X]:[X,Z]:isEmptyObject(Z)?void 0:Z}var walker=function(L,Z,X,te,ie,oe,se){var ue;ie===void 0&&(ie=[]),oe===void 0&&(oe=[]),se===void 0&&(se=new Map);var ce=isPrimitive(L);if(!ce){addIdentity(L,ie,Z);var le=se.get(L);if(le)return te?{transformedValue:null}:le}if(!isDeep(L,X)){var de=transformValue(L,X),he=de?{transformedValue:de.value,annotations:[de.type]}:{transformedValue:L};return ce||se.set(L,he),he}if(includes(oe,L))return{transformedValue:null};var ge=transformValue(L,X),_e=(ue=ge?.value)!==null&&ue!==void 0?ue:L,Ae=isArray$1(_e)?[]:{},xe={};forEach(_e,function(Pe,Ce){var Be=walker(Pe,Z,X,te,__spreadArray$1(__spreadArray$1([],__read$1(ie)),[Ce]),__spreadArray$1(__spreadArray$1([],__read$1(oe)),[L]),se);Ae[Ce]=Be.transformedValue,isArray$1(Be.annotations)?xe[Ce]=Be.annotations:isPlainObject$1(Be.annotations)&&forEach(Be.annotations,function(Ve,Ge){xe[escapeKey(Ce)+"."+Ge]=Ve})});var Ie=isEmptyObject(xe)?{transformedValue:Ae,annotations:ge?[ge.type]:void 0}:{transformedValue:Ae,annotations:ge?[ge.type,xe]:xe};return ce||se.set(L,Ie),Ie};function getType(L){return Object.prototype.toString.call(L).slice(8,-1)}function isPlainObject(L){if(getType(L)!=="Object")return!1;const Z=Object.getPrototypeOf(L);return!!Z&&Z.constructor===Object&&Z===Object.prototype}function isArray(L){return getType(L)==="Array"}function assignProp(L,Z,X,te,ie){const oe={}.propertyIsEnumerable.call(te,Z)?"enumerable":"nonenumerable";oe==="enumerable"&&(L[Z]=X),ie&&oe==="nonenumerable"&&Object.defineProperty(L,Z,{value:X,enumerable:!1,writable:!0,configurable:!0})}function copy(L,Z={}){if(isArray(L))return L.map(ie=>copy(ie,Z));if(!isPlainObject(L))return L;const X=Object.getOwnPropertyNames(L),te=Object.getOwnPropertySymbols(L);return[...X,...te].reduce((ie,oe)=>{if(isArray(Z.props)&&!Z.props.includes(oe))return ie;const se=L[oe],ue=copy(se,Z);return assignProp(ie,oe,ue,L,Z.nonenumerable),ie},{})}var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(L){for(var Z,X=1,te=arguments.length;X<te;X++){Z=arguments[X];for(var ie in Z)Object.prototype.hasOwnProperty.call(Z,ie)&&(L[ie]=Z[ie])}return L},__assign.apply(this,arguments)},__read=globalThis&&globalThis.__read||function(L,Z){var X=typeof Symbol=="function"&&L[Symbol.iterator];if(!X)return L;var te=X.call(L),ie,oe=[],se;try{for(;(Z===void 0||Z-- >0)&&!(ie=te.next()).done;)oe.push(ie.value)}catch(ue){se={error:ue}}finally{try{ie&&!ie.done&&(X=te.return)&&X.call(te)}finally{if(se)throw se.error}}return oe},__spreadArray=globalThis&&globalThis.__spreadArray||function(L,Z){for(var X=0,te=Z.length,ie=L.length;X<te;X++,ie++)L[ie]=Z[X];return L},SuperJSON=function(){function L(Z){var X=Z===void 0?{}:Z,te=X.dedupe,ie=te===void 0?!1:te;this.classRegistry=new ClassRegistry,this.symbolRegistry=new Registry(function(oe){var se;return(se=oe.description)!==null&&se!==void 0?se:""}),this.customTransformerRegistry=new CustomTransformerRegistry,this.allowedErrorProps=[],this.dedupe=ie}return L.prototype.serialize=function(Z){var X=new Map,te=walker(Z,X,this,this.dedupe),ie={json:te.transformedValue};te.annotations&&(ie.meta=__assign(__assign({},ie.meta),{values:te.annotations}));var oe=generateReferentialEqualityAnnotations(X);return oe&&(ie.meta=__assign(__assign({},ie.meta),{referentialEqualities:oe})),ie},L.prototype.deserialize=function(Z){var X=Z.json,te=Z.meta,ie=copy(X);return te?.values&&(ie=applyValueAnnotations(ie,te.values,this)),te?.referentialEqualities&&(ie=applyReferentialEqualityAnnotations(ie,te.referentialEqualities)),ie},L.prototype.stringify=function(Z){return JSON.stringify(this.serialize(Z))},L.prototype.parse=function(Z){return this.deserialize(JSON.parse(Z))},L.prototype.registerClass=function(Z,X){this.classRegistry.register(Z,X)},L.prototype.registerSymbol=function(Z,X){this.symbolRegistry.register(Z,X)},L.prototype.registerCustom=function(Z,X){this.customTransformerRegistry.register(__assign({name:X},Z))},L.prototype.allowErrorProps=function(){for(var Z,X=[],te=0;te<arguments.length;te++)X[te]=arguments[te];(Z=this.allowedErrorProps).push.apply(Z,__spreadArray([],__read(X)))},L.defaultInstance=new L,L.serialize=L.defaultInstance.serialize.bind(L.defaultInstance),L.deserialize=L.defaultInstance.deserialize.bind(L.defaultInstance),L.stringify=L.defaultInstance.stringify.bind(L.defaultInstance),L.parse=L.defaultInstance.parse.bind(L.defaultInstance),L.registerClass=L.defaultInstance.registerClass.bind(L.defaultInstance),L.registerSymbol=L.defaultInstance.registerSymbol.bind(L.defaultInstance),L.registerCustom=L.defaultInstance.registerCustom.bind(L.defaultInstance),L.allowErrorProps=L.defaultInstance.allowErrorProps.bind(L.defaultInstance),L}();SuperJSON.serialize;SuperJSON.deserialize;SuperJSON.stringify;SuperJSON.parse;SuperJSON.registerClass;SuperJSON.registerCustom;SuperJSON.registerSymbol;SuperJSON.allowErrorProps;function identity(L){return L}function pipeFromArray(L){return L.length===0?identity:L.length===1?L[0]:function(X){return L.reduce((te,ie)=>ie(te),X)}}function observable(L){const Z={subscribe(X){let te=null,ie=!1,oe=!1,se=!1;function ue(){if(te===null){se=!0;return}oe||(oe=!0,typeof te=="function"?te():te&&te.unsubscribe())}return te=L({next(ce){ie||X.next?.(ce)},error(ce){ie||(ie=!0,X.error?.(ce),ue())},complete(){ie||(ie=!0,X.complete?.(),ue())}}),se&&ue(),{unsubscribe:ue}},pipe(...X){return pipeFromArray(X)(Z)}};return Z}function share(L){return Z=>{let X=0,te=null;const ie=[];function oe(){te||(te=Z.subscribe({next(ue){for(const ce of ie)ce.next?.(ue)},error(ue){for(const ce of ie)ce.error?.(ue)},complete(){for(const ue of ie)ue.complete?.()}}))}function se(){if(X===0&&te){const ue=te;te=null,ue.unsubscribe()}}return{subscribe(ue){return X++,ie.push(ue),oe(),{unsubscribe(){X--,se();const ce=ie.findIndex(le=>le===ue);ce>-1&&ie.splice(ce,1)}}}}}}class ObservableAbortError extends Error{constructor(Z){super(Z),this.name="ObservableAbortError",Object.setPrototypeOf(this,ObservableAbortError.prototype)}}function observableToPromise(L){let Z;return{promise:new Promise((te,ie)=>{let oe=!1;function se(){oe||(oe=!0,ie(new ObservableAbortError("This operation was aborted.")),ue.unsubscribe())}const ue=L.subscribe({next(ce){oe=!0,te(ce),se()},error(ce){oe=!0,ie(ce),se()},complete(){oe=!0,se()}});Z=se}),abort:Z}}function createChain(L){return observable(Z=>{function X(ie=0,oe=L.op){const se=L.links[ie];if(!se)throw new Error("No more links to execute - did you forget to add an ending link?");return se({op:oe,next(ce){return X(ie+1,ce)}})}return X().subscribe(Z)})}function isTRPCClientError(L){return L instanceof TRPCClientError||L.name==="TRPCClientError"}class TRPCClientError extends Error{static from(Z,X={}){return Z instanceof Error?isTRPCClientError(Z)?(X.meta&&(Z.meta={...Z.meta,...X.meta}),Z):new TRPCClientError(Z.message,{...X,cause:Z,result:null}):new TRPCClientError(Z.error.message??"",{...X,cause:void 0,result:Z})}constructor(Z,X){const te=X?.cause;super(Z,{cause:te}),this.meta=X?.meta,this.cause=te,this.shape=X?.result?.error,this.data=X?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,TRPCClientError.prototype)}}const isFunction$1=L=>typeof L=="function";function getFetch(L){if(L)return L;if(typeof window<"u"&&isFunction$1(window.fetch))return window.fetch;if(typeof globalThis<"u"&&isFunction$1(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function getAbortController(L){return L||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function resolveHTTPLinkOptions(L){return{url:L.url,fetch:L.fetch,AbortController:getAbortController(L.AbortController)}}function arrayToDict(L){const Z={};for(let X=0;X<L.length;X++){const te=L[X];Z[X]=te}return Z}const METHOD={query:"GET",mutation:"POST"};function getInput(L){return"input"in L?L.runtime.transformer.serialize(L.input):arrayToDict(L.inputs.map(Z=>L.runtime.transformer.serialize(Z)))}const getUrl=L=>{let Z=L.url+"/"+L.path;const X=[];if("inputs"in L&&X.push("batch=1"),L.type==="query"){const te=getInput(L);te!==void 0&&X.push(`input=${encodeURIComponent(JSON.stringify(te))}`)}return X.length&&(Z+="?"+X.join("&")),Z},getBody=L=>{if(L.type==="query")return;const Z=getInput(L);return Z!==void 0?JSON.stringify(Z):void 0},jsonHttpRequester=L=>httpRequest({...L,contentTypeHeader:"application/json",getUrl,getBody});async function fetchHTTPResponse(L,Z){const X=L.getUrl(L),te=L.getBody(L),{type:ie}=L,oe=await L.headers();/* istanbul ignore if -- @preserve */if(ie==="subscription")throw new Error("Subscriptions should use wsLink");const se={...L.contentTypeHeader?{"content-type":L.contentTypeHeader}:{},...L.batchModeHeader?{"trpc-batch-mode":L.batchModeHeader}:{},...oe};return getFetch(L.fetch)(X,{method:METHOD[ie],signal:Z?.signal,body:te,headers:se})}function httpRequest(L){const Z=L.AbortController?new L.AbortController:null,X={};return{promise:new Promise((oe,se)=>{fetchHTTPResponse(L,Z).then(ue=>(X.response=ue,ue.json())).then(ue=>{X.responseJSON=ue,oe({json:ue,meta:X})}).catch(ue=>{se(TRPCClientError.from(ue,{meta:X}))})}),cancel:()=>{Z?.abort()}}}function isObject(L){return!!L&&!Array.isArray(L)&&typeof L=="object"}function transformResultInner(L,Z){if("error"in L){const te=Z.transformer.deserialize(L.error);return{ok:!1,error:{...L,error:te}}}return{ok:!0,result:{...L.result,...(!L.result.type||L.result.type==="data")&&{type:"data",data:Z.transformer.deserialize(L.result.data)}}}}class TransformResultError extends Error{constructor(){super("Unable to transform response from server")}}function transformResult(L,Z){let X;try{X=transformResultInner(L,Z)}catch{throw new TransformResultError}if(!X.ok&&(!isObject(X.error.error)||typeof X.error.error.code!="number"))throw new TransformResultError;if(X.ok&&!isObject(X.result))throw new TransformResultError;return X}const throwFatalError=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function dataLoader(L){let Z=null,X=null;const te=()=>{clearTimeout(X),X=null,Z=null};function ie(ue){const ce=[[]];let le=0;for(;;){const de=ue[le];if(!de)break;const he=ce[ce.length-1];if(de.aborted){de.reject?.(new Error("Aborted")),le++;continue}if(L.validate(he.concat(de).map(_e=>_e.key))){he.push(de),le++;continue}if(he.length===0){de.reject?.(new Error("Input is too big for a single dispatch")),le++;continue}ce.push([])}return ce}function oe(){const ue=ie(Z);te();for(const ce of ue){if(!ce.length)continue;const le={items:ce,cancel:throwFatalError};for(const _e of ce)_e.batch=le;const de=(_e,Ae)=>{const xe=le.items[_e];xe.resolve?.(Ae),xe.batch=null,xe.reject=null,xe.resolve=null},{promise:he,cancel:ge}=L.fetch(le.items.map(_e=>_e.key),de);le.cancel=ge,he.then(_e=>{for(let Ae=0;Ae<_e.length;Ae++){const xe=_e[Ae];de(Ae,xe)}for(const Ae of le.items)Ae.reject?.(new Error("Missing result")),Ae.batch=null}).catch(_e=>{for(const Ae of le.items)Ae.reject?.(_e),Ae.batch=null})}}function se(ue){const ce={aborted:!1,key:ue,batch:null,resolve:throwFatalError,reject:throwFatalError},le=new Promise((he,ge)=>{ce.reject=ge,ce.resolve=he,Z||(Z=[]),Z.push(ce)});return X||(X=setTimeout(oe)),{promise:le,cancel:()=>{ce.aborted=!0,ce.batch?.items.every(he=>he.aborted)&&(ce.batch.cancel(),ce.batch=null)}}}return{load:se}}function createHTTPBatchLink(L){return function(X){const te=resolveHTTPLinkOptions(X),ie=X.maxURLLength??1/0;return oe=>{const se=he=>{const ge=Ae=>{if(ie===1/0)return!0;const xe=Ae.map(Ce=>Ce.path).join(","),Ie=Ae.map(Ce=>Ce.input);return getUrl({...te,runtime:oe,type:he,path:xe,inputs:Ie}).length<=ie},_e=L({...te,runtime:oe,type:he,opts:X});return{validate:ge,fetch:_e}},ue=dataLoader(se("query")),ce=dataLoader(se("mutation")),le=dataLoader(se("subscription")),de={query:ue,subscription:le,mutation:ce};return({op:he})=>observable(ge=>{const _e=de[he.type],{promise:Ae,cancel:xe}=_e.load(he);let Ie;return Ae.then(Pe=>{Ie=Pe;const Ce=transformResult(Pe.json,oe);if(!Ce.ok){ge.error(TRPCClientError.from(Ce.error,{meta:Pe.meta}));return}ge.next({context:Pe.meta,result:Ce.result}),ge.complete()}).catch(Pe=>{ge.error(TRPCClientError.from(Pe,{meta:Ie?.meta}))}),()=>{xe()}})}}}const batchRequester=L=>Z=>{const X=Z.map(se=>se.path).join(","),te=Z.map(se=>se.input),{promise:ie,cancel:oe}=jsonHttpRequester({...L,path:X,inputs:te,headers(){return L.opts.headers?typeof L.opts.headers=="function"?L.opts.headers({opList:Z}):L.opts.headers:{}}});return{promise:ie.then(se=>(Array.isArray(se.json)?se.json:Z.map(()=>se.json)).map(le=>({meta:se.meta,json:le}))),cancel:oe}},httpBatchLink=createHTTPBatchLink(batchRequester);class TRPCUntypedClient{$request({type:Z,input:X,path:te,context:ie={}}){return createChain({links:this.links,op:{id:++this.requestId,type:Z,path:te,input:X,context:ie}}).pipe(share())}requestAsPromise(Z){const X=this.$request(Z),{promise:te,abort:ie}=observableToPromise(X);return new Promise((se,ue)=>{Z.signal?.addEventListener("abort",ie),te.then(ce=>{se(ce.result.data)}).catch(ce=>{ue(TRPCClientError.from(ce))})})}query(Z,X,te){return this.requestAsPromise({type:"query",path:Z,input:X,context:te?.context,signal:te?.signal})}mutation(Z,X,te){return this.requestAsPromise({type:"mutation",path:Z,input:X,context:te?.context,signal:te?.signal})}subscription(Z,X,te){return this.$request({type:"subscription",path:Z,input:X,context:te?.context}).subscribe({next(oe){oe.result.type==="started"?te.onStarted?.():oe.result.type==="stopped"?te.onStopped?.():te.onData?.(oe.result.data)},error(oe){te.onError?.(oe)},complete(){te.onComplete?.()}})}constructor(Z){this.requestId=0;const X=(()=>{const te=Z.transformer;return te?"input"in te?Z.transformer:{input:te,output:te}:{input:{serialize:ie=>ie,deserialize:ie=>ie},output:{serialize:ie=>ie,deserialize:ie=>ie}}})();this.runtime={transformer:{serialize:te=>X.input.serialize(te),deserialize:te=>X.output.deserialize(te)},combinedTransformer:X},this.links=Z.links.map(te=>te(this.runtime))}}const clientCallTypeMap={query:"query",mutate:"mutation",subscribe:"subscription"},clientCallTypeToProcedureType=L=>clientCallTypeMap[L];function createTRPCClientProxy(L){return createFlatProxy(Z=>L.hasOwnProperty(Z)?L[Z]:Z==="__untypedClient"?L:createRecursiveProxy(({path:X,args:te})=>{const ie=[Z,...X],oe=clientCallTypeToProcedureType(ie.pop()),se=ie.join(".");return L[oe](se,...te)}))}function createTRPCProxyClient(L){const Z=new TRPCUntypedClient(L);return createTRPCClientProxy(Z)}function P$1({url:L}){return createTRPCProxyClient({transformer:SuperJSON,links:[httpBatchLink({url:L})]})}var e=["event StoreDeleteRecord(bytes32 table, bytes32[] key)","event StoreSetField(bytes32 table, bytes32[] key, uint8 schemaIndex, bytes data)","event StoreSetRecord(bytes32 table, bytes32[] key, bytes data)","event StoreEphemeralRecord(bytes32 table, bytes32[] key, bytes data)"],f$1=parseAbi(e),u$1=g$4("mud:block-events-stream");async function*a({maxBlockRange:L=1000n,maxRetryCount:Z=3,publicClient:X,...te}){let ie=te.fromBlock,oe=u$2(L,te.toBlock-ie),se=0;for(;ie<=te.toBlock;)try{let ue=ie+oe,ce=await X.getLogs({...te,fromBlock:ie,toBlock:ue,strict:!0});yield{fromBlock:ie,toBlock:ue,logs:ce},ie=ue+1n,oe=u$2(L,te.toBlock-ie)}catch(ue){if(!(ue instanceof Error))throw ue;if(ue.message.includes("rate limit exceeded")&&se<Z){let ce=2*se;u$1(`too many requests, retrying in ${ce}s`,ue),await b$3(1e3*ce),se+=1;continue}if(ue.message.includes("block range exceeded")){if(oe/=2n,oe<=0n)throw new Error("can't reduce block range any further");u$1("block range exceeded, trying a smaller block range",ue);continue}throw ue}}function P({publicClient:L,address:Z,events:X,maxBlockRange:te}){let ie,oe;return pipe(tap(({endBlock:se,startBlock:ue})=>{ie??=ue,oe=se}),concatMap(()=>ie>oe?EMPTY:from(a({publicClient:L,address:Z,events:X,fromBlock:ie,toBlock:oe,maxBlockRange:te})).pipe(tap(({toBlock:se})=>{ie=se+1n}))))}function O$1({publicClient:L,blockTag:Z}){return new Observable(function(X){return L.watchBlocks({blockTag:Z,emitOnBegin:!0,onBlock:te=>X.next(te),onError:te=>X.error(te)})})}function M$1(L,Z){let X=Array.from(new Set(L.map(oe=>oe.blockNumber)));X.sort(m$3);let te=X.map(oe=>{let se=L.filter(ue=>ue.blockNumber===oe);if(se.length&&(se.sort((ue,ce)=>ue.logIndex<ce.logIndex?-1:ue.logIndex>ce.logIndex?1:0),!!se.length))return{blockNumber:oe,logs:se}}).filter(P$5),ie=X.length>0?X[X.length-1]:null;return Z!=null&&(ie==null||Z>ie)&&te.push({blockNumber:Z,logs:[]}),te}function U(L){return Object.fromEntries(Object.entries(L).map(([Z,X])=>[Z,P$6[X]]))}var r$1=g$1.extend("createStoreSync");async function be({storageAdapter:L,onProgress:Z,address:X,publicClient:te,startBlock:ie=0n,maxBlockRange:oe,initialState:se,indexerUrl:ue}){let ce=defer(async()=>{if(se)return se;if(!ue)return;r$1("fetching initial state from indexer",ue),Z?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetching snapshot from indexer"});let Be=P$1({url:ue}),Ve=te.chain?.id??await te.getChainId(),Ge=await Be.findAll.query({chainId:Ve,address:X});return Z?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Fetched snapshot from indexer"}),Ge}).pipe(catchError(Be=>(r$1("error fetching initial state from indexer",Be),Z?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:ie,message:"Failed to fetch snapshot from indexer"}),of(void 0))),shareReplay(1)),le=ce.pipe(map(Be=>Be?.blockNumber??ie),tap(Be=>r$1("starting sync from block",Be))),de=ce.pipe(filter(Be=>Be!=null&&Be.blockNumber!=null&&Be.tables.length>0),concatMap(async({blockNumber:Be,tables:Ve})=>{r$1("hydrating from initial state to block",Be),Z?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:Be,message:"Hydrating from snapshot"}),await L.registerTables({blockNumber:Be,tables:Ve});let Ge=Ve.flatMap(et=>et.records.map(at=>({type:"SetRecord",address:et.address,namespace:et.namespace,name:et.name,key:at.key,value:at.value}))),Ke=Math.max(100,Math.floor(Ge.length/50)),Je=Array.from(f$3(Ge,Ke));for(let[et,at]of Je.entries())await L.storeOperations({blockNumber:Be,operations:at}),Z?.({step:"snapshot",percentage:(et+at.length)/Je.length,latestBlockNumber:0n,lastBlockNumberProcessed:Be,message:"Hydrating from snapshot"});return Z?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:Be,message:"Hydrated from snapshot"}),{blockNumber:Be,operations:Ge}}),shareReplay(1)),he=O$1({publicClient:te,blockTag:"latest"}).pipe(shareReplay(1)),ge=he.pipe(map(Be=>Be.number),tap(Be=>{r$1("latest block number",Be)}),shareReplay(1)),_e=null,Ae=null,xe=combineLatest([le,ge]).pipe(map(([Be,Ve])=>({startBlock:Be,endBlock:Ve})),tap(Be=>{_e=Be.startBlock,Ae=Be.endBlock}),P({publicClient:te,address:X,events:f$1,maxBlockRange:oe}),mergeMap(({toBlock:Be,logs:Ve})=>from(M$1(Ve,Be))),share$1()),Ie=null,Pe=concat$2(de,xe.pipe(concatMap(G(L)),tap(({blockNumber:Be,operations:Ve})=>{if(r$1("stored",Ve.length,"operations for block",Be),Ie=Be,_e!=null&&Ae!=null)if(Be<Ae){let Ge=Ae-_e,Ke=Ie-_e;Z?.({step:"rpc",percentage:Number(Ke*1000n/Ge)/1e3,latestBlockNumber:Ae,lastBlockNumberProcessed:Ie,message:"Hydrating from RPC"})}else Z?.({step:"live",percentage:100,latestBlockNumber:Ae,lastBlockNumberProcessed:Ie,message:"All caught up!"})}))).pipe(share$1());async function Ce(Be){let Ve=await pRetry(Ge=>(r$1("waiting for tx receipt",Be,"attempt",Ge),te.waitForTransactionReceipt({hash:Be,timeout:te.pollingInterval*2*Ge})),{retries:3,onFailedAttempt:Ge=>{if(Ge instanceof WaitForTransactionReceiptTimeoutError){r$1("timed out waiting for tx receipt, trying again",Be);return}throw Ge}});return r$1("got tx receipt",Be,Ve),(Ie==null||Ie<Ve.blockNumber)&&(r$1("waiting for tx block to be processed",Be,Ve.blockNumber),await firstValueFrom(Pe.pipe(filter(({blockNumber:Ge})=>Ge>=Ve.blockNumber)))),r$1("tx block was processed",Be,Ve.blockNumber),{receipt:Ve}}return{latestBlock$:he,latestBlockNumber$:ge,blockLogs$:xe,blockStorageOperations$:Pe,waitForTransaction:Ce}}var d={registerFunctionSelector:!0,openAccess:!0,accessList:[]},o={worldContractName:void 0,worldInterfaceName:"IWorld",systems:{},excludeSystems:[],postDeployScript:"PostDeploy",deploysDirectory:"./deploys",worldsFile:"./worlds.json",worldgenDirectory:"world",worldImportPath:"@latticexyz/world/src/",modules:[]},y=v$2,h=v$2,z=z$2.array(y.or(k$1)).default(d.accessList),v=z$2.intersection(z$2.object({name:P$3.optional(),registerFunctionSelectors:z$2.boolean().default(d.registerFunctionSelector)}),z$2.discriminatedUnion("openAccess",[z$2.object({openAccess:z$2.literal(!0).default(d.openAccess)}),z$2.object({openAccess:z$2.literal(!1),accessList:z})])),x=z$2.object({value:z$2.union([z$2.string(),z$2.number(),z$2.instanceof(Uint8Array)]),type:z$2.string()}),E=z$2.object({type:z$2.nativeEnum(w$1),input:z$2.string()}),N$1=z$2.object({name:h,root:z$2.boolean().default(!1),args:z$2.array(z$2.union([x,E])).default([])}),T$1=z$2.object({worldContractName:z$2.string().optional(),worldInterfaceName:z$2.string().default(o.worldInterfaceName),systems:z$2.record(y,v).default(o.systems),excludeSystems:z$2.array(y).default(o.excludeSystems),postDeployScript:z$2.string().default(o.postDeployScript),deploysDirectory:z$2.string().default(o.deploysDirectory),worldsFile:z$2.string().default(o.worldsFile),worldgenDirectory:z$2.string().default(o.worldgenDirectory),worldImportPath:z$2.string().default(o.worldImportPath),modules:z$2.array(N$1).default(o.modules)}),M=T$1.catchall(z$2.any());q$1(L=>{try{return M.parse(L)}catch(Z){throw Z instanceof ZodError?l$2(Z,"WorldConfig Validation Error"):Z}});var t$1=s({worldImportPath:"../",worldgenDirectory:"interfaces",worldInterfaceName:"IBaseWorld",codegenDirectory:"",tables:{NamespaceOwner:{keySchema:{namespace:"bytes16"},schema:{owner:"address"}},ResourceAccess:{keySchema:{resourceSelector:"bytes32",caller:"address"},schema:{access:"bool"}},InstalledModules:{keySchema:{moduleName:"bytes16",argumentsHash:"bytes32"},schema:{moduleAddress:"address"},dataStruct:!0},Systems:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:{system:"address",publicAccess:"bool"},dataStruct:!1},SystemRegistry:{directory:"modules/core/tables",keySchema:{system:"address"},schema:{resourceSelector:"bytes32"}},SystemHooks:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:"address[]"},ResourceType:{directory:"modules/core/tables",keySchema:{resourceSelector:"bytes32"},schema:{resourceType:"Resource"}},FunctionSelectors:{directory:"modules/core/tables",keySchema:{functionSelector:"bytes4"},schema:{resourceSelector:"bytes32",systemFunctionSelector:"bytes4"},dataStruct:!1},KeysWithValue:{directory:"modules/keyswithvalue/tables",keySchema:{valueHash:"bytes32"},schema:{keysWithValue:"bytes32[]"},tableIdArgument:!0},KeysInTable:{directory:"modules/keysintable/tables",keySchema:{sourceTable:"bytes32"},schema:{keys0:"bytes32[]",keys1:"bytes32[]",keys2:"bytes32[]",keys3:"bytes32[]",keys4:"bytes32[]"}},UsedKeysIndex:{directory:"modules/keysintable/tables",keySchema:{sourceTable:"bytes32",keysHash:"bytes32"},schema:{has:"bool",index:"uint40"},dataStruct:!1},UniqueEntity:{directory:"modules/uniqueentity/tables",keySchema:{},schema:"uint256",tableIdArgument:!0,storeArgument:!0},Bool:{directory:"../test/tables",keySchema:{},schema:{value:"bool"},tableIdArgument:!0},AddressArray:{directory:"../test/tables",schema:"address[]",tableIdArgument:!0}},enums:{Resource:["NONE","NAMESPACE","TABLE","SYSTEM"]},excludeSystems:["UniqueEntitySystem","StoreRegistrationSystem","EphemeralRecordSystem"]});function T(L){if(!isHex(L))throw new Error(`entity ${L} is not a hex string`);let Z=size$1(L);if(Z%32!==0)throw new Error(`entity length ${Z} is not a multiple of 32 bytes`);return new Array(Z/32).fill(0).map((X,te)=>sliceHex(L,te*32,(te+1)*32))}function ot(L,Z){let X=T(Z);if(X.length!==Object.keys(L).length)throw new Error(`entity key tuple length ${X.length} does not match key schema length ${Object.keys(L).length}`);return Object.fromEntries(Object.entries(L).map(([te,ie],oe)=>[te,decodeAbiParameters([{type:ie}],X[oe])[0]]))}function c(L){return concatHex(L)}function u(L,Z){if(Object.keys(L).length!==Object.keys(Z).length)throw new Error(`key length ${Object.keys(Z).length} does not match key schema length ${Object.keys(L).length}`);return c(Object.entries(L).map(([X,te])=>encodeAbiParameters([{type:te}],[Z[X]])))}function ut(L){return L.metadata?.componentName!=null&&L.metadata?.tableName!=null&&L.metadata?.keySchema!=null&&L.metadata?.valueSchema!=null}var g=g$1.extend("recs");function b(L){return u({address:"address",namespace:"bytes16",name:"bytes16"},{address:L.address,namespace:stringToHex(L.namespace,{size:16}),name:stringToHex(L.name,{size:16})})}function R({components:L}){let Z=Object.fromEntries(Object.entries(L).map(([X,te])=>[te.id,te]));return{async registerTables({tables:X}){for(let te of X)T$3(L.RegisteredTables,b(te),{table:te})},async getTables({tables:X}){return X.map(te=>x$6(L.RegisteredTables,b(te))?.table).filter(P$5)},async storeOperations({operations:X}){for(let te of X){let ie=x$6(L.RegisteredTables,b({address:te.address,namespace:te.namespace,name:te.name}))?.table;if(!ie){g(`skipping update for unknown table: ${te.namespace}:${te.name} at ${te.address}`);continue}let oe=He(te.namespace,te.name),se=Z[oe];if(!se){g(`skipping update for unknown component: ${oe}. Available components: ${Object.keys(L)}`);continue}let ue=u(ie.keySchema,te.key);te.type==="SetRecord"?(g("setting component",oe,ue,te.value),T$3(se,ue,te.value)):te.type==="SetField"?(g("updating component",oe,ue,{[te.fieldName]:te.fieldValue}),je(se,ue,{[te.fieldName]:te.fieldValue},U(ie.valueSchema))):te.type==="DeleteRecord"&&(g("deleting component",oe,ue),w$2(se,ue))}}}}var f=c([]);function N(L){return{RegisteredTables:Re(L,{table:W.T},{metadata:{componentName:"RegisteredTables"}}),SyncProgress:Re(L,{step:W.String,message:W.String,percentage:W.Number,latestBlockNumber:W.BigInt,lastBlockNumberProcessed:W.BigInt},{metadata:{componentName:"SyncProgress"}})}}var O={uint8:W.Number,uint16:W.Number,uint24:W.Number,uint32:W.Number,uint40:W.Number,uint48:W.Number,uint56:W.BigInt,uint64:W.BigInt,uint72:W.BigInt,uint80:W.BigInt,uint88:W.BigInt,uint96:W.BigInt,uint104:W.BigInt,uint112:W.BigInt,uint120:W.BigInt,uint128:W.BigInt,uint136:W.BigInt,uint144:W.BigInt,uint152:W.BigInt,uint160:W.BigInt,uint168:W.BigInt,uint176:W.BigInt,uint184:W.BigInt,uint192:W.BigInt,uint200:W.BigInt,uint208:W.BigInt,uint216:W.BigInt,uint224:W.BigInt,uint232:W.BigInt,uint240:W.BigInt,uint248:W.BigInt,uint256:W.BigInt,int8:W.Number,int16:W.Number,int24:W.Number,int32:W.Number,int40:W.Number,int48:W.Number,int56:W.BigInt,int64:W.BigInt,int72:W.BigInt,int80:W.BigInt,int88:W.BigInt,int96:W.BigInt,int104:W.BigInt,int112:W.BigInt,int120:W.BigInt,int128:W.BigInt,int136:W.BigInt,int144:W.BigInt,int152:W.BigInt,int160:W.BigInt,int168:W.BigInt,int176:W.BigInt,int184:W.BigInt,int192:W.BigInt,int200:W.BigInt,int208:W.BigInt,int216:W.BigInt,int224:W.BigInt,int232:W.BigInt,int240:W.BigInt,int248:W.BigInt,int256:W.BigInt,bytes1:W.String,bytes2:W.String,bytes3:W.String,bytes4:W.String,bytes5:W.String,bytes6:W.String,bytes7:W.String,bytes8:W.String,bytes9:W.String,bytes10:W.String,bytes11:W.String,bytes12:W.String,bytes13:W.String,bytes14:W.String,bytes15:W.String,bytes16:W.String,bytes17:W.String,bytes18:W.String,bytes19:W.String,bytes20:W.String,bytes21:W.String,bytes22:W.String,bytes23:W.String,bytes24:W.String,bytes25:W.String,bytes26:W.String,bytes27:W.String,bytes28:W.String,bytes29:W.String,bytes30:W.String,bytes31:W.String,bytes32:W.String,bool:W.Boolean,address:W.String,"uint8[]":W.NumberArray,"uint16[]":W.NumberArray,"uint24[]":W.NumberArray,"uint32[]":W.NumberArray,"uint40[]":W.NumberArray,"uint48[]":W.NumberArray,"uint56[]":W.BigIntArray,"uint64[]":W.BigIntArray,"uint72[]":W.BigIntArray,"uint80[]":W.BigIntArray,"uint88[]":W.BigIntArray,"uint96[]":W.BigIntArray,"uint104[]":W.BigIntArray,"uint112[]":W.BigIntArray,"uint120[]":W.BigIntArray,"uint128[]":W.BigIntArray,"uint136[]":W.BigIntArray,"uint144[]":W.BigIntArray,"uint152[]":W.BigIntArray,"uint160[]":W.BigIntArray,"uint168[]":W.BigIntArray,"uint176[]":W.BigIntArray,"uint184[]":W.BigIntArray,"uint192[]":W.BigIntArray,"uint200[]":W.BigIntArray,"uint208[]":W.BigIntArray,"uint216[]":W.BigIntArray,"uint224[]":W.BigIntArray,"uint232[]":W.BigIntArray,"uint240[]":W.BigIntArray,"uint248[]":W.BigIntArray,"uint256[]":W.BigIntArray,"int8[]":W.NumberArray,"int16[]":W.NumberArray,"int24[]":W.NumberArray,"int32[]":W.NumberArray,"int40[]":W.NumberArray,"int48[]":W.NumberArray,"int56[]":W.BigIntArray,"int64[]":W.BigIntArray,"int72[]":W.BigIntArray,"int80[]":W.BigIntArray,"int88[]":W.BigIntArray,"int96[]":W.BigIntArray,"int104[]":W.BigIntArray,"int112[]":W.BigIntArray,"int120[]":W.BigIntArray,"int128[]":W.BigIntArray,"int136[]":W.BigIntArray,"int144[]":W.BigIntArray,"int152[]":W.BigIntArray,"int160[]":W.BigIntArray,"int168[]":W.BigIntArray,"int176[]":W.BigIntArray,"int184[]":W.BigIntArray,"int192[]":W.BigIntArray,"int200[]":W.BigIntArray,"int208[]":W.BigIntArray,"int216[]":W.BigIntArray,"int224[]":W.BigIntArray,"int232[]":W.BigIntArray,"int240[]":W.BigIntArray,"int248[]":W.BigIntArray,"int256[]":W.BigIntArray,"bytes1[]":W.StringArray,"bytes2[]":W.StringArray,"bytes3[]":W.StringArray,"bytes4[]":W.StringArray,"bytes5[]":W.StringArray,"bytes6[]":W.StringArray,"bytes7[]":W.StringArray,"bytes8[]":W.StringArray,"bytes9[]":W.StringArray,"bytes10[]":W.StringArray,"bytes11[]":W.StringArray,"bytes12[]":W.StringArray,"bytes13[]":W.StringArray,"bytes14[]":W.StringArray,"bytes15[]":W.StringArray,"bytes16[]":W.StringArray,"bytes17[]":W.StringArray,"bytes18[]":W.StringArray,"bytes19[]":W.StringArray,"bytes20[]":W.StringArray,"bytes21[]":W.StringArray,"bytes22[]":W.StringArray,"bytes23[]":W.StringArray,"bytes24[]":W.StringArray,"bytes25[]":W.StringArray,"bytes26[]":W.StringArray,"bytes27[]":W.StringArray,"bytes28[]":W.StringArray,"bytes29[]":W.StringArray,"bytes30[]":W.StringArray,"bytes31[]":W.StringArray,"bytes32[]":W.StringArray,"bool[]":W.T,"address[]":W.StringArray,bytes:W.String,string:W.String};function S(L,Z){return Object.fromEntries(Object.entries(Z.tables).map(([X,te])=>[X,Re(L,Object.fromEntries(Object.entries(te.schema).map(([ie,oe])=>[ie,O[oe]])),{id:He(Z.namespace,X),metadata:{componentName:X,tableName:`${Z.namespace}:${X}`,keySchema:te.keySchema,valueSchema:te.schema}})]))}async function ae({world:L,config:Z,address:X,publicClient:te,startBlock:ie,maxBlockRange:oe,initialState:se,indexerUrl:ue,startSync:ce=!0}){let le={...S(L,Z),...S(L,a$1),...S(L,t$1),...N(L)};L.registerEntity({id:f});let de=await be({storageAdapter:R({components:le,config:Z}),config:Z,address:X,publicClient:te,startBlock:ie,maxBlockRange:oe,indexerUrl:ue,initialState:se,onProgress:({step:_e,percentage:Ae,latestBlockNumber:xe,lastBlockNumberProcessed:Ie,message:Pe})=>{x$6(le.SyncProgress,f)?.step!=="live"&&T$3(le.SyncProgress,f,{step:_e,percentage:Ae,latestBlockNumber:xe,lastBlockNumberProcessed:Ie,message:Pe})}}),he=ce?de.blockStorageOperations$.subscribe():null,ge=()=>{he?.unsubscribe()};return L.registerDisposer(ge),{...de,components:le,stopSync:ge}}function createSystemCalls({worldContract:L,waitForTransaction:Z},{Counter:X,GameState:te,Game:ie,IsPlayer:oe,Player:se,AssetsList:ue}){return{increment:async()=>{const Je=await L.write.increment();return await Z(Je),x$6(X,f)},joinGame:async()=>{const Je=await L.write.joinGame();return await Z(Je),x$6(oe,f)},askStart:async()=>{const Je=await L.write.askStart();return await Z(Je),x$6(te,f)},move:async(Je,et)=>{console.error("move start");const at=await L.write.move([Je,et]);return console.error("move tx",at),await Z(at)},pickAsset:async Je=>{const et=await L.write.pickAsset([Je]);return await Z(et),x$6(ue,f)},pickFund:async Je=>{const et=await L.write.pickFund([Je]);await Z(et)},trade:async(Je,et,at)=>{const dt=await L.write.trade([Je,et,at]);return await Z(dt)},acceptTrade:async()=>{const Je=await L.write.acceptTrade();return await Z(Je)},rejectTrade:async()=>{const Je=await L.write.rejectTrade();return await Z(Je)},finishGame:async()=>{const Je=await L.write.finishGame();return await Z(Je)},pickCoin:async()=>{const Je=await L.write.pickCoin();return await Z(Je)},findPartner:async()=>{const Je=await L.write.findPartner();return await Z(Je)},pay:async()=>{const Je=await L.write.pay();return await Z(Je)},restartGame:async()=>{const Je=await L.write.restartGame();return await Z(Je)},checkDebt:async()=>{const Je=await L.write.checkDebt();return await Z(Je)}}}/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Long(L,Z,X){this.low=L|0,this.high=Z|0,this.unsigned=!!X}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(L){return(L&&L.__isLong__)===!0}function ctz32(L){var Z=Math.clz32(L&-L);return L?31-Z:Z}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(L,Z){var X,te,ie;return Z?(L>>>=0,(ie=0<=L&&L<256)&&(te=UINT_CACHE[L],te)?te:(X=fromBits(L,0,!0),ie&&(UINT_CACHE[L]=X),X)):(L|=0,(ie=-128<=L&&L<128)&&(te=INT_CACHE[L],te)?te:(X=fromBits(L,L<0?-1:0,!1),ie&&(INT_CACHE[L]=X),X))}Long.fromInt=fromInt;function fromNumber(L,Z){if(isNaN(L))return Z?UZERO:ZERO;if(Z){if(L<0)return UZERO;if(L>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(L<=-TWO_PWR_63_DBL)return MIN_VALUE;if(L+1>=TWO_PWR_63_DBL)return MAX_VALUE}return L<0?fromNumber(-L,Z).neg():fromBits(L%TWO_PWR_32_DBL|0,L/TWO_PWR_32_DBL|0,Z)}Long.fromNumber=fromNumber;function fromBits(L,Z,X){return new Long(L,Z,X)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(L,Z,X){if(L.length===0)throw Error("empty string");if(typeof Z=="number"?(X=Z,Z=!1):Z=!!Z,L==="NaN"||L==="Infinity"||L==="+Infinity"||L==="-Infinity")return Z?UZERO:ZERO;if(X=X||10,X<2||36<X)throw RangeError("radix");var te;if((te=L.indexOf("-"))>0)throw Error("interior hyphen");if(te===0)return fromString(L.substring(1),Z,X).neg();for(var ie=fromNumber(pow_dbl(X,8)),oe=ZERO,se=0;se<L.length;se+=8){var ue=Math.min(8,L.length-se),ce=parseInt(L.substring(se,se+ue),X);if(ue<8){var le=fromNumber(pow_dbl(X,ue));oe=oe.mul(le).add(fromNumber(ce))}else oe=oe.mul(ie),oe=oe.add(fromNumber(ce))}return oe.unsigned=Z,oe}Long.fromString=fromString;function fromValue(L,Z){return typeof L=="number"?fromNumber(L,Z):typeof L=="string"?fromString(L,Z):fromBits(L.low,L.high,typeof Z=="boolean"?Z:L.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function(Z){if(Z=Z||10,Z<2||36<Z)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var X=fromNumber(Z),te=this.div(X),ie=te.mul(X).sub(this);return te.toString(Z)+ie.toInt().toString(Z)}else return"-"+this.neg().toString(Z);for(var oe=fromNumber(pow_dbl(Z,6),this.unsigned),se=this,ue="";;){var ce=se.div(oe),le=se.sub(ce.mul(oe)).toInt()>>>0,de=le.toString(Z);if(se=ce,se.isZero())return de+ue;for(;de.length<6;)de="0"+de;ue=""+de+ue}};LongPrototype.getHighBits=function(){return this.high};LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0};LongPrototype.getLowBits=function(){return this.low};LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0};LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var Z=this.high!=0?this.high:this.low,X=31;X>0&&!(Z&1<<X);X--);return this.high!=0?X+33:X+1};LongPrototype.isZero=function(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function(){return(this.low&1)===1};LongPrototype.isEven=function(){return(this.low&1)===0};LongPrototype.equals=function(Z){return isLong(Z)||(Z=fromValue(Z)),this.unsigned!==Z.unsigned&&this.high>>>31===1&&Z.high>>>31===1?!1:this.high===Z.high&&this.low===Z.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function(Z){return!this.eq(Z)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function(Z){return this.comp(Z)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function(Z){return this.comp(Z)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function(Z){return this.comp(Z)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function(Z){return this.comp(Z)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function(Z){if(isLong(Z)||(Z=fromValue(Z)),this.eq(Z))return 0;var X=this.isNegative(),te=Z.isNegative();return X&&!te?-1:!X&&te?1:this.unsigned?Z.high>>>0>this.high>>>0||Z.high===this.high&&Z.low>>>0>this.low>>>0?-1:1:this.sub(Z).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function(Z){isLong(Z)||(Z=fromValue(Z));var X=this.high>>>16,te=this.high&65535,ie=this.low>>>16,oe=this.low&65535,se=Z.high>>>16,ue=Z.high&65535,ce=Z.low>>>16,le=Z.low&65535,de=0,he=0,ge=0,_e=0;return _e+=oe+le,ge+=_e>>>16,_e&=65535,ge+=ie+ce,he+=ge>>>16,ge&=65535,he+=te+ue,de+=he>>>16,he&=65535,de+=X+se,de&=65535,fromBits(ge<<16|_e,de<<16|he,this.unsigned)};LongPrototype.subtract=function(Z){return isLong(Z)||(Z=fromValue(Z)),this.add(Z.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function(Z){if(this.isZero())return this;if(isLong(Z)||(Z=fromValue(Z)),wasm){var X=wasm.mul(this.low,this.high,Z.low,Z.high);return fromBits(X,wasm.get_high(),this.unsigned)}if(Z.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return Z.isOdd()?MIN_VALUE:ZERO;if(Z.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return Z.isNegative()?this.neg().mul(Z.neg()):this.neg().mul(Z).neg();if(Z.isNegative())return this.mul(Z.neg()).neg();if(this.lt(TWO_PWR_24)&&Z.lt(TWO_PWR_24))return fromNumber(this.toNumber()*Z.toNumber(),this.unsigned);var te=this.high>>>16,ie=this.high&65535,oe=this.low>>>16,se=this.low&65535,ue=Z.high>>>16,ce=Z.high&65535,le=Z.low>>>16,de=Z.low&65535,he=0,ge=0,_e=0,Ae=0;return Ae+=se*de,_e+=Ae>>>16,Ae&=65535,_e+=oe*de,ge+=_e>>>16,_e&=65535,_e+=se*le,ge+=_e>>>16,_e&=65535,ge+=ie*de,he+=ge>>>16,ge&=65535,ge+=oe*le,he+=ge>>>16,ge&=65535,ge+=se*ce,he+=ge>>>16,ge&=65535,he+=te*de+ie*le+oe*ce+se*ue,he&=65535,fromBits(_e<<16|Ae,he<<16|ge,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function(Z){if(isLong(Z)||(Z=fromValue(Z)),Z.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&Z.low===-1&&Z.high===-1)return this;var X=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,Z.low,Z.high);return fromBits(X,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var te,ie,oe;if(this.unsigned){if(Z.unsigned||(Z=Z.toUnsigned()),Z.gt(this))return UZERO;if(Z.gt(this.shru(1)))return UONE;oe=UZERO}else{if(this.eq(MIN_VALUE)){if(Z.eq(ONE)||Z.eq(NEG_ONE))return MIN_VALUE;if(Z.eq(MIN_VALUE))return ONE;var se=this.shr(1);return te=se.div(Z).shl(1),te.eq(ZERO)?Z.isNegative()?ONE:NEG_ONE:(ie=this.sub(Z.mul(te)),oe=te.add(ie.div(Z)),oe)}else if(Z.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return Z.isNegative()?this.neg().div(Z.neg()):this.neg().div(Z).neg();if(Z.isNegative())return this.div(Z.neg()).neg();oe=ZERO}for(ie=this;ie.gte(Z);){te=Math.max(1,Math.floor(ie.toNumber()/Z.toNumber()));for(var ue=Math.ceil(Math.log(te)/Math.LN2),ce=ue<=48?1:pow_dbl(2,ue-48),le=fromNumber(te),de=le.mul(Z);de.isNegative()||de.gt(ie);)te-=ce,le=fromNumber(te,this.unsigned),de=le.mul(Z);le.isZero()&&(le=ONE),oe=oe.add(le),ie=ie.sub(de)}return oe};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function(Z){if(isLong(Z)||(Z=fromValue(Z)),wasm){var X=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,Z.low,Z.high);return fromBits(X,wasm.get_high(),this.unsigned)}return this.sub(this.div(Z).mul(Z))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};LongPrototype.clz=LongPrototype.countLeadingZeros;LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32};LongPrototype.ctz=LongPrototype.countTrailingZeros;LongPrototype.and=function(Z){return isLong(Z)||(Z=fromValue(Z)),fromBits(this.low&Z.low,this.high&Z.high,this.unsigned)};LongPrototype.or=function(Z){return isLong(Z)||(Z=fromValue(Z)),fromBits(this.low|Z.low,this.high|Z.high,this.unsigned)};LongPrototype.xor=function(Z){return isLong(Z)||(Z=fromValue(Z)),fromBits(this.low^Z.low,this.high^Z.high,this.unsigned)};LongPrototype.shiftLeft=function(Z){return isLong(Z)&&(Z=Z.toInt()),(Z&=63)===0?this:Z<32?fromBits(this.low<<Z,this.high<<Z|this.low>>>32-Z,this.unsigned):fromBits(0,this.low<<Z-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function(Z){return isLong(Z)&&(Z=Z.toInt()),(Z&=63)===0?this:Z<32?fromBits(this.low>>>Z|this.high<<32-Z,this.high>>Z,this.unsigned):fromBits(this.high>>Z-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function(Z){return isLong(Z)&&(Z=Z.toInt()),(Z&=63)===0?this:Z<32?fromBits(this.low>>>Z|this.high<<32-Z,this.high>>>Z,this.unsigned):Z===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>Z-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.rotateLeft=function(Z){var X;return isLong(Z)&&(Z=Z.toInt()),(Z&=63)===0?this:Z===32?fromBits(this.high,this.low,this.unsigned):Z<32?(X=32-Z,fromBits(this.low<<Z|this.high>>>X,this.high<<Z|this.low>>>X,this.unsigned)):(Z-=32,X=32-Z,fromBits(this.high<<Z|this.low>>>X,this.low<<Z|this.high>>>X,this.unsigned))};LongPrototype.rotl=LongPrototype.rotateLeft;LongPrototype.rotateRight=function(Z){var X;return isLong(Z)&&(Z=Z.toInt()),(Z&=63)===0?this:Z===32?fromBits(this.high,this.low,this.unsigned):Z<32?(X=32-Z,fromBits(this.high<<X|this.low>>>Z,this.low<<X|this.high>>>Z,this.unsigned)):(Z-=32,X=32-Z,fromBits(this.low<<X|this.high>>>Z,this.high<<X|this.low>>>Z,this.unsigned))};LongPrototype.rotr=LongPrototype.rotateRight;LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function(Z){return Z?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function(){var Z=this.high,X=this.low;return[X&255,X>>>8&255,X>>>16&255,X>>>24,Z&255,Z>>>8&255,Z>>>16&255,Z>>>24]};LongPrototype.toBytesBE=function(){var Z=this.high,X=this.low;return[Z>>>24,Z>>>16&255,Z>>>8&255,Z&255,X>>>24,X>>>16&255,X>>>8&255,X&255]};Long.fromBytes=function(Z,X,te){return te?Long.fromBytesLE(Z,X):Long.fromBytesBE(Z,X)};Long.fromBytesLE=function(Z,X){return new Long(Z[0]|Z[1]<<8|Z[2]<<16|Z[3]<<24,Z[4]|Z[5]<<8|Z[6]<<16|Z[7]<<24,X)};Long.fromBytesBE=function(Z,X){return new Long(Z[4]<<24|Z[5]<<16|Z[6]<<8|Z[7],Z[0]<<24|Z[1]<<16|Z[2]<<8|Z[3],X)};var minimalExports={},minimal$1={get exports(){return minimalExports},set exports(L){minimalExports=L}},indexMinimal={},minimal={},aspromise=asPromise;function asPromise(L,Z){for(var X=new Array(arguments.length-1),te=0,ie=2,oe=!0;ie<arguments.length;)X[te++]=arguments[ie++];return new Promise(function(ue,ce){X[te]=function(de){if(oe)if(oe=!1,de)ce(de);else{for(var he=new Array(arguments.length-1),ge=0;ge<he.length;)he[ge++]=arguments[ge];ue.apply(null,he)}};try{L.apply(Z||null,X)}catch(le){oe&&(oe=!1,ce(le))}})}var base64$2={};(function(L){var Z=L;Z.length=function(ue){var ce=ue.length;if(!ce)return 0;for(var le=0;--ce%4>1&&ue.charAt(ce)==="=";)++le;return Math.ceil(ue.length*3)/4-le};for(var X=new Array(64),te=new Array(123),ie=0;ie<64;)te[X[ie]=ie<26?ie+65:ie<52?ie+71:ie<62?ie-4:ie-59|43]=ie++;Z.encode=function(ue,ce,le){for(var de=null,he=[],ge=0,_e=0,Ae;ce<le;){var xe=ue[ce++];switch(_e){case 0:he[ge++]=X[xe>>2],Ae=(xe&3)<<4,_e=1;break;case 1:he[ge++]=X[Ae|xe>>4],Ae=(xe&15)<<2,_e=2;break;case 2:he[ge++]=X[Ae|xe>>6],he[ge++]=X[xe&63],_e=0;break}ge>8191&&((de||(de=[])).push(String.fromCharCode.apply(String,he)),ge=0)}return _e&&(he[ge++]=X[Ae],he[ge++]=61,_e===1&&(he[ge++]=61)),de?(ge&&de.push(String.fromCharCode.apply(String,he.slice(0,ge))),de.join("")):String.fromCharCode.apply(String,he.slice(0,ge))};var oe="invalid encoding";Z.decode=function(ue,ce,le){for(var de=le,he=0,ge,_e=0;_e<ue.length;){var Ae=ue.charCodeAt(_e++);if(Ae===61&&he>1)break;if((Ae=te[Ae])===void 0)throw Error(oe);switch(he){case 0:ge=Ae,he=1;break;case 1:ce[le++]=ge<<2|(Ae&48)>>4,ge=Ae,he=2;break;case 2:ce[le++]=(ge&15)<<4|(Ae&60)>>2,ge=Ae,he=3;break;case 3:ce[le++]=(ge&3)<<6|Ae,he=0;break}}if(he===1)throw Error(oe);return le-de},Z.test=function(ue){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ue)}})(base64$2);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(Z,X,te){return(this._listeners[Z]||(this._listeners[Z]=[])).push({fn:X,ctx:te||this}),this};EventEmitter.prototype.off=function(Z,X){if(Z===void 0)this._listeners={};else if(X===void 0)this._listeners[Z]=[];else for(var te=this._listeners[Z],ie=0;ie<te.length;)te[ie].fn===X?te.splice(ie,1):++ie;return this};EventEmitter.prototype.emit=function(Z){var X=this._listeners[Z];if(X){for(var te=[],ie=1;ie<arguments.length;)te.push(arguments[ie++]);for(ie=0;ie<X.length;)X[ie].fn.apply(X[ie++].ctx,te)}return this};var float=factory(factory);function factory(L){return typeof Float32Array<"u"?function(){var Z=new Float32Array([-0]),X=new Uint8Array(Z.buffer),te=X[3]===128;function ie(ce,le,de){Z[0]=ce,le[de]=X[0],le[de+1]=X[1],le[de+2]=X[2],le[de+3]=X[3]}function oe(ce,le,de){Z[0]=ce,le[de]=X[3],le[de+1]=X[2],le[de+2]=X[1],le[de+3]=X[0]}L.writeFloatLE=te?ie:oe,L.writeFloatBE=te?oe:ie;function se(ce,le){return X[0]=ce[le],X[1]=ce[le+1],X[2]=ce[le+2],X[3]=ce[le+3],Z[0]}function ue(ce,le){return X[3]=ce[le],X[2]=ce[le+1],X[1]=ce[le+2],X[0]=ce[le+3],Z[0]}L.readFloatLE=te?se:ue,L.readFloatBE=te?ue:se}():function(){function Z(te,ie,oe,se){var ue=ie<0?1:0;if(ue&&(ie=-ie),ie===0)te(1/ie>0?0:2147483648,oe,se);else if(isNaN(ie))te(2143289344,oe,se);else if(ie>34028234663852886e22)te((ue<<31|2139095040)>>>0,oe,se);else if(ie<11754943508222875e-54)te((ue<<31|Math.round(ie/1401298464324817e-60))>>>0,oe,se);else{var ce=Math.floor(Math.log(ie)/Math.LN2),le=Math.round(ie*Math.pow(2,-ce)*8388608)&8388607;te((ue<<31|ce+127<<23|le)>>>0,oe,se)}}L.writeFloatLE=Z.bind(null,writeUintLE),L.writeFloatBE=Z.bind(null,writeUintBE);function X(te,ie,oe){var se=te(ie,oe),ue=(se>>31)*2+1,ce=se>>>23&255,le=se&8388607;return ce===255?le?NaN:ue*(1/0):ce===0?ue*1401298464324817e-60*le:ue*Math.pow(2,ce-150)*(le+8388608)}L.readFloatLE=X.bind(null,readUintLE),L.readFloatBE=X.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var Z=new Float64Array([-0]),X=new Uint8Array(Z.buffer),te=X[7]===128;function ie(ce,le,de){Z[0]=ce,le[de]=X[0],le[de+1]=X[1],le[de+2]=X[2],le[de+3]=X[3],le[de+4]=X[4],le[de+5]=X[5],le[de+6]=X[6],le[de+7]=X[7]}function oe(ce,le,de){Z[0]=ce,le[de]=X[7],le[de+1]=X[6],le[de+2]=X[5],le[de+3]=X[4],le[de+4]=X[3],le[de+5]=X[2],le[de+6]=X[1],le[de+7]=X[0]}L.writeDoubleLE=te?ie:oe,L.writeDoubleBE=te?oe:ie;function se(ce,le){return X[0]=ce[le],X[1]=ce[le+1],X[2]=ce[le+2],X[3]=ce[le+3],X[4]=ce[le+4],X[5]=ce[le+5],X[6]=ce[le+6],X[7]=ce[le+7],Z[0]}function ue(ce,le){return X[7]=ce[le],X[6]=ce[le+1],X[5]=ce[le+2],X[4]=ce[le+3],X[3]=ce[le+4],X[2]=ce[le+5],X[1]=ce[le+6],X[0]=ce[le+7],Z[0]}L.readDoubleLE=te?se:ue,L.readDoubleBE=te?ue:se}():function(){function Z(te,ie,oe,se,ue,ce){var le=se<0?1:0;if(le&&(se=-se),se===0)te(0,ue,ce+ie),te(1/se>0?0:2147483648,ue,ce+oe);else if(isNaN(se))te(0,ue,ce+ie),te(2146959360,ue,ce+oe);else if(se>17976931348623157e292)te(0,ue,ce+ie),te((le<<31|2146435072)>>>0,ue,ce+oe);else{var de;if(se<22250738585072014e-324)de=se/5e-324,te(de>>>0,ue,ce+ie),te((le<<31|de/4294967296)>>>0,ue,ce+oe);else{var he=Math.floor(Math.log(se)/Math.LN2);he===1024&&(he=1023),de=se*Math.pow(2,-he),te(de*4503599627370496>>>0,ue,ce+ie),te((le<<31|he+1023<<20|de*1048576&1048575)>>>0,ue,ce+oe)}}}L.writeDoubleLE=Z.bind(null,writeUintLE,0,4),L.writeDoubleBE=Z.bind(null,writeUintBE,4,0);function X(te,ie,oe,se,ue){var ce=te(se,ue+ie),le=te(se,ue+oe),de=(le>>31)*2+1,he=le>>>20&2047,ge=4294967296*(le&1048575)+ce;return he===2047?ge?NaN:de*(1/0):he===0?de*5e-324*ge:de*Math.pow(2,he-1075)*(ge+4503599627370496)}L.readDoubleLE=X.bind(null,readUintLE,0,4),L.readDoubleBE=X.bind(null,readUintBE,4,0)}(),L}function writeUintLE(L,Z,X){Z[X]=L&255,Z[X+1]=L>>>8&255,Z[X+2]=L>>>16&255,Z[X+3]=L>>>24}function writeUintBE(L,Z,X){Z[X]=L>>>24,Z[X+1]=L>>>16&255,Z[X+2]=L>>>8&255,Z[X+3]=L&255}function readUintLE(L,Z){return(L[Z]|L[Z+1]<<8|L[Z+2]<<16|L[Z+3]<<24)>>>0}function readUintBE(L,Z){return(L[Z]<<24|L[Z+1]<<16|L[Z+2]<<8|L[Z+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(L){}return null}var utf8$2={};(function(L){var Z=L;Z.length=function(te){for(var ie=0,oe=0,se=0;se<te.length;++se)oe=te.charCodeAt(se),oe<128?ie+=1:oe<2048?ie+=2:(oe&64512)===55296&&(te.charCodeAt(se+1)&64512)===56320?(++se,ie+=4):ie+=3;return ie},Z.read=function(te,ie,oe){var se=oe-ie;if(se<1)return"";for(var ue=null,ce=[],le=0,de;ie<oe;)de=te[ie++],de<128?ce[le++]=de:de>191&&de<224?ce[le++]=(de&31)<<6|te[ie++]&63:de>239&&de<365?(de=((de&7)<<18|(te[ie++]&63)<<12|(te[ie++]&63)<<6|te[ie++]&63)-65536,ce[le++]=55296+(de>>10),ce[le++]=56320+(de&1023)):ce[le++]=(de&15)<<12|(te[ie++]&63)<<6|te[ie++]&63,le>8191&&((ue||(ue=[])).push(String.fromCharCode.apply(String,ce)),le=0);return ue?(le&&ue.push(String.fromCharCode.apply(String,ce.slice(0,le))),ue.join("")):String.fromCharCode.apply(String,ce.slice(0,le))},Z.write=function(te,ie,oe){for(var se=oe,ue,ce,le=0;le<te.length;++le)ue=te.charCodeAt(le),ue<128?ie[oe++]=ue:ue<2048?(ie[oe++]=ue>>6|192,ie[oe++]=ue&63|128):(ue&64512)===55296&&((ce=te.charCodeAt(le+1))&64512)===56320?(ue=65536+((ue&1023)<<10)+(ce&1023),++le,ie[oe++]=ue>>18|240,ie[oe++]=ue>>12&63|128,ie[oe++]=ue>>6&63|128,ie[oe++]=ue&63|128):(ie[oe++]=ue>>12|224,ie[oe++]=ue>>6&63|128,ie[oe++]=ue&63|128);return oe-se}})(utf8$2);var pool_1=pool;function pool(L,Z,X){var te=X||8192,ie=te>>>1,oe=null,se=te;return function(ce){if(ce<1||ce>ie)return L(ce);se+ce>te&&(oe=L(te),se=0);var le=Z.call(oe,se,se+=ce);return se&7&&(se=(se|7)+1),le}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=Z;var L=requireMinimal();function Z(oe,se){this.lo=oe>>>0,this.hi=se>>>0}var X=Z.zero=new Z(0,0);X.toNumber=function(){return 0},X.zzEncode=X.zzDecode=function(){return this},X.length=function(){return 1};var te=Z.zeroHash="\0\0\0\0\0\0\0\0";Z.fromNumber=function(se){if(se===0)return X;var ue=se<0;ue&&(se=-se);var ce=se>>>0,le=(se-ce)/4294967296>>>0;return ue&&(le=~le>>>0,ce=~ce>>>0,++ce>4294967295&&(ce=0,++le>4294967295&&(le=0))),new Z(ce,le)},Z.from=function(se){if(typeof se=="number")return Z.fromNumber(se);if(L.isString(se))if(L.Long)se=L.Long.fromString(se);else return Z.fromNumber(parseInt(se,10));return se.low||se.high?new Z(se.low>>>0,se.high>>>0):X},Z.prototype.toNumber=function(se){if(!se&&this.hi>>>31){var ue=~this.lo+1>>>0,ce=~this.hi>>>0;return ue||(ce=ce+1>>>0),-(ue+ce*4294967296)}return this.lo+this.hi*4294967296},Z.prototype.toLong=function(se){return L.Long?new L.Long(this.lo|0,this.hi|0,!!se):{low:this.lo|0,high:this.hi|0,unsigned:!!se}};var ie=String.prototype.charCodeAt;return Z.fromHash=function(se){return se===te?X:new Z((ie.call(se,0)|ie.call(se,1)<<8|ie.call(se,2)<<16|ie.call(se,3)<<24)>>>0,(ie.call(se,4)|ie.call(se,5)<<8|ie.call(se,6)<<16|ie.call(se,7)<<24)>>>0)},Z.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},Z.prototype.zzEncode=function(){var se=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^se)>>>0,this.lo=(this.lo<<1^se)>>>0,this},Z.prototype.zzDecode=function(){var se=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^se)>>>0,this.hi=(this.hi>>>1^se)>>>0,this},Z.prototype.length=function(){var se=this.lo,ue=(this.lo>>>28|this.hi<<4)>>>0,ce=this.hi>>>24;return ce===0?ue===0?se<16384?se<128?1:2:se<2097152?3:4:ue<16384?ue<128?5:6:ue<2097152?7:8:ce<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(L){var Z=L;Z.asPromise=aspromise,Z.base64=base64$2,Z.EventEmitter=eventemitter,Z.float=float,Z.inquire=inquire_1,Z.utf8=utf8$2,Z.pool=pool_1,Z.LongBits=requireLongbits(),Z.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),Z.global=Z.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,Z.emptyArray=Object.freeze?Object.freeze([]):[],Z.emptyObject=Object.freeze?Object.freeze({}):{},Z.isInteger=Number.isInteger||function(oe){return typeof oe=="number"&&isFinite(oe)&&Math.floor(oe)===oe},Z.isString=function(oe){return typeof oe=="string"||oe instanceof String},Z.isObject=function(oe){return oe&&typeof oe=="object"},Z.isset=Z.isSet=function(oe,se){var ue=oe[se];return ue!=null&&oe.hasOwnProperty(se)?typeof ue!="object"||(Array.isArray(ue)?ue.length:Object.keys(ue).length)>0:!1},Z.Buffer=function(){try{var ie=Z.inquire("buffer").Buffer;return ie.prototype.utf8Write?ie:null}catch{return null}}(),Z._Buffer_from=null,Z._Buffer_allocUnsafe=null,Z.newBuffer=function(oe){return typeof oe=="number"?Z.Buffer?Z._Buffer_allocUnsafe(oe):new Z.Array(oe):Z.Buffer?Z._Buffer_from(oe):typeof Uint8Array>"u"?oe:new Uint8Array(oe)},Z.Array=typeof Uint8Array<"u"?Uint8Array:Array,Z.Long=Z.global.dcodeIO&&Z.global.dcodeIO.Long||Z.global.Long||Z.inquire("long"),Z.key2Re=/^true|false|0|1$/,Z.key32Re=/^-?(?:0|[1-9][0-9]*)$/,Z.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,Z.longToHash=function(oe){return oe?Z.LongBits.from(oe).toHash():Z.LongBits.zeroHash},Z.longFromHash=function(oe,se){var ue=Z.LongBits.fromHash(oe);return Z.Long?Z.Long.fromBits(ue.lo,ue.hi,se):ue.toNumber(!!se)};function X(ie,oe,se){for(var ue=Object.keys(oe),ce=0;ce<ue.length;++ce)(ie[ue[ce]]===void 0||!se)&&(ie[ue[ce]]=oe[ue[ce]]);return ie}Z.merge=X,Z.lcFirst=function(oe){return oe.charAt(0).toLowerCase()+oe.substring(1)};function te(ie){function oe(se,ue){if(!(this instanceof oe))return new oe(se,ue);Object.defineProperty(this,"message",{get:function(){return se}}),Error.captureStackTrace?Error.captureStackTrace(this,oe):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ue&&X(this,ue)}return oe.prototype=Object.create(Error.prototype,{constructor:{value:oe,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return ie},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),oe}Z.newError=te,Z.ProtocolError=te("ProtocolError"),Z.oneOfGetter=function(oe){for(var se={},ue=0;ue<oe.length;++ue)se[oe[ue]]=1;return function(){for(var ce=Object.keys(this),le=ce.length-1;le>-1;--le)if(se[ce[le]]===1&&this[ce[le]]!==void 0&&this[ce[le]]!==null)return ce[le]}},Z.oneOfSetter=function(oe){return function(se){for(var ue=0;ue<oe.length;++ue)oe[ue]!==se&&delete this[oe[ue]]}},Z.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},Z._configure=function(){var ie=Z.Buffer;if(!ie){Z._Buffer_from=Z._Buffer_allocUnsafe=null;return}Z._Buffer_from=ie.from!==Uint8Array.from&&ie.from||function(se,ue){return new ie(se,ue)},Z._Buffer_allocUnsafe=ie.allocUnsafe||function(se){return new ie(se)}}}(minimal)),minimal}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64$1=util$4.base64,utf8$1=util$4.utf8;function Op(L,Z,X){this.fn=L,this.len=Z,this.next=void 0,this.val=X}function noop(){}function State(L){this.head=L.head,this.tail=L.tail,this.len=L.len,this.next=L.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function L(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function L(Z){return new util$4.Array(Z)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function L(Z,X,te){return this.tail=this.tail.next=new Op(Z,X,te),this.len+=X,this};function writeByte(L,Z,X){Z[X]=L&255}function writeVarint32(L,Z,X){for(;L>127;)Z[X++]=L&127|128,L>>>=7;Z[X]=L}function VarintOp(L,Z){this.len=L,this.next=void 0,this.val=Z}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function L(Z){return this.len+=(this.tail=this.tail.next=new VarintOp((Z=Z>>>0)<128?1:Z<16384?2:Z<2097152?3:Z<268435456?4:5,Z)).len,this};Writer$1.prototype.int32=function L(Z){return Z<0?this._push(writeVarint64,10,LongBits$1.fromNumber(Z)):this.uint32(Z)};Writer$1.prototype.sint32=function L(Z){return this.uint32((Z<<1^Z>>31)>>>0)};function writeVarint64(L,Z,X){for(;L.hi;)Z[X++]=L.lo&127|128,L.lo=(L.lo>>>7|L.hi<<25)>>>0,L.hi>>>=7;for(;L.lo>127;)Z[X++]=L.lo&127|128,L.lo=L.lo>>>7;Z[X++]=L.lo}Writer$1.prototype.uint64=function L(Z){var X=LongBits$1.from(Z);return this._push(writeVarint64,X.length(),X)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function L(Z){var X=LongBits$1.from(Z).zzEncode();return this._push(writeVarint64,X.length(),X)};Writer$1.prototype.bool=function L(Z){return this._push(writeByte,1,Z?1:0)};function writeFixed32(L,Z,X){Z[X]=L&255,Z[X+1]=L>>>8&255,Z[X+2]=L>>>16&255,Z[X+3]=L>>>24}Writer$1.prototype.fixed32=function L(Z){return this._push(writeFixed32,4,Z>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function L(Z){var X=LongBits$1.from(Z);return this._push(writeFixed32,4,X.lo)._push(writeFixed32,4,X.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function L(Z){return this._push(util$4.float.writeFloatLE,4,Z)};Writer$1.prototype.double=function L(Z){return this._push(util$4.float.writeDoubleLE,8,Z)};var writeBytes=util$4.Array.prototype.set?function L(Z,X,te){X.set(Z,te)}:function L(Z,X,te){for(var ie=0;ie<Z.length;++ie)X[te+ie]=Z[ie]};Writer$1.prototype.bytes=function L(Z){var X=Z.length>>>0;if(!X)return this._push(writeByte,1,0);if(util$4.isString(Z)){var te=Writer$1.alloc(X=base64$1.length(Z));base64$1.decode(Z,te,0),Z=te}return this.uint32(X)._push(writeBytes,X,Z)};Writer$1.prototype.string=function L(Z){var X=utf8$1.length(Z);return X?this.uint32(X)._push(utf8$1.write,X,Z):this._push(writeByte,1,0)};Writer$1.prototype.fork=function L(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function L(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function L(){var Z=this.head,X=this.tail,te=this.len;return this.reset().uint32(te),te&&(this.tail.next=Z.next,this.tail=X,this.len+=te),this};Writer$1.prototype.finish=function L(){for(var Z=this.head.next,X=this.constructor.alloc(this.len),te=0;Z;)Z.fn(Z.val,X,te),te+=Z.len,Z=Z.next;return X};Writer$1._configure=function(L){BufferWriter$1=L,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(Z,X,te){X.set(Z,te)}:function(Z,X,te){if(Z.copy)Z.copy(X,te,0,Z.length);else for(var ie=0;ie<Z.length;)X[te++]=Z[ie++]}};BufferWriter.prototype.bytes=function L(Z){util$3.isString(Z)&&(Z=util$3._Buffer_from(Z,"base64"));var X=Z.length>>>0;return this.uint32(X),X&&this._push(BufferWriter.writeBytesBuffer,X,Z),this};function writeStringBuffer(L,Z,X){L.length<40?util$3.utf8.write(L,Z,X):Z.utf8Write?Z.utf8Write(L,X):Z.write(L,X)}BufferWriter.prototype.string=function L(Z){var X=util$3.Buffer.byteLength(Z);return this.uint32(X),X&&this._push(writeStringBuffer,X,Z),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(L,Z){return RangeError("index out of range: "+L.pos+" + "+(Z||1)+" > "+L.len)}function Reader$1(L){this.buf=L,this.pos=0,this.len=L.length}var create_array=typeof Uint8Array<"u"?function L(Z){if(Z instanceof Uint8Array||Array.isArray(Z))return new Reader$1(Z);throw Error("illegal buffer")}:function L(Z){if(Array.isArray(Z))return new Reader$1(Z);throw Error("illegal buffer")},create=function L(){return util$2.Buffer?function(X){return(Reader$1.create=function(ie){return util$2.Buffer.isBuffer(ie)?new BufferReader$1(ie):create_array(ie)})(X)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function L(){var Z=4294967295;return function(){if(Z=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(Z=(Z|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(Z=(Z|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(Z=(Z|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(Z=(Z|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return Z;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return Z}}();Reader$1.prototype.int32=function L(){return this.uint32()|0};Reader$1.prototype.sint32=function L(){var Z=this.uint32();return Z>>>1^-(Z&1)|0};function readLongVarint(){var L=new LongBits(0,0),Z=0;if(this.len-this.pos>4){for(;Z<4;++Z)if(L.lo=(L.lo|(this.buf[this.pos]&127)<<Z*7)>>>0,this.buf[this.pos++]<128)return L;if(L.lo=(L.lo|(this.buf[this.pos]&127)<<28)>>>0,L.hi=(L.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return L;Z=0}else{for(;Z<3;++Z){if(this.pos>=this.len)throw indexOutOfRange(this);if(L.lo=(L.lo|(this.buf[this.pos]&127)<<Z*7)>>>0,this.buf[this.pos++]<128)return L}return L.lo=(L.lo|(this.buf[this.pos++]&127)<<Z*7)>>>0,L}if(this.len-this.pos>4){for(;Z<5;++Z)if(L.hi=(L.hi|(this.buf[this.pos]&127)<<Z*7+3)>>>0,this.buf[this.pos++]<128)return L}else for(;Z<5;++Z){if(this.pos>=this.len)throw indexOutOfRange(this);if(L.hi=(L.hi|(this.buf[this.pos]&127)<<Z*7+3)>>>0,this.buf[this.pos++]<128)return L}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function L(){return this.uint32()!==0};function readFixed32_end(L,Z){return(L[Z-4]|L[Z-3]<<8|L[Z-2]<<16|L[Z-1]<<24)>>>0}Reader$1.prototype.fixed32=function L(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function L(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function L(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var Z=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,Z};Reader$1.prototype.double=function L(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var Z=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,Z};Reader$1.prototype.bytes=function L(){var Z=this.uint32(),X=this.pos,te=this.pos+Z;if(te>this.len)throw indexOutOfRange(this,Z);if(this.pos+=Z,Array.isArray(this.buf))return this.buf.slice(X,te);if(X===te){var ie=util$2.Buffer;return ie?ie.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,X,te)};Reader$1.prototype.string=function L(){var Z=this.bytes();return utf8.read(Z,0,Z.length)};Reader$1.prototype.skip=function L(Z){if(typeof Z=="number"){if(this.pos+Z>this.len)throw indexOutOfRange(this,Z);this.pos+=Z}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(L){switch(L){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(L=this.uint32()&7)!==4;)this.skipType(L);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+L+" at offset "+this.pos)}return this};Reader$1._configure=function(L){BufferReader$1=L,Reader$1.create=create(),BufferReader$1._configure();var Z=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[Z](!1)},uint64:function(){return readLongVarint.call(this)[Z](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[Z](!1)},fixed64:function(){return readFixed64.call(this)[Z](!0)},sfixed64:function(){return readFixed64.call(this)[Z](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(L){Reader.call(this,L)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function L(){var Z=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+Z,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+Z,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(L,Z,X){if(typeof L!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=L,this.requestDelimited=!!Z,this.responseDelimited=!!X}Service.prototype.rpcCall=function L(Z,X,te,ie,oe){if(!ie)throw TypeError("request must be specified");var se=this;if(!oe)return util.asPromise(L,se,Z,X,te,ie);if(!se.rpcImpl){setTimeout(function(){oe(Error("already ended"))},0);return}try{return se.rpcImpl(Z,X[se.requestDelimited?"encodeDelimited":"encode"](ie).finish(),function(ce,le){if(ce)return se.emit("error",ce,Z),oe(ce);if(le===null){se.end(!0);return}if(!(le instanceof te))try{le=te[se.responseDelimited?"decodeDelimited":"decode"](le)}catch(de){return se.emit("error",de,Z),oe(de)}return se.emit("data",le,Z),oe(null,le)})}catch(ue){se.emit("error",ue,Z),setTimeout(function(){oe(ue)},0);return}};Service.prototype.end=function L(Z){return this.rpcImpl&&(Z||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(L){var Z=L;Z.Service=service})(rpc);var roots={};(function(L){var Z=L;Z.build="minimal",Z.Writer=writer,Z.BufferWriter=writer_buffer,Z.Reader=reader,Z.BufferReader=reader_buffer,Z.util=requireMinimal(),Z.rpc=rpc,Z.roots=roots,Z.configure=X;function X(){Z.util._configure(),Z.Writer._configure(Z.BufferWriter),Z.Reader._configure(Z.BufferReader)}X()})(indexMinimal);(function(L){L.exports=indexMinimal})(minimal$1);const _m0=getDefaultExportFromCjs(minimalExports);var lib$1={},lib={},Metadata={};Object.defineProperty(Metadata,"__esModule",{value:!0});Metadata.Metadata=void 0;Metadata.Metadata=function L(Z){const X=new Map,te={set(ie,oe){if(ie=normalizeKey(ie),Array.isArray(oe))if(oe.length===0)X.delete(ie);else{for(const se of oe)validate(ie,se);X.set(ie,ie.endsWith("-bin")?oe:[oe.join(", ")])}else validate(ie,oe),X.set(ie,[oe]);return te},append(ie,oe){ie=normalizeKey(ie),validate(ie,oe);let se=X.get(ie);return se==null&&(se=[],X.set(ie,se)),se.push(oe),ie.endsWith("-bin")||X.set(ie,[se.join(", ")]),te},delete(ie){ie=normalizeKey(ie),X.delete(ie)},get(ie){var oe;return ie=normalizeKey(ie),(oe=X.get(ie))===null||oe===void 0?void 0:oe[0]},getAll(ie){var oe;return ie=normalizeKey(ie),(oe=X.get(ie))!==null&&oe!==void 0?oe:[]},has(ie){return ie=normalizeKey(ie),X.has(ie)},[Symbol.iterator](){return X[Symbol.iterator]()}};if(Z!=null){const ie=isIterable(Z)?Z:Object.entries(Z);for(const[oe,se]of ie)te.set(oe,se)}return te};function normalizeKey(L){return L.toLowerCase()}function validate(L,Z){if(!/^[0-9a-z_.-]+$/.test(L))throw new Error(`Metadata key '${L}' contains illegal characters`);if(L.endsWith("-bin")){if(!(Z instanceof Uint8Array))throw new Error(`Metadata key '${L}' ends with '-bin', thus it must have binary value`)}else{if(typeof Z!="string")throw new Error(`Metadata key '${L}' doesn't end with '-bin', thus it must have string value`);if(!/^[ -~]*$/.test(Z))throw new Error(`Metadata value '${Z}' of key '${L}' contains illegal characters`)}}function isIterable(L){return Symbol.iterator in L}var Status={};(function(L){Object.defineProperty(L,"__esModule",{value:!0}),L.Status=void 0,function(Z){Z[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(L.Status||(L.Status={}))})(Status);var MethodDescriptor={};Object.defineProperty(MethodDescriptor,"__esModule",{value:!0});var CallOptions={};Object.defineProperty(CallOptions,"__esModule",{value:!0});var ClientMiddleware={};Object.defineProperty(ClientMiddleware,"__esModule",{value:!0});var composeClientMiddleware$1={};Object.defineProperty(composeClientMiddleware$1,"__esModule",{value:!0});composeClientMiddleware$1.composeClientMiddleware=void 0;function composeClientMiddleware(L,Z){return(X,te)=>Z(Object.assign(Object.assign({},X),{next:(ie,oe)=>L(Object.assign(Object.assign({},X),{request:ie}),oe)}),te)}composeClientMiddleware$1.composeClientMiddleware=composeClientMiddleware;var ClientError$1={},cjs={},helpers={};helpers.__esModule=void 0;helpers.__esModule=!0;var objectSetPrototypeOfIsDefined=typeof Object.setPrototypeOf=="function",objectGetPrototypeOfIsDefined=typeof Object.getPrototypeOf=="function",objectDefinePropertyIsDefined=typeof Object.defineProperty=="function",objectCreateIsDefined=typeof Object.create=="function",objectHasOwnPropertyIsDefined=typeof Object.prototype.hasOwnProperty=="function",setPrototypeOf=function L(Z,X){objectSetPrototypeOfIsDefined?Object.setPrototypeOf(Z,X):Z.__proto__=X};helpers.setPrototypeOf=setPrototypeOf;var getPrototypeOf=function L(Z){return objectGetPrototypeOfIsDefined?Object.getPrototypeOf(Z):Z.__proto__||Z.prototype};helpers.getPrototypeOf=getPrototypeOf;var ie8ObjectDefinePropertyBug=!1,defineProperty=function L(Z,X,te){if(objectDefinePropertyIsDefined&&!ie8ObjectDefinePropertyBug)try{Object.defineProperty(Z,X,te)}catch{ie8ObjectDefinePropertyBug=!0,L(Z,X,te)}else Z[X]=te.value};helpers.defineProperty=defineProperty;var hasOwnProperty=function L(Z,X){return objectHasOwnPropertyIsDefined?Z.hasOwnProperty(Z,X):Z[X]===void 0};helpers.hasOwnProperty=hasOwnProperty;var objectCreate=function L(Z,X){if(objectCreateIsDefined)return Object.create(Z,X);var te=function(){};te.prototype=Z;var ie=new te;if(typeof X>"u")return ie;if(typeof X=="null")throw new Error("PropertyDescriptors must not be null.");if(typeof X=="object")for(var oe in X)hasOwnProperty(X,oe)&&(ie[oe]=X[oe].value);return ie};helpers.objectCreate=objectCreate;(function(L){L.__esModule=void 0,L.__esModule=!0;var Z=helpers,X=Z.setPrototypeOf,te=Z.getPrototypeOf,ie=Z.defineProperty,oe=Z.objectCreate,se=new Error().toString()==="[object Error]",ue="";function ce(le){var de=this.constructor,he=de.name||function(){var Ie=de.toString().match(/^function\s*([^\s(]+)/);return Ie===null?ue||"Error":Ie[1]}(),ge=he==="Error",_e=ge?ue:he,Ae=Error.apply(this,arguments);if(X(Ae,te(this)),!(Ae instanceof de)||!(Ae instanceof ce)){var Ae=this;Error.apply(this,arguments),ie(Ae,"message",{configurable:!0,enumerable:!1,value:le,writable:!0})}if(ie(Ae,"name",{configurable:!0,enumerable:!1,value:_e,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(Ae,ge?ce:de),Ae.stack===void 0){var xe=new Error(le);xe.name=Ae.name,Ae.stack=xe.stack}return se&&ie(Ae,"toString",{configurable:!0,enumerable:!1,value:function(){return(this.name||"Error")+(typeof this.message>"u"?"":": "+this.message)},writable:!0}),Ae}ue=ce.name||"ExtendableError",ce.prototype=oe(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),L.ExtendableError=ce,L.default=L.ExtendableError})(cjs);Object.defineProperty(ClientError$1,"__esModule",{value:!0});ClientError$1.ClientError=void 0;const ts_error_1$1=cjs,Status_1$1=Status;class ClientError extends ts_error_1$1.ExtendableError{constructor(Z,X,te){super(`${Z} ${Status_1$1.Status[X]}: ${te}`),this.path=Z,this.code=X,this.details=te,this.name="ClientError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ClientError",{value:!0})}static[Symbol.hasInstance](Z){return this!==ClientError?this.prototype.isPrototypeOf(Z):typeof Z=="object"&&Z!==null&&(Z.constructor===ClientError||Z["@@nice-grpc:ClientError"]===!0||Z.name==="ClientError"&&Z["@@nice-grpc"]===!0)}}ClientError$1.ClientError=ClientError;var CallContext={};Object.defineProperty(CallContext,"__esModule",{value:!0});var ServerMiddleware={};Object.defineProperty(ServerMiddleware,"__esModule",{value:!0});var composeServerMiddleware$1={};Object.defineProperty(composeServerMiddleware$1,"__esModule",{value:!0});composeServerMiddleware$1.composeServerMiddleware=void 0;function composeServerMiddleware(L,Z){return(X,te)=>L(Object.assign(Object.assign({},X),{next:(ie,oe)=>Z(Object.assign(Object.assign({},X),{request:ie}),oe)}),te)}composeServerMiddleware$1.composeServerMiddleware=composeServerMiddleware;var ServerError$1={};Object.defineProperty(ServerError$1,"__esModule",{value:!0});ServerError$1.ServerError=void 0;const ts_error_1=cjs,Status_1=Status;class ServerError extends ts_error_1.ExtendableError{constructor(Z,X){super(`${Status_1.Status[Z]}: ${X}`),this.code=Z,this.details=X,this.name="ServerError",Object.defineProperty(this,"@@nice-grpc",{value:!0}),Object.defineProperty(this,"@@nice-grpc:ServerError",{value:!0})}static[Symbol.hasInstance](Z){return this!==ServerError?this.prototype.isPrototypeOf(Z):typeof Z=="object"&&Z!==null&&(Z.constructor===ServerError||Z["@@nice-grpc:ServerError"]===!0||Z.name==="ServerError"&&Z["@@nice-grpc"]===!0)}}ServerError$1.ServerError=ServerError;(function(L){var Z=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(te,ie,oe,se){se===void 0&&(se=oe);var ue=Object.getOwnPropertyDescriptor(ie,oe);(!ue||("get"in ue?!ie.__esModule:ue.writable||ue.configurable))&&(ue={enumerable:!0,get:function(){return ie[oe]}}),Object.defineProperty(te,se,ue)}:function(te,ie,oe,se){se===void 0&&(se=oe),te[se]=ie[oe]}),X=commonjsGlobal&&commonjsGlobal.__exportStar||function(te,ie){for(var oe in te)oe!=="default"&&!Object.prototype.hasOwnProperty.call(ie,oe)&&Z(ie,te,oe)};Object.defineProperty(L,"__esModule",{value:!0}),X(Metadata,L),X(Status,L),X(MethodDescriptor,L),X(CallOptions,L),X(ClientMiddleware,L),X(composeClientMiddleware$1,L),X(ClientError$1,L),X(CallContext,L),X(ServerMiddleware,L),X(composeServerMiddleware$1,L),X(ServerError$1,L)})(lib);var serviceDefinitions={},grpcWeb={};Object.defineProperty(grpcWeb,"__esModule",{value:!0});grpcWeb.isGrpcWebServiceDefinition=grpcWeb.fromGrpcWebServiceDefinition=void 0;function fromGrpcWebServiceDefinition(L){const Z={};for(const[X,te]of Object.entries(L)){if(X==="serviceName")continue;const ie=te;Z[uncapitalize(X)]={path:`/${L.serviceName}/${X}`,requestStream:ie.requestStream,responseStream:ie.responseStream,requestDeserialize:ie.requestType.deserializeBinary,requestSerialize:oe=>oe.serializeBinary(),responseDeserialize:ie.responseType.deserializeBinary,responseSerialize:oe=>oe.serializeBinary(),options:{}}}return Z}grpcWeb.fromGrpcWebServiceDefinition=fromGrpcWebServiceDefinition;function isGrpcWebServiceDefinition(L){return"prototype"in L}grpcWeb.isGrpcWebServiceDefinition=isGrpcWebServiceDefinition;function uncapitalize(L){return L.length===0?L:L[0].toLowerCase()+L.slice(1)}var tsProto={};Object.defineProperty(tsProto,"__esModule",{value:!0});tsProto.isTsProtoServiceDefinition=tsProto.fromTsProtoServiceDefinition=void 0;function fromTsProtoServiceDefinition(L){const Z={};for(const[X,te]of Object.entries(L.methods)){const ie=te.requestType.encode,oe=te.requestType.fromPartial,se=te.responseType.encode,ue=te.responseType.fromPartial;Z[X]={path:`/${L.fullName}/${te.name}`,requestStream:te.requestStream,responseStream:te.responseStream,requestDeserialize:te.requestType.decode,requestSerialize:oe!=null?ce=>ie(oe(ce)).finish():ce=>ie(ce).finish(),responseDeserialize:te.responseType.decode,responseSerialize:ue!=null?ce=>se(ue(ce)).finish():ce=>se(ce).finish(),options:te.options}}return Z}tsProto.fromTsProtoServiceDefinition=fromTsProtoServiceDefinition;function isTsProtoServiceDefinition(L){return"name"in L&&"fullName"in L&&"methods"in L}tsProto.isTsProtoServiceDefinition=isTsProtoServiceDefinition;Object.defineProperty(serviceDefinitions,"__esModule",{value:!0});serviceDefinitions.toGrpcWebMethodDefinition=serviceDefinitions.normalizeServiceDefinition=void 0;const grpc_web_1$5=grpcWeb,ts_proto_1=tsProto;function normalizeServiceDefinition(L){return(0,grpc_web_1$5.isGrpcWebServiceDefinition)(L)?(0,grpc_web_1$5.fromGrpcWebServiceDefinition)(L):(0,ts_proto_1.isTsProtoServiceDefinition)(L)?(0,ts_proto_1.fromTsProtoServiceDefinition)(L):L}serviceDefinitions.normalizeServiceDefinition=normalizeServiceDefinition;function toGrpcWebMethodDefinition(L){const[,Z,X]=L.path.split("/");return{service:{serviceName:Z},methodName:X,requestStream:L.requestStream,responseStream:L.responseStream,requestType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(te){return L.requestDeserialize(te)}},responseType:class{constructor(){throw new Error("Unexpected instantiation")}static deserializeBinary(te){return L.responseDeserialize(te)}}}}serviceDefinitions.toGrpcWebMethodDefinition=toGrpcWebMethodDefinition;var channel={};Object.defineProperty(channel,"__esModule",{value:!0});channel.createChannel=void 0;function createChannel(L,Z){return{address:L,transport:Z}}channel.createChannel=createChannel;var ClientFactory={},createBidiStreamingMethod$1={},grpcWebClient_umdExports={},grpcWebClient_umd={get exports(){return grpcWebClient_umdExports},set exports(L){grpcWebClient_umdExports=L}};(function(L,Z){(function(X,te){L.exports=te()})(commonjsGlobal,function(){return X={418:function(ie,oe){(function(se,ue){for(var ce in ue)se[ce]=ue[ce]})(oe,function(se){var ue={};function ce(le){if(ue[le])return ue[le].exports;var de=ue[le]={i:le,l:!1,exports:{}};return se[le].call(de.exports,de,de.exports,ce),de.l=!0,de.exports}return ce.m=se,ce.c=ue,ce.i=function(le){return le},ce.d=function(le,de,he){ce.o(le,de)||Object.defineProperty(le,de,{configurable:!1,enumerable:!0,get:he})},ce.n=function(le){var de=le&&le.__esModule?function(){return le.default}:function(){return le};return ce.d(de,"a",de),de},ce.o=function(le,de){return Object.prototype.hasOwnProperty.call(le,de)},ce.p="",ce(ce.s=1)}([function(se,ue,ce){Object.defineProperty(ue,"__esModule",{value:!0});var le=ce(3),de=function(){function he(ge,_e){ge===void 0&&(ge={}),_e===void 0&&(_e={splitValues:!1});var Ae,xe=this;this.headersMap={},ge&&(typeof Headers<"u"&&ge instanceof Headers?le.getHeaderKeys(ge).forEach(function(Ie){le.getHeaderValues(ge,Ie).forEach(function(Pe){_e.splitValues?xe.append(Ie,le.splitHeaderValue(Pe)):xe.append(Ie,Pe)})}):typeof(Ae=ge)=="object"&&typeof Ae.headersMap=="object"&&typeof Ae.forEach=="function"?ge.forEach(function(Ie,Pe){xe.append(Ie,Pe)}):typeof Map<"u"&&ge instanceof Map?ge.forEach(function(Ie,Pe){xe.append(Pe,Ie)}):typeof ge=="string"?this.appendFromString(ge):typeof ge=="object"&&Object.getOwnPropertyNames(ge).forEach(function(Ie){var Pe=ge[Ie];Array.isArray(Pe)?Pe.forEach(function(Ce){xe.append(Ie,Ce)}):xe.append(Ie,Pe)}))}return he.prototype.appendFromString=function(ge){for(var _e=ge.split(`\r
`),Ae=0;Ae<_e.length;Ae++){var xe=_e[Ae],Ie=xe.indexOf(":");if(Ie>0){var Pe=xe.substring(0,Ie).trim(),Ce=xe.substring(Ie+1).trim();this.append(Pe,Ce)}}},he.prototype.delete=function(ge,_e){var Ae=le.normalizeName(ge);if(_e===void 0)delete this.headersMap[Ae];else{var xe=this.headersMap[Ae];if(xe){var Ie=xe.indexOf(_e);Ie>=0&&xe.splice(Ie,1),xe.length===0&&delete this.headersMap[Ae]}}},he.prototype.append=function(ge,_e){var Ae=this,xe=le.normalizeName(ge);Array.isArray(this.headersMap[xe])||(this.headersMap[xe]=[]),Array.isArray(_e)?_e.forEach(function(Ie){Ae.headersMap[xe].push(le.normalizeValue(Ie))}):this.headersMap[xe].push(le.normalizeValue(_e))},he.prototype.set=function(ge,_e){var Ae=le.normalizeName(ge);if(Array.isArray(_e)){var xe=[];_e.forEach(function(Ie){xe.push(le.normalizeValue(Ie))}),this.headersMap[Ae]=xe}else this.headersMap[Ae]=[le.normalizeValue(_e)]},he.prototype.has=function(ge,_e){var Ae=this.headersMap[le.normalizeName(ge)];if(!Array.isArray(Ae))return!1;if(_e!==void 0){var xe=le.normalizeValue(_e);return Ae.indexOf(xe)>=0}return!0},he.prototype.get=function(ge){var _e=this.headersMap[le.normalizeName(ge)];return _e!==void 0?_e.concat():[]},he.prototype.forEach=function(ge){var _e=this;Object.getOwnPropertyNames(this.headersMap).forEach(function(Ae){ge(Ae,_e.headersMap[Ae])},this)},he.prototype.toHeaders=function(){if(typeof Headers<"u"){var ge=new Headers;return this.forEach(function(_e,Ae){Ae.forEach(function(xe){ge.append(_e,xe)})}),ge}throw new Error("Headers class is not defined")},he}();ue.BrowserHeaders=de},function(se,ue,ce){Object.defineProperty(ue,"__esModule",{value:!0});var le=ce(0);ue.BrowserHeaders=le.BrowserHeaders},function(se,ue,ce){Object.defineProperty(ue,"__esModule",{value:!0}),ue.iterateHeaders=function(le,de){for(var he=le[Symbol.iterator](),ge=he.next();!ge.done;)de(ge.value[0]),ge=he.next()},ue.iterateHeadersKeys=function(le,de){for(var he=le.keys(),ge=he.next();!ge.done;)de(ge.value),ge=he.next()}},function(se,ue,ce){Object.defineProperty(ue,"__esModule",{value:!0});var le=ce(2);ue.normalizeName=function(de){if(typeof de!="string"&&(de=String(de)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(de))throw new TypeError("Invalid character in header field name");return de.toLowerCase()},ue.normalizeValue=function(de){return typeof de!="string"&&(de=String(de)),de},ue.getHeaderValues=function(de,he){var ge=de;if(ge instanceof Headers&&ge.getAll)return ge.getAll(he);var _e=ge.get(he);return _e&&typeof _e=="string"?[_e]:_e},ue.getHeaderKeys=function(de){var he=de,ge={},_e=[];return he.keys?le.iterateHeadersKeys(he,function(Ae){ge[Ae]||(ge[Ae]=!0,_e.push(Ae))}):he.forEach?he.forEach(function(Ae,xe){ge[xe]||(ge[xe]=!0,_e.push(xe))}):le.iterateHeaders(he,function(Ae){var xe=Ae[0];ge[xe]||(ge[xe]=!0,_e.push(xe))}),_e},ue.splitHeaderValue=function(de){var he=[];return de.split(", ").forEach(function(ge){ge.split(",").forEach(function(_e){he.push(_e)})}),he}}]))},617:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.ChunkParser=oe.ChunkType=oe.encodeASCII=oe.decodeASCII=void 0;var ue,ce=se(65);function le(Ie){return(Pe=Ie)===9||Pe===10||Pe===13||Ie>=32&&Ie<=126;var Pe}function de(Ie){for(var Pe=0;Pe!==Ie.length;++Pe)if(!le(Ie[Pe]))throw new Error("Metadata is not valid (printable) ASCII");return String.fromCharCode.apply(String,Array.prototype.slice.call(Ie))}function he(Ie){return(128&Ie.getUint8(0))==128}function ge(Ie){return Ie.getUint32(1,!1)}function _e(Ie,Pe,Ce){return Ie.byteLength-Pe>=Ce}function Ae(Ie,Pe,Ce){if(Ie.slice)return Ie.slice(Pe,Ce);var Be=Ie.length;Ce!==void 0&&(Be=Ce);for(var Ve=new Uint8Array(Be-Pe),Ge=0,Ke=Pe;Ke<Be;Ke++)Ve[Ge++]=Ie[Ke];return Ve}oe.decodeASCII=de,oe.encodeASCII=function(Ie){for(var Pe=new Uint8Array(Ie.length),Ce=0;Ce!==Ie.length;++Ce){var Be=Ie.charCodeAt(Ce);if(!le(Be))throw new Error("Metadata contains invalid ASCII");Pe[Ce]=Be}return Pe},function(Ie){Ie[Ie.MESSAGE=1]="MESSAGE",Ie[Ie.TRAILERS=2]="TRAILERS"}(ue=oe.ChunkType||(oe.ChunkType={}));var xe=function(){function Ie(){this.buffer=null,this.position=0}return Ie.prototype.parse=function(Pe,Ce){if(Pe.length===0&&Ce)return[];var Be,Ve=[];if(this.buffer==null)this.buffer=Pe,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=Pe,this.position=0;else{var Ge=this.buffer.byteLength-this.position,Ke=new Uint8Array(Ge+Pe.byteLength),Je=Ae(this.buffer,this.position);Ke.set(Je,0);var et=new Uint8Array(Pe);Ke.set(et,Ge),this.buffer=Ke,this.position=0}for(;;){if(!_e(this.buffer,this.position,5))return Ve;var at=Ae(this.buffer,this.position,this.position+5),dt=new DataView(at.buffer,at.byteOffset,at.byteLength),st=ge(dt);if(!_e(this.buffer,this.position,5+st))return Ve;var ht=Ae(this.buffer,this.position+5,this.position+5+st);if(this.position+=5+st,he(dt))return Ve.push({chunkType:ue.TRAILERS,trailers:(Be=ht,new ce.Metadata(de(Be)))}),Ve;Ve.push({chunkType:ue.MESSAGE,data:ht})}},Ie}();oe.ChunkParser=xe},8:function(ie,oe){var se;Object.defineProperty(oe,"__esModule",{value:!0}),oe.httpStatusToCode=oe.Code=void 0,function(ue){ue[ue.OK=0]="OK",ue[ue.Canceled=1]="Canceled",ue[ue.Unknown=2]="Unknown",ue[ue.InvalidArgument=3]="InvalidArgument",ue[ue.DeadlineExceeded=4]="DeadlineExceeded",ue[ue.NotFound=5]="NotFound",ue[ue.AlreadyExists=6]="AlreadyExists",ue[ue.PermissionDenied=7]="PermissionDenied",ue[ue.ResourceExhausted=8]="ResourceExhausted",ue[ue.FailedPrecondition=9]="FailedPrecondition",ue[ue.Aborted=10]="Aborted",ue[ue.OutOfRange=11]="OutOfRange",ue[ue.Unimplemented=12]="Unimplemented",ue[ue.Internal=13]="Internal",ue[ue.Unavailable=14]="Unavailable",ue[ue.DataLoss=15]="DataLoss",ue[ue.Unauthenticated=16]="Unauthenticated"}(se=oe.Code||(oe.Code={})),oe.httpStatusToCode=function(ue){switch(ue){case 0:return se.Internal;case 200:return se.OK;case 400:return se.InvalidArgument;case 401:return se.Unauthenticated;case 403:return se.PermissionDenied;case 404:return se.NotFound;case 409:return se.Aborted;case 412:return se.FailedPrecondition;case 429:return se.ResourceExhausted;case 499:return se.Canceled;case 500:return se.Unknown;case 501:return se.Unimplemented;case 503:return se.Unavailable;case 504:return se.DeadlineExceeded;default:return se.Unknown}}},934:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.client=void 0;var ue=se(65),ce=se(617),le=se(8),de=se(346),he=se(57),ge=se(882);oe.client=function(xe,Ie){return new _e(xe,Ie)};var _e=function(){function xe(Ie,Pe){this.started=!1,this.sentFirstMessage=!1,this.completed=!1,this.closed=!1,this.finishedSending=!1,this.onHeadersCallbacks=[],this.onMessageCallbacks=[],this.onEndCallbacks=[],this.parser=new ce.ChunkParser,this.methodDefinition=Ie,this.props=Pe,this.createTransport()}return xe.prototype.createTransport=function(){var Ie=this.props.host+"/"+this.methodDefinition.service.serviceName+"/"+this.methodDefinition.methodName,Pe={methodDefinition:this.methodDefinition,debug:this.props.debug||!1,url:Ie,onHeaders:this.onTransportHeaders.bind(this),onChunk:this.onTransportChunk.bind(this),onEnd:this.onTransportEnd.bind(this)};this.props.transport?this.transport=this.props.transport(Pe):this.transport=he.makeDefaultTransport(Pe)},xe.prototype.onTransportHeaders=function(Ie,Pe){if(this.props.debug&&de.debug("onHeaders",Ie,Pe),this.closed)this.props.debug&&de.debug("grpc.onHeaders received after request was closed - ignoring");else if(Pe!==0){this.responseHeaders=Ie,this.props.debug&&de.debug("onHeaders.responseHeaders",JSON.stringify(this.responseHeaders,null,2));var Ce=Ae(Ie);this.props.debug&&de.debug("onHeaders.gRPCStatus",Ce);var Be=Ce&&Ce>=0?Ce:le.httpStatusToCode(Pe);this.props.debug&&de.debug("onHeaders.code",Be);var Ve=Ie.get("grpc-message")||[];if(this.props.debug&&de.debug("onHeaders.gRPCMessage",Ve),this.rawOnHeaders(Ie),Be!==le.Code.OK){var Ge=this.decodeGRPCStatus(Ve[0]);this.rawOnError(Be,Ge,Ie)}}},xe.prototype.onTransportChunk=function(Ie){var Pe=this;if(this.closed)this.props.debug&&de.debug("grpc.onChunk received after request was closed - ignoring");else{var Ce=[];try{Ce=this.parser.parse(Ie)}catch(Be){return this.props.debug&&de.debug("onChunk.parsing error",Be,Be.message),void this.rawOnError(le.Code.Internal,"parsing error: "+Be.message)}Ce.forEach(function(Be){if(Be.chunkType===ce.ChunkType.MESSAGE){var Ve=Pe.methodDefinition.responseType.deserializeBinary(Be.data);Pe.rawOnMessage(Ve)}else Be.chunkType===ce.ChunkType.TRAILERS&&(Pe.responseHeaders?(Pe.responseTrailers=new ue.Metadata(Be.trailers),Pe.props.debug&&de.debug("onChunk.trailers",Pe.responseTrailers)):(Pe.responseHeaders=new ue.Metadata(Be.trailers),Pe.rawOnHeaders(Pe.responseHeaders)))})}},xe.prototype.onTransportEnd=function(){if(this.props.debug&&de.debug("grpc.onEnd"),this.closed)this.props.debug&&de.debug("grpc.onEnd received after request was closed - ignoring");else if(this.responseTrailers!==void 0){var Ie=Ae(this.responseTrailers);if(Ie!==null){var Pe=this.responseTrailers.get("grpc-message"),Ce=this.decodeGRPCStatus(Pe[0]);this.rawOnEnd(Ie,Ce,this.responseTrailers)}else this.rawOnError(le.Code.Internal,"Response closed without grpc-status (Trailers provided)")}else{if(this.responseHeaders===void 0)return void this.rawOnError(le.Code.Unknown,"Response closed without headers");var Be=Ae(this.responseHeaders),Ve=this.responseHeaders.get("grpc-message");if(this.props.debug&&de.debug("grpc.headers only response ",Be,Ve),Be===null)return void this.rawOnEnd(le.Code.Unknown,"Response closed without grpc-status (Headers only)",this.responseHeaders);var Ge=this.decodeGRPCStatus(Ve[0]);this.rawOnEnd(Be,Ge,this.responseHeaders)}},xe.prototype.decodeGRPCStatus=function(Ie){if(!Ie)return"";try{return decodeURIComponent(Ie)}catch{return Ie}},xe.prototype.rawOnEnd=function(Ie,Pe,Ce){var Be=this;this.props.debug&&de.debug("rawOnEnd",Ie,Pe,Ce),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(Ve){if(!Be.closed)try{Ve(Ie,Pe,Ce)}catch(Ge){setTimeout(function(){throw Ge},0)}}))},xe.prototype.rawOnHeaders=function(Ie){this.props.debug&&de.debug("rawOnHeaders",Ie),this.completed||this.onHeadersCallbacks.forEach(function(Pe){try{Pe(Ie)}catch(Ce){setTimeout(function(){throw Ce},0)}})},xe.prototype.rawOnError=function(Ie,Pe,Ce){var Be=this;Ce===void 0&&(Ce=new ue.Metadata),this.props.debug&&de.debug("rawOnError",Ie,Pe),this.completed||(this.completed=!0,this.onEndCallbacks.forEach(function(Ve){if(!Be.closed)try{Ve(Ie,Pe,Ce)}catch(Ge){setTimeout(function(){throw Ge},0)}}))},xe.prototype.rawOnMessage=function(Ie){var Pe=this;this.props.debug&&de.debug("rawOnMessage",Ie.toObject()),this.completed||this.closed||this.onMessageCallbacks.forEach(function(Ce){if(!Pe.closed)try{Ce(Ie)}catch(Be){setTimeout(function(){throw Be},0)}})},xe.prototype.onHeaders=function(Ie){this.onHeadersCallbacks.push(Ie)},xe.prototype.onMessage=function(Ie){this.onMessageCallbacks.push(Ie)},xe.prototype.onEnd=function(Ie){this.onEndCallbacks.push(Ie)},xe.prototype.start=function(Ie){if(this.started)throw new Error("Client already started - cannot .start()");this.started=!0;var Pe=new ue.Metadata(Ie||{});Pe.set("content-type","application/grpc-web+proto"),Pe.set("x-grpc-web","1"),this.transport.start(Pe)},xe.prototype.send=function(Ie){if(!this.started)throw new Error("Client not started - .start() must be called before .send()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .send()");if(!this.methodDefinition.requestStream&&this.sentFirstMessage)throw new Error("Message already sent for non-client-streaming method - cannot .send()");this.sentFirstMessage=!0;var Pe=ge.frameRequest(Ie);this.transport.sendMessage(Pe)},xe.prototype.finishSend=function(){if(!this.started)throw new Error("Client not started - .finishSend() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .send()");if(this.finishedSending)throw new Error("Client already finished sending - cannot .finishSend()");this.finishedSending=!0,this.transport.finishSend()},xe.prototype.close=function(){if(!this.started)throw new Error("Client not started - .start() must be called before .close()");if(this.closed)throw new Error("Client already closed - cannot .close()");this.closed=!0,this.props.debug&&de.debug("request.abort aborting request"),this.transport.cancel()},xe}();function Ae(xe){var Ie=xe.get("grpc-status")||[];if(Ie.length>0)try{var Pe=Ie[0];return parseInt(Pe,10)}catch{return null}return null}},346:function(ie,oe){Object.defineProperty(oe,"__esModule",{value:!0}),oe.debug=void 0,oe.debug=function(){for(var se=[],ue=0;ue<arguments.length;ue++)se[ue]=arguments[ue];console.debug?console.debug.apply(null,se):console.log.apply(null,se)}},607:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.grpc=void 0;var ue,ce=se(418),le=se(57),de=se(229),he=se(540),ge=se(210),_e=se(859),Ae=se(8),xe=se(938),Ie=se(35),Pe=se(934);(ue=oe.grpc||(oe.grpc={})).setDefaultTransport=le.setDefaultTransportFactory,ue.CrossBrowserHttpTransport=_e.CrossBrowserHttpTransport,ue.FetchReadableStreamTransport=de.FetchReadableStreamTransport,ue.XhrTransport=ge.XhrTransport,ue.WebsocketTransport=he.WebsocketTransport,ue.Code=Ae.Code,ue.Metadata=ce.BrowserHeaders,ue.client=function(Ce,Be){return Pe.client(Ce,Be)},ue.invoke=xe.invoke,ue.unary=Ie.unary},938:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.invoke=void 0;var ue=se(934);oe.invoke=function(ce,le){if(ce.requestStream)throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");var de=ue.client(ce,{host:le.host,transport:le.transport,debug:le.debug});return le.onHeaders&&de.onHeaders(le.onHeaders),le.onMessage&&de.onMessage(le.onMessage),le.onEnd&&de.onEnd(le.onEnd),de.start(le.metadata),de.send(le.request),de.finishSend(),{close:function(){de.close()}}}},65:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.Metadata=void 0;var ue=se(418);Object.defineProperty(oe,"Metadata",{enumerable:!0,get:function(){return ue.BrowserHeaders}})},57:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.makeDefaultTransport=oe.setDefaultTransportFactory=void 0;var ue=se(859),ce=function(le){return ue.CrossBrowserHttpTransport({withCredentials:!1})(le)};oe.setDefaultTransportFactory=function(le){ce=le},oe.makeDefaultTransport=function(le){return ce(le)}},229:function(ie,oe,se){var ue=this&&this.__assign||function(){return(ue=Object.assign||function(he){for(var ge,_e=1,Ae=arguments.length;_e<Ae;_e++)for(var xe in ge=arguments[_e])Object.prototype.hasOwnProperty.call(ge,xe)&&(he[xe]=ge[xe]);return he}).apply(this,arguments)};Object.defineProperty(oe,"__esModule",{value:!0}),oe.detectFetchSupport=oe.FetchReadableStreamTransport=void 0;var ce=se(65),le=se(346);oe.FetchReadableStreamTransport=function(he){return function(ge){return function(_e,Ae){return _e.debug&&le.debug("fetchRequest",_e),new de(_e,Ae)}(ge,he)}};var de=function(){function he(ge,_e){this.cancelled=!1,this.controller=self.AbortController&&new AbortController,this.options=ge,this.init=_e}return he.prototype.pump=function(ge,_e){var Ae=this;if(this.reader=ge,this.cancelled)return this.options.debug&&le.debug("Fetch.pump.cancel at first pump"),void this.reader.cancel().catch(function(xe){Ae.options.debug&&le.debug("Fetch.pump.reader.cancel exception",xe)});this.reader.read().then(function(xe){if(xe.done)return Ae.options.onEnd(),_e;Ae.options.onChunk(xe.value),Ae.pump(Ae.reader,_e)}).catch(function(xe){Ae.cancelled?Ae.options.debug&&le.debug("Fetch.catch - request cancelled"):(Ae.cancelled=!0,Ae.options.debug&&le.debug("Fetch.catch",xe.message),Ae.options.onEnd(xe))})},he.prototype.send=function(ge){var _e=this;fetch(this.options.url,ue(ue({},this.init),{headers:this.metadata.toHeaders(),method:"POST",body:ge,signal:this.controller&&this.controller.signal})).then(function(Ae){if(_e.options.debug&&le.debug("Fetch.response",Ae),_e.options.onHeaders(new ce.Metadata(Ae.headers),Ae.status),!Ae.body)return Ae;_e.pump(Ae.body.getReader(),Ae)}).catch(function(Ae){_e.cancelled?_e.options.debug&&le.debug("Fetch.catch - request cancelled"):(_e.cancelled=!0,_e.options.debug&&le.debug("Fetch.catch",Ae.message),_e.options.onEnd(Ae))})},he.prototype.sendMessage=function(ge){this.send(ge)},he.prototype.finishSend=function(){},he.prototype.start=function(ge){this.metadata=ge},he.prototype.cancel=function(){var ge=this;this.cancelled?this.options.debug&&le.debug("Fetch.cancel already cancelled"):(this.cancelled=!0,this.controller?(this.options.debug&&le.debug("Fetch.cancel.controller.abort"),this.controller.abort()):this.options.debug&&le.debug("Fetch.cancel.missing abort controller"),this.reader?(this.options.debug&&le.debug("Fetch.cancel.reader.cancel"),this.reader.cancel().catch(function(_e){ge.options.debug&&le.debug("Fetch.cancel.reader.cancel exception",_e)})):this.options.debug&&le.debug("Fetch.cancel before reader"))},he}();oe.detectFetchSupport=function(){return typeof Response<"u"&&Response.prototype.hasOwnProperty("body")&&typeof Headers=="function"}},859:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.CrossBrowserHttpTransport=void 0;var ue=se(229),ce=se(210);oe.CrossBrowserHttpTransport=function(le){if(ue.detectFetchSupport()){var de={credentials:le.withCredentials?"include":"same-origin"};return ue.FetchReadableStreamTransport(de)}return ce.XhrTransport({withCredentials:le.withCredentials})}},210:function(ie,oe,se){var ue,ce=this&&this.__extends||(ue=function(Ie,Pe){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,Be){Ce.__proto__=Be}||function(Ce,Be){for(var Ve in Be)Object.prototype.hasOwnProperty.call(Be,Ve)&&(Ce[Ve]=Be[Ve])})(Ie,Pe)},function(Ie,Pe){function Ce(){this.constructor=Ie}ue(Ie,Pe),Ie.prototype=Pe===null?Object.create(Pe):(Ce.prototype=Pe.prototype,new Ce)});Object.defineProperty(oe,"__esModule",{value:!0}),oe.stringToArrayBuffer=oe.MozChunkedArrayBufferXHR=oe.XHR=oe.XhrTransport=void 0;var le=se(65),de=se(346),he=se(849);oe.XhrTransport=function(Ie){return function(Pe){if(he.detectMozXHRSupport())return new _e(Pe,Ie);if(he.detectXHROverrideMimeTypeSupport())return new ge(Pe,Ie);throw new Error("This environment's XHR implementation cannot support binary transfer.")}};var ge=function(){function Ie(Pe,Ce){this.options=Pe,this.init=Ce}return Ie.prototype.onProgressEvent=function(){this.options.debug&&de.debug("XHR.onProgressEvent.length: ",this.xhr.response.length);var Pe=this.xhr.response.substr(this.index);this.index=this.xhr.response.length;var Ce=xe(Pe);this.options.onChunk(Ce)},Ie.prototype.onLoadEvent=function(){this.options.debug&&de.debug("XHR.onLoadEvent"),this.options.onEnd()},Ie.prototype.onStateChange=function(){this.options.debug&&de.debug("XHR.onStateChange",this.xhr.readyState),this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED&&this.options.onHeaders(new le.Metadata(this.xhr.getAllResponseHeaders()),this.xhr.status)},Ie.prototype.sendMessage=function(Pe){this.xhr.send(Pe)},Ie.prototype.finishSend=function(){},Ie.prototype.start=function(Pe){var Ce=this;this.metadata=Pe;var Be=new XMLHttpRequest;this.xhr=Be,Be.open("POST",this.options.url),this.configureXhr(),this.metadata.forEach(function(Ve,Ge){Be.setRequestHeader(Ve,Ge.join(", "))}),Be.withCredentials=!!this.init.withCredentials,Be.addEventListener("readystatechange",this.onStateChange.bind(this)),Be.addEventListener("progress",this.onProgressEvent.bind(this)),Be.addEventListener("loadend",this.onLoadEvent.bind(this)),Be.addEventListener("error",function(Ve){Ce.options.debug&&de.debug("XHR.error",Ve),Ce.options.onEnd(Ve.error)})},Ie.prototype.configureXhr=function(){this.xhr.responseType="text",this.xhr.overrideMimeType("text/plain; charset=x-user-defined")},Ie.prototype.cancel=function(){this.options.debug&&de.debug("XHR.abort"),this.xhr.abort()},Ie}();oe.XHR=ge;var _e=function(Ie){function Pe(){return Ie!==null&&Ie.apply(this,arguments)||this}return ce(Pe,Ie),Pe.prototype.configureXhr=function(){this.options.debug&&de.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"),this.xhr.responseType="moz-chunked-arraybuffer"},Pe.prototype.onProgressEvent=function(){var Ce=this.xhr.response;this.options.debug&&de.debug("MozXHR.onProgressEvent: ",new Uint8Array(Ce)),this.options.onChunk(new Uint8Array(Ce))},Pe}(ge);function Ae(Ie,Pe){var Ce=Ie.charCodeAt(Pe);if(Ce>=55296&&Ce<=56319){var Be=Ie.charCodeAt(Pe+1);Be>=56320&&Be<=57343&&(Ce=65536+(Ce-55296<<10)+(Be-56320))}return Ce}function xe(Ie){for(var Pe=new Uint8Array(Ie.length),Ce=0,Be=0;Be<Ie.length;Be++){var Ve=String.prototype.codePointAt?Ie.codePointAt(Be):Ae(Ie,Be);Pe[Ce++]=255&Ve}return Pe}oe.MozChunkedArrayBufferXHR=_e,oe.stringToArrayBuffer=xe},849:function(ie,oe){var se;function ue(){if(se!==void 0)return se;if(XMLHttpRequest){se=new XMLHttpRequest;try{se.open("GET","https://localhost")}catch{}}return se}function ce(le){var de=ue();if(!de)return!1;try{return de.responseType=le,de.responseType===le}catch{}return!1}Object.defineProperty(oe,"__esModule",{value:!0}),oe.detectXHROverrideMimeTypeSupport=oe.detectMozXHRSupport=oe.xhrSupportsResponseType=void 0,oe.xhrSupportsResponseType=ce,oe.detectMozXHRSupport=function(){return typeof XMLHttpRequest<"u"&&ce("moz-chunked-arraybuffer")},oe.detectXHROverrideMimeTypeSupport=function(){return typeof XMLHttpRequest<"u"&&XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType")}},540:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.WebsocketTransport=void 0;var ue,ce=se(346),le=se(617);(function(he){he[he.FINISH_SEND=1]="FINISH_SEND"})(ue||(ue={}));var de=new Uint8Array([1]);oe.WebsocketTransport=function(){return function(he){return function(ge){ge.debug&&ce.debug("websocketRequest",ge);var _e,Ae=function(Pe){if(Pe.substr(0,8)==="https://")return"wss://"+Pe.substr(8);if(Pe.substr(0,7)==="http://")return"ws://"+Pe.substr(7);throw new Error("Websocket transport constructed with non-https:// or http:// host.")}(ge.url),xe=[];function Ie(Pe){if(Pe===ue.FINISH_SEND)_e.send(de);else{var Ce=Pe,Be=new Int8Array(Ce.byteLength+1);Be.set(new Uint8Array([0])),Be.set(Ce,1),_e.send(Be)}}return{sendMessage:function(Pe){_e&&_e.readyState!==_e.CONNECTING?Ie(Pe):xe.push(Pe)},finishSend:function(){_e&&_e.readyState!==_e.CONNECTING?Ie(ue.FINISH_SEND):xe.push(ue.FINISH_SEND)},start:function(Pe){(_e=new WebSocket(Ae,["grpc-websockets"])).binaryType="arraybuffer",_e.onopen=function(){var Ce;ge.debug&&ce.debug("websocketRequest.onopen"),_e.send((Ce="",Pe.forEach(function(Be,Ve){Ce+=Be+": "+Ve.join(", ")+`\r
`}),le.encodeASCII(Ce))),xe.forEach(function(Be){Ie(Be)})},_e.onclose=function(Ce){ge.debug&&ce.debug("websocketRequest.onclose",Ce),ge.onEnd()},_e.onerror=function(Ce){ge.debug&&ce.debug("websocketRequest.onerror",Ce)},_e.onmessage=function(Ce){ge.onChunk(new Uint8Array(Ce.data))}},cancel:function(){ge.debug&&ce.debug("websocket.abort"),_e.close()}}}(he)}}},35:function(ie,oe,se){Object.defineProperty(oe,"__esModule",{value:!0}),oe.unary=void 0;var ue=se(65),ce=se(934);oe.unary=function(le,de){if(le.responseStream)throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");if(le.requestStream)throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");var he=null,ge=null,_e=ce.client(le,{host:de.host,transport:de.transport,debug:de.debug});return _e.onHeaders(function(Ae){he=Ae}),_e.onMessage(function(Ae){ge=Ae}),_e.onEnd(function(Ae,xe,Ie){de.onEnd({status:Ae,statusMessage:xe,headers:he||new ue.Metadata,message:ge,trailers:Ie})}),_e.start(de.metadata),_e.send(de.request),_e.finishSend(),{close:function(){_e.close()}}}},882:function(ie,oe){Object.defineProperty(oe,"__esModule",{value:!0}),oe.frameRequest=void 0,oe.frameRequest=function(se){var ue=se.serializeBinary(),ce=new ArrayBuffer(ue.byteLength+5);return new DataView(ce,1,4).setUint32(0,ue.length,!1),new Uint8Array(ce,5).set(ue),new Uint8Array(ce)}}},te={},function ie(oe){if(te[oe])return te[oe].exports;var se=te[oe]={exports:{}};return X[oe].call(se.exports,se,se.exports,ie),se.exports}(607);var X,te})})(grpcWebClient_umd);class AbortError extends Error{constructor(){super("The operation has been aborted"),this.message="The operation has been aborted",this.name="AbortError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}}function isAbortError(L){return typeof L=="object"&&L!==null&&L.name==="AbortError"}function throwIfAborted(L){if(L.aborted)throw new AbortError}function rethrowAbortError(L){if(isAbortError(L))throw L}function catchAbortError(L){if(!isAbortError(L))throw L}function execute(L,Z){return new Promise((X,te)=>{if(L.aborted){te(new AbortError);return}let ie,oe=!1;function se(){oe||(oe=!0,ie?.())}const ue=Z(ce=>{X(ce),se()},ce=>{te(ce),se()});if(!oe){const ce=()=>{const le=ue();le==null?te(new AbortError):le.then(()=>{te(new AbortError)},de=>{te(de)}),se()};L.addEventListener("abort",ce),ie=()=>{L.removeEventListener("abort",ce)}}})}function abortable(L,Z){if(L.aborted){const X=()=>{};Z.then(X,X)}return execute(L,(X,te)=>(Z.then(X,te),()=>{}))}function delay(L,Z){return execute(L,X=>{const te=typeof Z=="number"?Z:Z.getTime()-Date.now(),ie=setTimeout(X,te);return()=>{clearTimeout(ie)}})}function forever(L){return execute(L,()=>()=>{})}function waitForEvent(L,Z,X,te){return execute(L,ie=>{let oe,se=!1;return oe=listen(Z,X,(...ce)=>{ie(ce.length>1?ce:ce[0]),se=!0,oe?.()},te),se&&oe(),()=>{se=!0,oe?.()}})}function listen(L,Z,X,te){if(isEventTarget(L))return L.addEventListener(Z,X,te),()=>L.removeEventListener(Z,X,te);if(isJQueryStyleEventEmitter(L))return L.on(Z,X),()=>L.off(Z,X);if(isNodeStyleEventEmitter(L))return L.addListener(Z,X),()=>L.removeListener(Z,X);throw new Error("Invalid event target")}function isNodeStyleEventEmitter(L){return isFunction(L.addListener)&&isFunction(L.removeListener)}function isJQueryStyleEventEmitter(L){return isFunction(L.on)&&isFunction(L.off)}function isEventTarget(L){return isFunction(L.addEventListener)&&isFunction(L.removeEventListener)}const isFunction=L=>typeof L=="function";function all(L,Z){return new Promise((X,te)=>{if(L.aborted){te(new AbortError);return}const ie=new AbortController,oe=Z(ie.signal);if(oe.length===0){X([]);return}const se=()=>{ie.abort()};L.addEventListener("abort",se);let ue;const ce=new Array(oe.length);let le=0;function de(){le+=1,le===oe.length&&(L.removeEventListener("abort",se),ue!=null?te(ue.reason):X(ce))}for(const[he,ge]of oe.entries())ge.then(_e=>{ce[he]=_e,de()},_e=>{ie.abort(),(ue==null||!isAbortError(_e)&&isAbortError(ue.reason))&&(ue={reason:_e}),de()})})}function race(L,Z){return new Promise((X,te)=>{if(L.aborted){te(new AbortError);return}const ie=new AbortController,oe=Z(ie.signal),se=()=>{ie.abort()};L.addEventListener("abort",se);let ue=0;function ce(de){ie.abort(),ue+=1,ue===oe.length&&(L.removeEventListener("abort",se),de.status==="fulfilled"?X(de.value):te(de.reason))}let le;for(const de of oe)de.then(he=>{le==null&&(le={status:"fulfilled",value:he}),ce(le)},he=>{(le==null||!isAbortError(he)&&(le.status==="fulfilled"||isAbortError(le.reason)))&&(le={status:"rejected",reason:he}),ce(le)})})}async function retry(L,Z,X={}){const{baseMs:te=1e3,maxDelayMs:ie=3e4,onError:oe,maxAttempts:se=1/0}=X;let ue=0;const ce=()=>{ue=-1};for(;;)try{return await Z(L,ue,ce)}catch(le){if(rethrowAbortError(le),ue>=se)throw le;let de;if(ue===-1)de=0;else{const he=Math.min(ie,Math.pow(2,ue)*te);de=Math.round(he*(1+Math.random())/2)}oe&&oe(le,ue,de),de!==0&&await delay(L,de),ue+=1}}function spawn(L,Z){if(L.aborted)return Promise.reject(new AbortError);const X=[],te=new AbortController,ie=te.signal,oe=()=>{te.abort()};L.addEventListener("abort",oe);const se=()=>{L.removeEventListener("abort",oe)},ue=new Set,ce=()=>{for(const he of ue)he.abort()};ie.addEventListener("abort",ce);const le=()=>{ie.removeEventListener("abort",ce)};let de=new Promise((he,ge)=>{let _e,Ae;xe(Ie=>Z(Ie,{defer(Pe){X.push(Pe)},fork:xe})).join().then(Ie=>{te.abort(),_e={value:Ie}},Ie=>{te.abort(),(!isAbortError(Ie)||Ae==null)&&(Ae={error:Ie})});function xe(Ie){if(ie.aborted)return{abort(){},async join(){throw new AbortError}};const Pe=new AbortController,Ce=Pe.signal,Be=Ie(Ce),Ve={abort(){Pe.abort()},join:()=>Be};return ue.add(Ve),Be.catch(catchAbortError).catch(Ge=>{Ae={error:Ge},te.abort()}).finally(()=>{ue.delete(Ve),ue.size===0&&(Ae!=null?ge(Ae.error):he(_e.value))}),Ve}});return de=de.finally(()=>{se(),le();let he=Promise.resolve();for(let ge=X.length-1;ge>=0;ge--)he=he.finally(X[ge]);return he}),de}function run(L){const Z=new AbortController,X=L(Z.signal).catch(catchAbortError);return()=>(Z.abort(),X)}function proactiveRetry(L,Z,X={}){const{baseMs:te=1e3,onError:ie,maxAttempts:oe=1/0}=X;return execute(L,(se,ue)=>{const ce=new AbortController;let le=!1;const de=new Map;function he(Ae){ce.abort(),de.clear(),se(Ae)}function ge(Ae,xe){if(de.delete(xe),le&&de.size===0){ue(Ae);return}if(!isAbortError(Ae)&&ie)try{ie(Ae,xe)}catch(Ie){ce.abort(),de.clear(),ue(Ie)}}async function _e(Ae){for(let xe=0;;xe++){const Ie=Z(Ae,xe);if(de.set(xe,Ie),Ie.then(he,Be=>ge(Be,xe)),xe+1>=oe)break;const Pe=Math.pow(2,xe)*te,Ce=Math.round(Pe*(1+Math.random())/2);await delay(Ae,Ce)}le=!0}return _e(ce.signal).catch(catchAbortError),()=>{ce.abort()}})}const es=Object.freeze(Object.defineProperty({__proto__:null,AbortError,abortable,all,catchAbortError,delay,execute,forever,isAbortError,proactiveRetry,race,rethrowAbortError,retry,run,spawn,throwIfAborted,waitForEvent},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(es);var AsyncSink$1={};Object.defineProperty(AsyncSink$1,"__esModule",{value:!0});AsyncSink$1.AsyncSink=void 0;const ARRAY_VALUE="value",ARRAY_ERROR="error";class AsyncSink{constructor(){this._ended=!1,this._values=[],this._resolvers=[]}[Symbol.asyncIterator](){return this}write(Z){this._push({type:ARRAY_VALUE,value:Z})}error(Z){this._push({type:ARRAY_ERROR,error:Z})}_push(Z){if(this._ended)throw new Error("AsyncSink already ended");if(this._resolvers.length>0){const{resolve:X,reject:te}=this._resolvers.shift();Z.type===ARRAY_ERROR?te(Z.error):X({done:!1,value:Z.value})}else this._values.push(Z)}next(){if(this._values.length>0){const{type:Z,value:X,error:te}=this._values.shift();return Z===ARRAY_ERROR?Promise.reject(te):Promise.resolve({done:!1,value:X})}return this._ended?Promise.resolve({done:!0}):new Promise((Z,X)=>{this._resolvers.push({resolve:Z,reject:X})})}end(){for(;this._resolvers.length>0;)this._resolvers.shift().resolve({done:!0});this._ended=!0}}AsyncSink$1.AsyncSink=AsyncSink;var isAsyncIterable$1={};Object.defineProperty(isAsyncIterable$1,"__esModule",{value:!0});isAsyncIterable$1.isAsyncIterable=void 0;function isAsyncIterable(L){return L!=null&&Symbol.asyncIterator in L}isAsyncIterable$1.isAsyncIterable=isAsyncIterable;var convertMetadata={},base64Exports={},base64={get exports(){return base64Exports},set exports(L){base64Exports=L}};(function(L,Z){(function(X,te){L.exports=te()})(typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,function(){var X="3.7.5",te=X,ie=typeof atob=="function",oe=typeof btoa=="function",se=typeof Buffer=="function",ue=typeof TextDecoder=="function"?new TextDecoder:void 0,ce=typeof TextEncoder=="function"?new TextEncoder:void 0,le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",de=Array.prototype.slice.call(le),he=function(Ue){var qe={};return Ue.forEach(function(Xe,nt){return qe[Xe]=nt}),qe}(de),ge=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_e=String.fromCharCode.bind(String),Ae=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(Ue){return new Uint8Array(Array.prototype.slice.call(Ue,0))},xe=function(Ue){return Ue.replace(/=/g,"").replace(/[+\/]/g,function(qe){return qe=="+"?"-":"_"})},Ie=function(Ue){return Ue.replace(/[^A-Za-z0-9\+\/]/g,"")},Pe=function(Ue){for(var qe,Xe,nt,tt,Qe="",ft=Ue.length%3,rt=0;rt<Ue.length;){if((Xe=Ue.charCodeAt(rt++))>255||(nt=Ue.charCodeAt(rt++))>255||(tt=Ue.charCodeAt(rt++))>255)throw new TypeError("invalid character found");qe=Xe<<16|nt<<8|tt,Qe+=de[qe>>18&63]+de[qe>>12&63]+de[qe>>6&63]+de[qe&63]}return ft?Qe.slice(0,ft-3)+"===".substring(ft):Qe},Ce=oe?function(Ue){return btoa(Ue)}:se?function(Ue){return Buffer.from(Ue,"binary").toString("base64")}:Pe,Be=se?function(Ue){return Buffer.from(Ue).toString("base64")}:function(Ue){for(var qe=4096,Xe=[],nt=0,tt=Ue.length;nt<tt;nt+=qe)Xe.push(_e.apply(null,Ue.subarray(nt,nt+qe)));return Ce(Xe.join(""))},Ve=function(Ue,qe){return qe===void 0&&(qe=!1),qe?xe(Be(Ue)):Be(Ue)},Ge=function(Ue){if(Ue.length<2){var qe=Ue.charCodeAt(0);return qe<128?Ue:qe<2048?_e(192|qe>>>6)+_e(128|qe&63):_e(224|qe>>>12&15)+_e(128|qe>>>6&63)+_e(128|qe&63)}else{var qe=65536+(Ue.charCodeAt(0)-55296)*1024+(Ue.charCodeAt(1)-56320);return _e(240|qe>>>18&7)+_e(128|qe>>>12&63)+_e(128|qe>>>6&63)+_e(128|qe&63)}},Ke=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Je=function(Ue){return Ue.replace(Ke,Ge)},et=se?function(Ue){return Buffer.from(Ue,"utf8").toString("base64")}:ce?function(Ue){return Be(ce.encode(Ue))}:function(Ue){return Ce(Je(Ue))},at=function(Ue,qe){return qe===void 0&&(qe=!1),qe?xe(et(Ue)):et(Ue)},dt=function(Ue){return at(Ue,!0)},st=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ht=function(Ue){switch(Ue.length){case 4:var qe=(7&Ue.charCodeAt(0))<<18|(63&Ue.charCodeAt(1))<<12|(63&Ue.charCodeAt(2))<<6|63&Ue.charCodeAt(3),Xe=qe-65536;return _e((Xe>>>10)+55296)+_e((Xe&1023)+56320);case 3:return _e((15&Ue.charCodeAt(0))<<12|(63&Ue.charCodeAt(1))<<6|63&Ue.charCodeAt(2));default:return _e((31&Ue.charCodeAt(0))<<6|63&Ue.charCodeAt(1))}},Fe=function(Ue){return Ue.replace(st,ht)},pe=function(Ue){if(Ue=Ue.replace(/\s+/g,""),!ge.test(Ue))throw new TypeError("malformed base64.");Ue+="==".slice(2-(Ue.length&3));for(var qe,Xe="",nt,tt,Qe=0;Qe<Ue.length;)qe=he[Ue.charAt(Qe++)]<<18|he[Ue.charAt(Qe++)]<<12|(nt=he[Ue.charAt(Qe++)])<<6|(tt=he[Ue.charAt(Qe++)]),Xe+=nt===64?_e(qe>>16&255):tt===64?_e(qe>>16&255,qe>>8&255):_e(qe>>16&255,qe>>8&255,qe&255);return Xe},we=ie?function(Ue){return atob(Ie(Ue))}:se?function(Ue){return Buffer.from(Ue,"base64").toString("binary")}:pe,$e=se?function(Ue){return Ae(Buffer.from(Ue,"base64"))}:function(Ue){return Ae(we(Ue).split("").map(function(qe){return qe.charCodeAt(0)}))},Oe=function(Ue){return $e(Ze(Ue))},Me=se?function(Ue){return Buffer.from(Ue,"base64").toString("utf8")}:ue?function(Ue){return ue.decode($e(Ue))}:function(Ue){return Fe(we(Ue))},Ze=function(Ue){return Ie(Ue.replace(/[-_]/g,function(qe){return qe=="-"?"+":"/"}))},We=function(Ue){return Me(Ze(Ue))},Ne=function(Ue){if(typeof Ue!="string")return!1;var qe=Ue.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(qe)||!/[^\s0-9a-zA-Z\-_]/.test(qe)},ve=function(Ue){return{value:Ue,enumerable:!1,writable:!0,configurable:!0}},Le=function(){var Ue=function(qe,Xe){return Object.defineProperty(String.prototype,qe,ve(Xe))};Ue("fromBase64",function(){return We(this)}),Ue("toBase64",function(qe){return at(this,qe)}),Ue("toBase64URI",function(){return at(this,!0)}),Ue("toBase64URL",function(){return at(this,!0)}),Ue("toUint8Array",function(){return Oe(this)})},it=function(){var Ue=function(qe,Xe){return Object.defineProperty(Uint8Array.prototype,qe,ve(Xe))};Ue("toBase64",function(qe){return Ve(this,qe)}),Ue("toBase64URI",function(){return Ve(this,!0)}),Ue("toBase64URL",function(){return Ve(this,!0)})},Te=function(){Le(),it()},Ye={version:X,VERSION:te,atob:we,atobPolyfill:pe,btoa:Ce,btoaPolyfill:Pe,fromBase64:We,toBase64:at,encode:at,encodeURI:dt,encodeURL:dt,utob:Je,btou:Fe,decode:We,isValid:Ne,fromUint8Array:Ve,toUint8Array:Oe,extendString:Le,extendUint8Array:it,extendBuiltins:Te};return Ye.Base64={},Object.keys(Ye).forEach(function(Ue){return Ye.Base64[Ue]=Ye[Ue]}),Ye})})(base64);Object.defineProperty(convertMetadata,"__esModule",{value:!0});convertMetadata.convertMetadataFromGrpcWeb=convertMetadata.convertMetadataToGrpcWeb=void 0;const grpc_web_1$4=grpcWebClient_umdExports,nice_grpc_common_1$5=lib,js_base64_1=base64Exports;function convertMetadataToGrpcWeb(L){const Z=new grpc_web_1$4.grpc.Metadata;for(const[X,te]of L)for(const ie of te)Z.append(X,typeof ie=="string"?ie:js_base64_1.Base64.fromUint8Array(ie));return Z}convertMetadata.convertMetadataToGrpcWeb=convertMetadataToGrpcWeb;function convertMetadataFromGrpcWeb(L){const Z=(0,nice_grpc_common_1$5.Metadata)();for(const[X,te]of Object.entries(L.headersMap))if(X.endsWith("-bin"))for(const ie of te)for(const oe of ie.split(/,\s?/))Z.append(X,js_base64_1.Base64.toUint8Array(oe));else Z.set(X,te);return Z}convertMetadata.convertMetadataFromGrpcWeb=convertMetadataFromGrpcWeb;Object.defineProperty(createBidiStreamingMethod$1,"__esModule",{value:!0});createBidiStreamingMethod$1.createBidiStreamingMethod=void 0;const nice_grpc_common_1$4=lib,grpc_web_1$3=grpcWebClient_umdExports,abort_controller_x_1$3=require$$2,AsyncSink_1$1=AsyncSink$1,service_definitions_1$4=serviceDefinitions,isAsyncIterable_1$3=isAsyncIterable$1,convertMetadata_1$3=convertMetadata;function createBidiStreamingMethod(L,Z,X,te){const ie=(0,service_definitions_1$4.toGrpcWebMethodDefinition)(L),oe={path:L.path,requestStream:L.requestStream,responseStream:L.responseStream,options:L.options};async function*se(ce,le){if(!(0,isAsyncIterable_1$3.isAsyncIterable)(ce))throw new Error("A middleware passed invalid request to next(): expected a single message for bidirectional streaming method");const{metadata:de=(0,nice_grpc_common_1$4.Metadata)(),signal:he=new AbortController().signal,onHeader:ge,onTrailer:_e}=le,Ae=new AbortController,xe=new AsyncSink_1$1.AsyncSink,Ie=grpc_web_1$3.grpc.client(ie,{host:Z.address,transport:Z.transport});Ie.onHeaders(Be=>{ge?.((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)(Be))}),Ie.onMessage(Be=>{xe.write(Be)}),Ie.onEnd((Be,Ve,Ge)=>{_e?.((0,convertMetadata_1$3.convertMetadataFromGrpcWeb)(Ge)),Be===grpc_web_1$3.grpc.Code.OK?xe.end():xe.error(new nice_grpc_common_1$4.ClientError(L.path,+Be,Ve))}),Ie.start((0,convertMetadata_1$3.convertMetadataToGrpcWeb)(de));let Pe;pipeRequest$1(Ae.signal,ce,Ie,L).then(()=>{Ie.finishSend()},Be=>{(0,abort_controller_x_1$3.isAbortError)(Be)||(Pe=Be,Ie.close(),xe.end())});const Ce=()=>{xe.error(new abort_controller_x_1$3.AbortError),Ae.abort(),Ie.close()};he.addEventListener("abort",Ce);try{yield*xe}finally{if(Ae.abort(),he.removeEventListener("abort",Ce),(0,abort_controller_x_1$3.throwIfAborted)(he),Pe)throw Pe}}const ue=X==null?se:(ce,le)=>X({method:oe,requestStream:!0,request:ce,responseStream:!0,next:se},le);return(ce,le)=>{const he=ue(ce,{...te,...le})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const ge=await he.next();return ge.done&&ge.value!=null?await he.throw(new Error("A middleware returned a message, but expected to return void for bidirectional streaming method")):ge},return(){return he.return()},throw(ge){return he.throw(ge)}}}}}}createBidiStreamingMethod$1.createBidiStreamingMethod=createBidiStreamingMethod;async function pipeRequest$1(L,Z,X,te){for await(const ie of Z)(0,abort_controller_x_1$3.throwIfAborted)(L),X.send({serializeBinary:()=>te.requestSerialize(ie)})}var createClientStreamingMethod$1={};Object.defineProperty(createClientStreamingMethod$1,"__esModule",{value:!0});createClientStreamingMethod$1.createClientStreamingMethod=void 0;const nice_grpc_common_1$3=lib,grpc_web_1$2=grpcWebClient_umdExports,abort_controller_x_1$2=require$$2,service_definitions_1$3=serviceDefinitions,isAsyncIterable_1$2=isAsyncIterable$1,convertMetadata_1$2=convertMetadata;function createClientStreamingMethod(L,Z,X,te){const ie=(0,service_definitions_1$3.toGrpcWebMethodDefinition)(L),oe={path:L.path,requestStream:L.requestStream,responseStream:L.responseStream,options:L.options};async function*se(ce,le){if(!(0,isAsyncIterable_1$2.isAsyncIterable)(ce))throw new Error("A middleware passed invalid request to next(): expected a single message for client streaming method");const{metadata:de=(0,nice_grpc_common_1$3.Metadata)(),signal:he=new AbortController().signal,onHeader:ge,onTrailer:_e}=le;return await(0,abort_controller_x_1$2.execute)(he,(Ae,xe)=>{const Ie=new AbortController;let Pe;const Ce=grpc_web_1$2.grpc.client(ie,{host:Z.address,transport:Z.transport});return Ce.onHeaders(Be=>{ge?.((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)(Be))}),Ce.onMessage(Be=>{Pe=Be}),Ce.onEnd((Be,Ve,Ge)=>{_e?.((0,convertMetadata_1$2.convertMetadataFromGrpcWeb)(Ge)),Ie.abort(),Be===grpc_web_1$2.grpc.Code.OK?Ae(Pe):xe(new nice_grpc_common_1$3.ClientError(L.path,+Be,Ve))}),Ce.start((0,convertMetadata_1$2.convertMetadataToGrpcWeb)(de)),pipeRequest(Ie.signal,ce,Ce,L).then(()=>{Ce.finishSend()},Be=>{(0,abort_controller_x_1$2.isAbortError)(Be)||(xe(Be),Ce.close())}),()=>{Ie.abort(),Ce.close()}})}const ue=X==null?se:(ce,le)=>X({method:oe,requestStream:!0,request:ce,responseStream:!1,next:se},le);return async(ce,le)=>{const he=ue(ce,{...te,...le})[Symbol.asyncIterator]();let ge=await he.next();for(;;){if(!ge.done){ge=await he.throw(new Error("A middleware yielded a message, but expected to only return a message for client streaming method"));continue}if(ge.value==null){ge=await he.throw(new Error("A middleware returned void, but expected to return a message for client streaming method"));continue}return ge.value}}}createClientStreamingMethod$1.createClientStreamingMethod=createClientStreamingMethod;async function pipeRequest(L,Z,X,te){for await(const ie of Z)(0,abort_controller_x_1$2.throwIfAborted)(L),X.send({serializeBinary:()=>te.requestSerialize(ie)})}var createServerStreamingMethod$1={};Object.defineProperty(createServerStreamingMethod$1,"__esModule",{value:!0});createServerStreamingMethod$1.createServerStreamingMethod=void 0;const grpc_web_1$1=grpcWebClient_umdExports,abort_controller_x_1$1=require$$2,AsyncSink_1=AsyncSink$1,nice_grpc_common_1$2=lib,service_definitions_1$2=serviceDefinitions,convertMetadata_1$1=convertMetadata,isAsyncIterable_1$1=isAsyncIterable$1;function createServerStreamingMethod(L,Z,X,te){const ie=(0,service_definitions_1$2.toGrpcWebMethodDefinition)(L),oe={path:L.path,requestStream:L.requestStream,responseStream:L.responseStream,options:L.options};async function*se(ce,le){if((0,isAsyncIterable_1$1.isAsyncIterable)(ce))throw new Error("A middleware passed invalid request to next(): expected a single message for server streaming method");const{metadata:de=(0,nice_grpc_common_1$2.Metadata)(),signal:he=new AbortController().signal,onHeader:ge,onTrailer:_e}=le,Ae=new AsyncSink_1.AsyncSink,xe=grpc_web_1$1.grpc.client(ie,{host:Z.address,transport:Z.transport});xe.onHeaders(Pe=>{ge?.((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)(Pe))}),xe.onMessage(Pe=>{Ae.write(Pe)}),xe.onEnd((Pe,Ce,Be)=>{_e?.((0,convertMetadata_1$1.convertMetadataFromGrpcWeb)(Be)),Pe===grpc_web_1$1.grpc.Code.OK?Ae.end():Ae.error(new nice_grpc_common_1$2.ClientError(L.path,+Pe,Ce))}),xe.start((0,convertMetadata_1$1.convertMetadataToGrpcWeb)(de)),xe.send({serializeBinary:()=>L.requestSerialize(ce)}),xe.finishSend();const Ie=()=>{Ae.error(new abort_controller_x_1$1.AbortError),xe.close()};he.addEventListener("abort",Ie);try{yield*Ae}finally{he.removeEventListener("abort",Ie),(0,abort_controller_x_1$1.throwIfAborted)(he)}}const ue=X==null?se:(ce,le)=>X({method:oe,requestStream:!1,request:ce,responseStream:!0,next:se},le);return(ce,le)=>{const he=ue(ce,{...te,...le})[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{async next(){const ge=await he.next();return ge.done&&ge.value!=null?await he.throw(new Error("A middleware returned a message, but expected to return void for server streaming method")):ge},return(){return he.return()},throw(ge){return he.throw(ge)}}}}}}createServerStreamingMethod$1.createServerStreamingMethod=createServerStreamingMethod;var createUnaryMethod$1={};Object.defineProperty(createUnaryMethod$1,"__esModule",{value:!0});createUnaryMethod$1.createUnaryMethod=void 0;const nice_grpc_common_1$1=lib,grpc_web_1=grpcWebClient_umdExports,abort_controller_x_1=require$$2,service_definitions_1$1=serviceDefinitions,isAsyncIterable_1=isAsyncIterable$1,convertMetadata_1=convertMetadata;function createUnaryMethod(L,Z,X,te){const ie=(0,service_definitions_1$1.toGrpcWebMethodDefinition)(L),oe={path:L.path,requestStream:L.requestStream,responseStream:L.responseStream,options:L.options};async function*se(ce,le){if((0,isAsyncIterable_1.isAsyncIterable)(ce))throw new Error("A middleware passed invalid request to next(): expected a single message for unary method");const{metadata:de=(0,nice_grpc_common_1$1.Metadata)(),signal:he=new AbortController().signal,onHeader:ge,onTrailer:_e}=le;return await(0,abort_controller_x_1.execute)(he,(Ae,xe)=>{let Ie;const Pe=grpc_web_1.grpc.client(ie,{host:Z.address,transport:Z.transport});return Pe.onHeaders(Ce=>{ge?.((0,convertMetadata_1.convertMetadataFromGrpcWeb)(Ce))}),Pe.onMessage(Ce=>{Ie=Ce}),Pe.onEnd((Ce,Be,Ve)=>{_e?.((0,convertMetadata_1.convertMetadataFromGrpcWeb)(Ve)),Ce===grpc_web_1.grpc.Code.OK?Ae(Ie):xe(new nice_grpc_common_1$1.ClientError(L.path,+Ce,Be))}),Pe.start((0,convertMetadata_1.convertMetadataToGrpcWeb)(de)),Pe.send({serializeBinary:()=>L.requestSerialize(ce)}),Pe.finishSend(),()=>{Pe.close()}})}const ue=X==null?se:(ce,le)=>X({method:oe,requestStream:!1,request:ce,responseStream:!1,next:se},le);return async(ce,le)=>{const he=ue(ce,{...te,...le})[Symbol.asyncIterator]();let ge=await he.next();for(;;){if(!ge.done){ge=await he.throw(new Error("A middleware yielded a message, but expected to only return a message for unary method"));continue}if(ge.value==null){ge=await he.throw(new Error("A middleware returned void, but expected to return a message for unary method"));continue}return ge.value}}}createUnaryMethod$1.createUnaryMethod=createUnaryMethod;Object.defineProperty(ClientFactory,"__esModule",{value:!0});ClientFactory.createClient=ClientFactory.createClientFactory=void 0;const nice_grpc_common_1=lib,service_definitions_1=serviceDefinitions,createBidiStreamingMethod_1=createBidiStreamingMethod$1,createClientStreamingMethod_1=createClientStreamingMethod$1,createServerStreamingMethod_1=createServerStreamingMethod$1,createUnaryMethod_1=createUnaryMethod$1;function createClientFactory(){return createClientFactoryWithMiddleware()}ClientFactory.createClientFactory=createClientFactory;function createClient(L,Z,X){return createClientFactory().create(L,Z,X)}ClientFactory.createClient=createClient;function createClientFactoryWithMiddleware(L){return{use(Z){return createClientFactoryWithMiddleware(L==null?Z:(0,nice_grpc_common_1.composeClientMiddleware)(L,Z))},create(Z,X,te={}){const ie={},oe=Object.entries((0,service_definitions_1.normalizeServiceDefinition)(Z));for(const[se,ue]of oe){const ce={...te["*"],...te[se]};ue.requestStream?ue.responseStream?ie[se]=(0,createBidiStreamingMethod_1.createBidiStreamingMethod)(ue,X,L,ce):ie[se]=(0,createClientStreamingMethod_1.createClientStreamingMethod)(ue,X,L,ce):ue.responseStream?ie[se]=(0,createServerStreamingMethod_1.createServerStreamingMethod)(ue,X,L,ce):ie[se]=(0,createUnaryMethod_1.createUnaryMethod)(ue,X,L,ce)}return ie}}}var Client={};Object.defineProperty(Client,"__esModule",{value:!0});(function(L){var Z=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ie,oe,se,ue){ue===void 0&&(ue=se);var ce=Object.getOwnPropertyDescriptor(oe,se);(!ce||("get"in ce?!oe.__esModule:ce.writable||ce.configurable))&&(ce={enumerable:!0,get:function(){return oe[se]}}),Object.defineProperty(ie,ue,ce)}:function(ie,oe,se,ue){ue===void 0&&(ue=se),ie[ue]=oe[se]}),X=commonjsGlobal&&commonjsGlobal.__exportStar||function(ie,oe){for(var se in ie)se!=="default"&&!Object.prototype.hasOwnProperty.call(oe,se)&&Z(oe,ie,se)};Object.defineProperty(L,"__esModule",{value:!0}),L.Status=L.Metadata=L.composeClientMiddleware=L.ClientError=void 0;var te=lib;Object.defineProperty(L,"ClientError",{enumerable:!0,get:function(){return te.ClientError}}),Object.defineProperty(L,"composeClientMiddleware",{enumerable:!0,get:function(){return te.composeClientMiddleware}}),Object.defineProperty(L,"Metadata",{enumerable:!0,get:function(){return te.Metadata}}),Object.defineProperty(L,"Status",{enumerable:!0,get:function(){return te.Status}}),X(serviceDefinitions,L),X(channel,L),X(ClientFactory,L),X(Client,L)})(lib$1);function createBaseLinkedTwitterPair(){return{username:"",address:""}}var LinkedTwitterPair={encode(L,Z=_m0.Writer.create()){return L.username!==""&&Z.uint32(10).string(L.username),L.address!==""&&Z.uint32(18).string(L.address),Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseLinkedTwitterPair();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.username=X.string();continue;case 2:if(oe!=18)break;ie.address=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return LinkedTwitterPair.fromPartial(L??{})},fromPartial(L){const Z=createBaseLinkedTwitterPair();return Z.username=L.username??"",Z.address=L.address??"",Z}};function createBaseDripRequest(){return{username:"",address:""}}var DripRequest={encode(L,Z=_m0.Writer.create()){return L.username!==""&&Z.uint32(10).string(L.username),L.address!==""&&Z.uint32(18).string(L.address),Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseDripRequest();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.username=X.string();continue;case 2:if(oe!=18)break;ie.address=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return DripRequest.fromPartial(L??{})},fromPartial(L){const Z=createBaseDripRequest();return Z.username=L.username??"",Z.address=L.address??"",Z}};function createBaseDripDevRequest(){return{address:""}}var DripDevRequest={encode(L,Z=_m0.Writer.create()){return L.address!==""&&Z.uint32(10).string(L.address),Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseDripDevRequest();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.address=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return DripDevRequest.fromPartial(L??{})},fromPartial(L){const Z=createBaseDripDevRequest();return Z.address=L.address??"",Z}};function createBaseDripResponse(){return{dripTxHash:"",ecsTxHash:""}}var DripResponse={encode(L,Z=_m0.Writer.create()){return L.dripTxHash!==""&&Z.uint32(10).string(L.dripTxHash),L.ecsTxHash!==""&&Z.uint32(18).string(L.ecsTxHash),Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseDripResponse();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.dripTxHash=X.string();continue;case 2:if(oe!=18)break;ie.ecsTxHash=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return DripResponse.fromPartial(L??{})},fromPartial(L){const Z=createBaseDripResponse();return Z.dripTxHash=L.dripTxHash??"",Z.ecsTxHash=L.ecsTxHash??"",Z}};function createBaseTimeUntilDripResponse(){return{timeUntilDripMinutes:0,timeUntilDripSeconds:0}}var TimeUntilDripResponse={encode(L,Z=_m0.Writer.create()){return L.timeUntilDripMinutes!==0&&Z.uint32(9).double(L.timeUntilDripMinutes),L.timeUntilDripSeconds!==0&&Z.uint32(17).double(L.timeUntilDripSeconds),Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseTimeUntilDripResponse();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=9)break;ie.timeUntilDripMinutes=X.double();continue;case 2:if(oe!=17)break;ie.timeUntilDripSeconds=X.double();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return TimeUntilDripResponse.fromPartial(L??{})},fromPartial(L){const Z=createBaseTimeUntilDripResponse();return Z.timeUntilDripMinutes=L.timeUntilDripMinutes??0,Z.timeUntilDripSeconds=L.timeUntilDripSeconds??0,Z}};function createBaseGetLinkedTwittersRequest(){return{}}var GetLinkedTwittersRequest={encode(L,Z=_m0.Writer.create()){return Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseGetLinkedTwittersRequest();for(;X.pos<te;){const oe=X.uint32();if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return GetLinkedTwittersRequest.fromPartial(L??{})},fromPartial(L){return createBaseGetLinkedTwittersRequest()}};function createBaseGetLinkedTwittersResponse(){return{linkedTwitters:[]}}var GetLinkedTwittersResponse={encode(L,Z=_m0.Writer.create()){for(const X of L.linkedTwitters)LinkedTwitterPair.encode(X,Z.uint32(10).fork()).ldelim();return Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseGetLinkedTwittersResponse();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.linkedTwitters.push(LinkedTwitterPair.decode(X,X.uint32()));continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return GetLinkedTwittersResponse.fromPartial(L??{})},fromPartial(L){const Z=createBaseGetLinkedTwittersResponse();return Z.linkedTwitters=L.linkedTwitters?.map(X=>LinkedTwitterPair.fromPartial(X))||[],Z}};function createBaseLinkedTwitterForAddressRequest(){return{address:""}}var LinkedTwitterForAddressRequest={encode(L,Z=_m0.Writer.create()){return L.address!==""&&Z.uint32(10).string(L.address),Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseLinkedTwitterForAddressRequest();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.address=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return LinkedTwitterForAddressRequest.fromPartial(L??{})},fromPartial(L){const Z=createBaseLinkedTwitterForAddressRequest();return Z.address=L.address??"",Z}};function createBaseLinkedTwitterForAddressResponse(){return{username:""}}var LinkedTwitterForAddressResponse={encode(L,Z=_m0.Writer.create()){return L.username!==""&&Z.uint32(10).string(L.username),Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseLinkedTwitterForAddressResponse();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.username=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return LinkedTwitterForAddressResponse.fromPartial(L??{})},fromPartial(L){const Z=createBaseLinkedTwitterForAddressResponse();return Z.username=L.username??"",Z}};function createBaseLinkedAddressForTwitterRequest(){return{username:""}}var LinkedAddressForTwitterRequest={encode(L,Z=_m0.Writer.create()){return L.username!==""&&Z.uint32(10).string(L.username),Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseLinkedAddressForTwitterRequest();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.username=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return LinkedAddressForTwitterRequest.fromPartial(L??{})},fromPartial(L){const Z=createBaseLinkedAddressForTwitterRequest();return Z.username=L.username??"",Z}};function createBaseLinkedAddressForTwitterResponse(){return{address:""}}var LinkedAddressForTwitterResponse={encode(L,Z=_m0.Writer.create()){return L.address!==""&&Z.uint32(10).string(L.address),Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseLinkedAddressForTwitterResponse();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.address=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return LinkedAddressForTwitterResponse.fromPartial(L??{})},fromPartial(L){const Z=createBaseLinkedAddressForTwitterResponse();return Z.address=L.address??"",Z}};function createBaseSetLinkedTwitterRequest(){return{address:"",username:"",signature:""}}var SetLinkedTwitterRequest={encode(L,Z=_m0.Writer.create()){return L.address!==""&&Z.uint32(10).string(L.address),L.username!==""&&Z.uint32(18).string(L.username),L.signature!==""&&Z.uint32(26).string(L.signature),Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseSetLinkedTwitterRequest();for(;X.pos<te;){const oe=X.uint32();switch(oe>>>3){case 1:if(oe!=10)break;ie.address=X.string();continue;case 2:if(oe!=18)break;ie.username=X.string();continue;case 3:if(oe!=26)break;ie.signature=X.string();continue}if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return SetLinkedTwitterRequest.fromPartial(L??{})},fromPartial(L){const Z=createBaseSetLinkedTwitterRequest();return Z.address=L.address??"",Z.username=L.username??"",Z.signature=L.signature??"",Z}};function createBaseSetLinkedTwitterResponse(){return{}}var SetLinkedTwitterResponse={encode(L,Z=_m0.Writer.create()){return Z},decode(L,Z){const X=L instanceof _m0.Reader?L:_m0.Reader.create(L);let te=Z===void 0?X.len:X.pos+Z;const ie=createBaseSetLinkedTwitterResponse();for(;X.pos<te;){const oe=X.uint32();if((oe&7)==4||oe==0)break;X.skipType(oe&7)}return ie},create(L){return SetLinkedTwitterResponse.fromPartial(L??{})},fromPartial(L){return createBaseSetLinkedTwitterResponse()}},FaucetServiceDefinition={name:"FaucetService",fullName:"faucet.FaucetService",methods:{drip:{name:"Drip",requestType:DripRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},dripDev:{name:"DripDev",requestType:DripDevRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},dripVerifyTweet:{name:"DripVerifyTweet",requestType:DripRequest,requestStream:!1,responseType:DripResponse,responseStream:!1,options:{}},timeUntilDrip:{name:"TimeUntilDrip",requestType:DripRequest,requestStream:!1,responseType:TimeUntilDripResponse,responseStream:!1,options:{}},getLinkedTwitters:{name:"GetLinkedTwitters",requestType:GetLinkedTwittersRequest,requestStream:!1,responseType:GetLinkedTwittersResponse,responseStream:!1,options:{}},getLinkedTwitterForAddress:{name:"GetLinkedTwitterForAddress",requestType:LinkedTwitterForAddressRequest,requestStream:!1,responseType:LinkedTwitterForAddressResponse,responseStream:!1,options:{}},getLinkedAddressForTwitter:{name:"GetLinkedAddressForTwitter",requestType:LinkedAddressForTwitterRequest,requestStream:!1,responseType:LinkedAddressForTwitterResponse,responseStream:!1,options:{}},setLinkedTwitter:{name:"SetLinkedTwitter",requestType:SetLinkedTwitterRequest,requestStream:!1,responseType:SetLinkedTwitterResponse,responseStream:!1,options:{}}}};(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function createFaucetService(L){return lib$1.createClient(FaucetServiceDefinition,lib$1.createChannel(L))}const worldsJson={4242:{address:"0xe119348C6C50228Ab826cd51cB08Bbb9660D816A",blockNumber:31539590},17001:{address:"0x2D6E6A6430F0121d6949D743DF54730b40C5c74F",blockNumber:665316},31337:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3"}};var foundry$1={id:31337,name:"Foundry",network:"foundry",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]},public:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}};const foundry=defineChain(foundry$1);var t={name:"Lattice Testnet",id:4242,network:"lattice-testnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]},public:{http:["https://follower.testnet-chain.linfra.xyz"],webSocket:["wss://follower.testnet-chain.linfra.xyz"]}},blockExplorers:{otterscan:{name:"Otterscan",url:"https://explorer.testnet-chain.linfra.xyz"},default:{name:"Otterscan",url:"https://explorer.testnet-chain.linfra.xyz"}},faucetUrl:"https://faucet.testnet-mud-services.linfra.xyz"},r={...foundry,fees:{defaultPriorityFee:0n}};const redStone={name:"Red Stone",id:17001,network:"red-stone",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.holesky.redstone.xyz"],webSocket:["wss://rpc.holesky.redstone.xyz/ws"]},public:{http:["https://rpc.holesky.redstone.xyz"],webSocket:["wss://rpc.holesky.redstone.xyz/ws"]}},blockExplorers:{otterscan:{name:"Otterscan",url:"https://explorer.holesky.redstone.xyz"},default:{name:"Otterscan",url:"https://explorer.holesky.redstone.xyz"}},faucetUrl:"https://faucet.testnet-mud-services.linfra.xyz"},supportedChains=[r,t,redStone],worlds=worldsJson;async function getNetworkConfig(){const L=new URLSearchParams(window.location.search),Z=Number(L.get("chainId")||L.get("chainid")||"31337"),X=supportedChains.findIndex(ue=>ue.id===Z),te=supportedChains[X];if(!te)throw new Error(`Chain ${Z} not found`);const ie=worlds[te.id.toString()],oe=L.get("worldAddress")||ie?.address;if(!oe)throw new Error(`No world address found for chain ${Z}. Did you run \`mud deploy\`?`);const se=L.has("initialBlockNumber")?Number(L.get("initialBlockNumber")):ie?.blockNumber??0n;return{privateKey:be$1(),chainId:Z,chain:te,faucetServiceUrl:L.get("faucet")??te.faucetUrl,worldAddress:oe,initialBlockNumber:se}}const world=Yt(),_abi=[{inputs:[{internalType:"string",name:"resource",type:"string"},{internalType:"address",name:"caller",type:"address"}],name:"AccessDenied",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"FunctionSelectorExists",type:"error"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"FunctionSelectorNotFound",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"InvalidSelector",type:"error"},{inputs:[{internalType:"string",name:"module",type:"string"}],name:"ModuleAlreadyInstalled",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"ResourceExists",type:"error"},{inputs:[{internalType:"string",name:"resource",type:"string"}],name:"ResourceNotFound",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_DataIndexOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidDataLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidFieldNamesLength",type:"error"},{inputs:[{internalType:"uint256",name:"expected",type:"uint256"},{internalType:"uint256",name:"received",type:"uint256"}],name:"StoreCore_InvalidKeyNamesLength",type:"error"},{inputs:[],name:"StoreCore_NotDynamicField",type:"error"},{inputs:[],name:"StoreCore_NotImplemented",type:"error"},{inputs:[{internalType:"bytes32",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"StoreCore_TableAlreadyExists",type:"error"},{inputs:[{internalType:"bytes32",name:"tableId",type:"bytes32"},{internalType:"string",name:"tableIdString",type:"string"}],name:"StoreCore_TableNotFound",type:"error"},{inputs:[{internalType:"address",name:"system",type:"address"}],name:"SystemExists",type:"error"},{anonymous:!1,inputs:[],name:"HelloWorld",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"}],name:"StoreDeleteRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreEphemeralRecord",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"uint8",name:"schemaIndex",type:"uint8"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreSetField",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"table",type:"bytes32"},{indexed:!1,internalType:"bytes32[]",name:"key",type:"bytes32[]"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"StoreSetRecord",type:"event"},{inputs:[],name:"acceptTrade",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"askStart",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"bytes",name:"funcSelectorAndArgs",type:"bytes"}],name:"call",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[],name:"checkDebt",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"str",type:"string"},{internalType:"uint256",name:"num",type:"uint256"}],name:"concatenate",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"deleteRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"emitEphemeralRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"findPartner",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"finishGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getField",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getFieldLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"Schema",name:"valueSchema",type:"bytes32"},{internalType:"uint256",name:"start",type:"uint256"},{internalType:"uint256",name:"end",type:"uint256"}],name:"getFieldSlice",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"}],name:"getKeySchema",outputs:[{internalType:"Schema",name:"schema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"getRecord",outputs:[{internalType:"bytes",name:"data",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"}],name:"getValueSchema",outputs:[{internalType:"Schema",name:"schema",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"grantAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"increment",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IModule",name:"module",type:"address"},{internalType:"bytes",name:"args",type:"bytes"}],name:"installRootModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"joinGame",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"targetX",type:"uint256"},{internalType:"uint256",name:"targetY",type:"uint256"}],name:"move",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"assetKind",type:"uint8"}],name:"pickAsset",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pickCoin",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"cardId",type:"uint8"}],name:"pickFund",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"uint256",name:"byteLengthToPop",type:"uint256"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"popFromField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"bytes",name:"dataToPush",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"pushToField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"string",name:"systemFunctionName",type:"string"},{internalType:"string",name:"systemFunctionArguments",type:"string"}],name:"registerFunctionSelector",outputs:[{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes16",name:"namespace",type:"bytes16"}],name:"registerNamespace",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"bytes4",name:"worldFunctionSelector",type:"bytes4"},{internalType:"bytes4",name:"systemFunctionSelector",type:"bytes4"}],name:"registerRootFunctionSelector",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"contract IStoreHook",name:"hook",type:"address"}],name:"registerStoreHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"contract System",name:"system",type:"address"},{internalType:"bool",name:"publicAccess",type:"bool"}],name:"registerSystem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"contract ISystemHook",name:"hook",type:"address"}],name:"registerSystemHook",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"Schema",name:"keySchema",type:"bytes32"},{internalType:"Schema",name:"valueSchema",type:"bytes32"},{internalType:"string[]",name:"keyNames",type:"string[]"},{internalType:"string[]",name:"fieldNames",type:"string[]"}],name:"registerTable",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rejectTrade",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"restartGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"resourceSelector",type:"bytes32"},{internalType:"address",name:"grantee",type:"address"}],name:"revokeAccess",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"setField",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"setRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"targetPlayer",type:"bytes32"},{internalType:"uint8",name:"assetKind",type:"uint8"},{internalType:"uint32",name:"money",type:"uint32"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"table",type:"bytes32"},{internalType:"bytes32[]",name:"key",type:"bytes32[]"},{internalType:"uint8",name:"schemaIndex",type:"uint8"},{internalType:"uint256",name:"startByteIndex",type:"uint256"},{internalType:"bytes",name:"dataToSet",type:"bytes"},{internalType:"Schema",name:"valueSchema",type:"bytes32"}],name:"updateInField",outputs:[],stateMutability:"nonpayable",type:"function"}];class IWorld__factory{static createInterface(){return new Interface(_abi)}static connect(Z,X){return new Contract(Z,_abi,X)}}IWorld__factory.abi=_abi;const mudConfig=s({enums:{},modules:[{name:"UniqueEntityModule",root:!0,args:[]},{name:"KeysInTableModule",root:!0,args:[ee("Player")]},{name:"KeysWithValueModule",root:!0,args:[ee("Player")]},{name:"KeysInTableModule",root:!0,args:[ee("MapItem")]},{name:"KeysWithValueModule",root:!0,args:[ee("MapItem")]}],tables:{Counter:{keySchema:{},schema:"uint32"},Game:{keySchema:{},schema:{gameId:"uint256",startTime:"uint256",endTime:"uint256",finishTime:"uint256"}},GameState:{keySchema:{},schema:"uint32"},GameMap:{keySchema:{},schema:{width:"uint256",height:"uint256",mapArray:"bytes"}},FundCards:{keySchema:{},schema:{allCard:"uint16[72]"}},FundPool:{keySchema:{},schema:{placeHolder:"uint256",array:"uint16[9]"}},MapItem:{schema:{x:"uint256",y:"uint256"}},MapItemValue:{schema:"uint32"},IsPlayer:{dataStruct:!1,schema:"bool"},Player:{dataStruct:!0,schema:{gameId:"uint256",state:"uint32",money:"uint32",x:"uint256",y:"uint256"}},RaiseColddown:{dataStruct:!0,schema:{start:"uint256",end:"uint256"}},AssetsList:{dataStruct:!0,schema:{gpu:"int8",bitcoin:"int8",battery:"int8",leiter:"int8",gold:"int8",oil:"int8"}},OwnedCards:{schema:{array:"uint256[]"}},HasDebt:{schema:"bool"},Debt:{schema:"uint32"},Log:{dataStruct:!0,schema:"uint256"},TransactionList:{dataStruct:!0,schema:{list:"bytes32[]"}},TradeList:{dataStruct:!0,schema:{list:"bytes"}},IsTrading:{dataStruct:!1,schema:"bool"},PlayerGameResult:{dataStruct:!0,schema:{rank:"int32",points:"int32",gpu:"int8",bitcoin:"int8",battery:"int8",leiter:"int8",gold:"int8",oil:"int8"}},IsEliminated:{schema:"bool"},UnsolicitedTransaction:{dataStruct:!0,schema:{asset:"uint8",money:"uint32",to:"bytes32"}},PassiveTransaction:{dataStruct:!0,schema:{asset:"uint8",money:"uint32",from:"bytes32"}}}});async function setupNetwork(){const L=await getNetworkConfig(),Z={chain:L.chain,transport:Ee(fallback([webSocket(),http()])),pollingInterval:1e3},X=createPublicClient(Z),te=J(L.privateKey),ie=createWalletClient({...Z,account:te}),oe=new Subject,se=me({address:L.worldAddress,abi:IWorld__factory.abi,publicClient:X,walletClient:ie,onWrite:he=>oe.next(he)}),{components:ue,latestBlock$:ce,blockStorageOperations$:le,waitForTransaction:de}=await ae({world,config:mudConfig,address:L.worldAddress,publicClient:X,startBlock:BigInt(L.initialBlockNumber)});if(L.faucetServiceUrl){const he=te.address;console.info("[Dev Faucet]: Player address -> ",he);const ge=createFaucetService(L.faucetServiceUrl),_e=async()=>{const Ae=await X.getBalance({address:he});console.info(`[Dev Faucet]: Player balance -> ${Ae}`),Ae<parseEther("1")&&(console.info("[Dev Faucet]: Balance is low, dripping funds to player"),await ge.dripDev({address:he}),await ge.dripDev({address:he}))};_e(),setInterval(_e,2e4)}return{world,components:ue,playerEntity:u({address:"address"},{address:ie.account.address}),publicClient:X,walletClient:ie,latestBlock$:ce,blockStorageOperations$:le,waitForTransaction:de,worldContract:se,write$:oe.asObservable().pipe(share$1())}}async function setup(){const L=await setupNetwork(),Z=createClientComponents(L),X=createSystemCalls(L,Z);return{network:L,components:Z,systemCalls:X}}const{components,systemCalls:{checkDebt,restartGame,pay,increment,joinGame,askStart,move,pickAsset,pickFund,trade,acceptTrade,rejectTrade,finishGame,pickCoin,findPartner},network}=await setup();globalThis.ponzi={counter:0,currentPlayer:network.playerEntity,gameState:null,game:null,gameMap:null,mapItems:null,players:null,transactionList:null,percentage:0};globalThis.env={components};components.GameState.update$.subscribe(L=>{const[Z,X]=L.value;console.log("GameState updated",L,{nextValue:Z,prevValue:X}),globalThis.ponzi.gameState=Z?Z.value:null,globalThis.ponzi.gamestate_update?.(X?.value,Z?.value)});components.SyncProgress.update$.subscribe(L=>{console.log("onSyncProgressUpdate:",L),globalThis.ponzi.percentage=L.value[0].percentage,globalThis.ponzi.syncprogress_update?.(globalThis.ponzi.percentage)});components.Game.update$.subscribe(L=>{const[Z,X]=L.value;console.log("Game updated",L,{nextValue:Z,prevValue:X}),globalThis.ponzi.game=Z,globalThis.ponzi.game_update?.(X,Z)});components.Player.update$.subscribe(L=>{const[Z,X]=L.value;console.log("Player updated",L,{nextValue:Z,prevValue:X}),globalThis.ponzi.player_update?.(L)});components.GameMap.update$.subscribe(L=>{const[Z,X]=L.value;console.log("GameMap updated",{nextValue:Z,prevValue:X}),globalThis.ponzi.gameMap=Z,globalThis.ponzi.gamemap_update?.(X,Z)});components.FundPool.update$.subscribe(L=>{L.value,console.log("FundPool updated",L),globalThis.ponzi.fundpool_update?.(L)});components.MapItem.update$.subscribe(L=>{const[Z,X]=L.value;globalThis.ponzi.mapitems_update?.(X,Z)});components.IsPlayer.update$.subscribe(L=>{L.value,console.log("IsPlayer updated",L),globalThis.ponzi.isplayer_update?.(L)});components.IsEliminated.update$.subscribe(L=>{L.value,console.log("IsEliminated updated",L),globalThis.ponzi.iseliminated_update?.(L)});components.OwnedCards.update$.subscribe(L=>{L.value,console.log("OwnedCards updated",L)});components.TransactionList.update$.subscribe(L=>{const[Z,X]=L.value;console.log("TransactionList updated",L),globalThis.ponzi.transactionList=Z,globalThis.ponzi.transactionlist_update?.(L)});components.Log.update$.subscribe(L=>{L.value,console.log("Log updated",L)});components.AssetsList.update$.subscribe(L=>{L.value,console.log("AssetsList updated",L),globalThis.ponzi.assetslist_update?.(L)});components.RaiseColddown.update$.subscribe(L=>{L.value,console.log("RaiseColddown updated",L),globalThis.ponzi.raiseColddown_update?.(L)});components.PassiveTransaction.update$.subscribe(L=>{L.value,console.log("PassiveTransaction updated",L),globalThis.ponzi.passivetransaction_update?.(L)});components.TradeList.update$.subscribe(L=>{L.value,console.log("TradeList updated",L),globalThis.ponzi.tradelist_update?.(L)});components.PlayerGameResult.update$.subscribe(L=>{L.value,console.log("PlayerGameResult updated",L),globalThis.ponzi.playergameresult_update?.(L)});components.HasDebt.update$.subscribe(L=>{L.value,console.log("HasDebt updated",L),globalThis.ponzi.hasdebt_update?.(L)});components.TransactionList.update$.subscribe(L=>{L.value,console.log("TransactionList updated",L),globalThis.ponzi.transactionlist_update?.(L)});window.getPlayers=()=>components.Player.values;window.getIsPlayers=()=>components.IsPlayer.values;window.getMapItems=()=>components.MapItem.values;window.getAssetsList=()=>components.AssetsList.values;window.getTransactionList=()=>components.TransactionList.values;window.getFundPool=()=>components.FundPool.values;window.queryValue=async(L,Z)=>{const X=De(L,Z);return console.log("getValueByComAndEntity:",X),X};window.queryPlayingAssetsList=async()=>z$3([Ft(components.AssetsList),Ft(components.Player)]);window.queryResultAssetsList=async()=>z$3([Ft(components.AssetsList),Qt(components.IsEliminated)]);window.increment=async()=>{let L=await increment();return console.log("new counter value:",L),L};window.joinGame=async()=>{let L=await joinGame();return console.log("joinGame:",L),L};window.askStart=async()=>{let L=await askStart();return console.log("askStart:",L),L};window.move=async(L,Z)=>{let X=await move(L,Z);return console.log("move:",X),X};window.pickAsset=async L=>{console.log("send pickAsset:",L),await pickAsset(L)};window.pickFund=async L=>{console.log("send pickFund:",L),await pickFund(L)};window.trade=async(L,Z,X)=>{console.log("send trade:",L,X,Z),await trade(L,Z,X)};window.acceptTrade=async()=>{let L=await acceptTrade();console.log("send acceptTrade:"+L)};window.rejectTrade=async()=>{let L=await rejectTrade();console.log("send rejectTrade:"+L)};window.finishGame=async()=>{console.log("send finishGame"),await finishGame()};window.pickCoin=async()=>{console.log("send pickCoin...");let L=await pickCoin();console.log("send pickCoin data:"+L)};window.searchPartner=async()=>{console.log("send searchPartner..."),await findPartner()};window.payDebt=async()=>{console.log("send pay..."),await pay()};window.restartGame=async()=>{console.log("send restartGame..."),await restartGame()};window.checkDebt=async()=>{console.log("send checkDebt..."),await checkDebt()};{const{mount:L}=await __vitePreload(()=>import("./index-e2663064.js"),[]);console.log("============================"),L({config:mudConfig,publicClient:network.publicClient,walletClient:network.walletClient,latestBlock$:network.latestBlock$,blockStorageOperations$:network.blockStorageOperations$,worldAddress:network.worldContract.address,worldAbi:network.worldContract.abi,write$:network.write$,recsWorld:network.world})}window.mudutils={};window.mudutils.hexToArray=function(L,Z,X){const te=Array.from(K$2(X)).map((oe,se)=>oe),ie=[];for(let oe=0;oe<te.length;oe+=Number(L)){const se=te.slice(oe,oe+Number(L));ie.push(se)}return ie};export{BaseError as B,De as D,Ft as F,HttpRequestError as H,InvalidAddressError as I,P$5 as P,V$1 as V,W,call as a,concat as b,c,decodeErrorResult as d,encodeAbiParameters as e,isHex as f,getUrl$1 as g,isAddress as i,ot as o,stringify as s,t$3 as t,ut as u,ye as y};
//# sourceMappingURL=index-56766acc.js.map
